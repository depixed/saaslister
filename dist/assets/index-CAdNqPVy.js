function PV(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Bu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ge(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NO={exports:{}},wm={},RO={exports:{}},Pe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rf=Symbol.for("react.element"),kV=Symbol.for("react.portal"),OV=Symbol.for("react.fragment"),CV=Symbol.for("react.strict_mode"),NV=Symbol.for("react.profiler"),RV=Symbol.for("react.provider"),jV=Symbol.for("react.context"),DV=Symbol.for("react.forward_ref"),MV=Symbol.for("react.suspense"),$V=Symbol.for("react.memo"),LV=Symbol.for("react.lazy"),CE=Symbol.iterator;function VV(t){return t===null||typeof t!="object"?null:(t=CE&&t[CE]||t["@@iterator"],typeof t=="function"?t:null)}var jO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},DO=Object.assign,MO={};function jl(t,e,n){this.props=t,this.context=e,this.refs=MO,this.updater=n||jO}jl.prototype.isReactComponent={};jl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};jl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function $O(){}$O.prototype=jl.prototype;function Ob(t,e,n){this.props=t,this.context=e,this.refs=MO,this.updater=n||jO}var Cb=Ob.prototype=new $O;Cb.constructor=Ob;DO(Cb,jl.prototype);Cb.isPureReactComponent=!0;var NE=Array.isArray,LO=Object.prototype.hasOwnProperty,Nb={current:null},VO={key:!0,ref:!0,__self:!0,__source:!0};function FO(t,e,n){var r,i={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)LO.call(e,r)&&!VO.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Rf,type:t,key:o,ref:a,props:i,_owner:Nb.current}}function FV(t,e){return{$$typeof:Rf,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Rb(t){return typeof t=="object"&&t!==null&&t.$$typeof===Rf}function BV(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var RE=/\/+/g;function by(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BV(""+t.key):e.toString(36)}function ah(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Rf:case kV:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+by(a,0):r,NE(i)?(n="",t!=null&&(n=t.replace(RE,"$&/")+"/"),ah(i,e,n,"",function(u){return u})):i!=null&&(Rb(i)&&(i=FV(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(RE,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",NE(t))for(var s=0;s<t.length;s++){o=t[s];var l=r+by(o,s);a+=ah(o,e,n,l,i)}else if(l=VV(t),typeof l=="function")for(t=l.call(t),s=0;!(o=t.next()).done;)o=o.value,l=r+by(o,s++),a+=ah(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function bd(t,e,n){if(t==null)return t;var r=[],i=0;return ah(t,r,"","",function(o){return e.call(n,o,i++)}),r}function UV(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var En={current:null},sh={transition:null},zV={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:sh,ReactCurrentOwner:Nb};function BO(){throw Error("act(...) is not supported in production builds of React.")}Pe.Children={map:bd,forEach:function(t,e,n){bd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return bd(t,function(){e++}),e},toArray:function(t){return bd(t,function(e){return e})||[]},only:function(t){if(!Rb(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Pe.Component=jl;Pe.Fragment=OV;Pe.Profiler=NV;Pe.PureComponent=Ob;Pe.StrictMode=CV;Pe.Suspense=MV;Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zV;Pe.act=BO;Pe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=DO({},t.props),i=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Nb.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)LO.call(e,l)&&!VO.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Rf,type:t.type,key:i,ref:o,props:r,_owner:a}};Pe.createContext=function(t){return t={$$typeof:jV,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:RV,_context:t},t.Consumer=t};Pe.createElement=FO;Pe.createFactory=function(t){var e=FO.bind(null,t);return e.type=t,e};Pe.createRef=function(){return{current:null}};Pe.forwardRef=function(t){return{$$typeof:DV,render:t}};Pe.isValidElement=Rb;Pe.lazy=function(t){return{$$typeof:LV,_payload:{_status:-1,_result:t},_init:UV}};Pe.memo=function(t,e){return{$$typeof:$V,type:t,compare:e===void 0?null:e}};Pe.startTransition=function(t){var e=sh.transition;sh.transition={};try{t()}finally{sh.transition=e}};Pe.unstable_act=BO;Pe.useCallback=function(t,e){return En.current.useCallback(t,e)};Pe.useContext=function(t){return En.current.useContext(t)};Pe.useDebugValue=function(){};Pe.useDeferredValue=function(t){return En.current.useDeferredValue(t)};Pe.useEffect=function(t,e){return En.current.useEffect(t,e)};Pe.useId=function(){return En.current.useId()};Pe.useImperativeHandle=function(t,e,n){return En.current.useImperativeHandle(t,e,n)};Pe.useInsertionEffect=function(t,e){return En.current.useInsertionEffect(t,e)};Pe.useLayoutEffect=function(t,e){return En.current.useLayoutEffect(t,e)};Pe.useMemo=function(t,e){return En.current.useMemo(t,e)};Pe.useReducer=function(t,e,n){return En.current.useReducer(t,e,n)};Pe.useRef=function(t){return En.current.useRef(t)};Pe.useState=function(t){return En.current.useState(t)};Pe.useSyncExternalStore=function(t,e,n){return En.current.useSyncExternalStore(t,e,n)};Pe.useTransition=function(){return En.current.useTransition()};Pe.version="18.3.1";RO.exports=Pe;var D=RO.exports;const M=Ge(D),qV=PV({__proto__:null,default:M},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WV=D,HV=Symbol.for("react.element"),KV=Symbol.for("react.fragment"),GV=Object.prototype.hasOwnProperty,QV=WV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XV={key:!0,ref:!0,__self:!0,__source:!0};function UO(t,e,n){var r,i={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)GV.call(e,r)&&!XV.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:HV,type:t,key:o,ref:a,props:i,_owner:QV.current}}wm.Fragment=KV;wm.jsx=UO;wm.jsxs=UO;NO.exports=wm;var m=NO.exports,zO={exports:{}},Gn={},qO={exports:{}},WO={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,U){var Y=$.length;$.push(U);e:for(;0<Y;){var J=Y-1>>>1,z=$[J];if(0<i(z,U))$[J]=U,$[Y]=z,Y=J;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var U=$[0],Y=$.pop();if(Y!==U){$[0]=Y;e:for(var J=0,z=$.length,te=z>>>1;J<te;){var pe=2*(J+1)-1,ge=$[pe],Ae=pe+1,be=$[Ae];if(0>i(ge,Y))Ae<z&&0>i(be,ge)?($[J]=be,$[Ae]=Y,J=Ae):($[J]=ge,$[pe]=Y,J=pe);else if(Ae<z&&0>i(be,Y))$[J]=be,$[Ae]=Y,J=Ae;else break e}}return U}function i($,U){var Y=$.sortIndex-U.sortIndex;return Y!==0?Y:$.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,s=a.now();t.unstable_now=function(){return a.now()-s}}var l=[],u=[],c=1,f=null,h=3,p=!1,b=!1,y=!1,_=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T($){for(var U=n(u);U!==null;){if(U.callback===null)r(u);else if(U.startTime<=$)r(u),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(u)}}function I($){if(y=!1,T($),!b)if(n(l)!==null)b=!0,W(P);else{var U=n(u);U!==null&&F(I,U.startTime-$)}}function P($,U){b=!1,y&&(y=!1,E(g),g=-1),p=!0;var Y=h;try{for(T(U),f=n(l);f!==null&&(!(f.expirationTime>U)||$&&!O());){var J=f.callback;if(typeof J=="function"){f.callback=null,h=f.priorityLevel;var z=J(f.expirationTime<=U);U=t.unstable_now(),typeof z=="function"?f.callback=z:f===n(l)&&r(l),T(U)}else r(l);f=n(l)}if(f!==null)var te=!0;else{var pe=n(u);pe!==null&&F(I,pe.startTime-U),te=!1}return te}finally{f=null,h=Y,p=!1}}var C=!1,S=null,g=-1,x=5,k=-1;function O(){return!(t.unstable_now()-k<x)}function R(){if(S!==null){var $=t.unstable_now();k=$;var U=!0;try{U=S(!0,$)}finally{U?N():(C=!1,S=null)}}else C=!1}var N;if(typeof w=="function")N=function(){w(R)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,K=V.port2;V.port1.onmessage=R,N=function(){K.postMessage(null)}}else N=function(){_(R,0)};function W($){S=$,C||(C=!0,N())}function F($,U){g=_(function(){$(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){b||p||(b=!0,W(P))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var Y=h;h=U;try{return $()}finally{h=Y}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,U){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var Y=h;h=$;try{return U()}finally{h=Y}},t.unstable_scheduleCallback=function($,U,Y){var J=t.unstable_now();switch(typeof Y=="object"&&Y!==null?(Y=Y.delay,Y=typeof Y=="number"&&0<Y?J+Y:J):Y=J,$){case 1:var z=-1;break;case 2:z=250;break;case 5:z=1073741823;break;case 4:z=1e4;break;default:z=5e3}return z=Y+z,$={id:c++,callback:U,priorityLevel:$,startTime:Y,expirationTime:z,sortIndex:-1},Y>J?($.sortIndex=Y,e(u,$),n(l)===null&&$===n(u)&&(y?(E(g),g=-1):y=!0,F(I,Y-J))):($.sortIndex=z,e(l,$),b||p||(b=!0,W(P))),$},t.unstable_shouldYield=O,t.unstable_wrapCallback=function($){var U=h;return function(){var Y=h;h=U;try{return $.apply(this,arguments)}finally{h=Y}}}})(WO);qO.exports=WO;var YV=qO.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JV=D,Hn=YV;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HO=new Set,bc={};function Wa(t,e){Ys(t,e),Ys(t+"Capture",e)}function Ys(t,e){for(bc[t]=e,t=0;t<e.length;t++)HO.add(e[t])}var xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mv=Object.prototype.hasOwnProperty,ZV=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,jE={},DE={};function e4(t){return Mv.call(DE,t)?!0:Mv.call(jE,t)?!1:ZV.test(t)?DE[t]=!0:(jE[t]=!0,!1)}function t4(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function n4(t,e,n,r){if(e===null||typeof e>"u"||t4(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,n,r,i,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var en={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){en[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];en[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){en[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){en[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){en[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){en[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){en[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){en[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){en[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var jb=/[\-:]([a-z])/g;function Db(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(jb,Db);en[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(jb,Db);en[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(jb,Db);en[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){en[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});en.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){en[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Mb(t,e,n,r){var i=en.hasOwnProperty(e)?en[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(n4(e,n,i,r)&&(n=null),r||i===null?e4(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ni=JV.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,wd=Symbol.for("react.element"),xs=Symbol.for("react.portal"),Es=Symbol.for("react.fragment"),$b=Symbol.for("react.strict_mode"),$v=Symbol.for("react.profiler"),KO=Symbol.for("react.provider"),GO=Symbol.for("react.context"),Lb=Symbol.for("react.forward_ref"),Lv=Symbol.for("react.suspense"),Vv=Symbol.for("react.suspense_list"),Vb=Symbol.for("react.memo"),Wi=Symbol.for("react.lazy"),QO=Symbol.for("react.offscreen"),ME=Symbol.iterator;function vu(t){return t===null||typeof t!="object"?null:(t=ME&&t[ME]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,wy;function Uu(t){if(wy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);wy=e&&e[1]||""}return`
`+wy+t}var xy=!1;function Ey(t,e){if(!t||xy)return"";xy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(a!==1||s!==1)do if(a--,s--,0>s||i[a]!==o[s]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=s);break}}}finally{xy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Uu(t):""}function r4(t){switch(t.tag){case 5:return Uu(t.type);case 16:return Uu("Lazy");case 13:return Uu("Suspense");case 19:return Uu("SuspenseList");case 0:case 2:case 15:return t=Ey(t.type,!1),t;case 11:return t=Ey(t.type.render,!1),t;case 1:return t=Ey(t.type,!0),t;default:return""}}function Fv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Es:return"Fragment";case xs:return"Portal";case $v:return"Profiler";case $b:return"StrictMode";case Lv:return"Suspense";case Vv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case GO:return(t.displayName||"Context")+".Consumer";case KO:return(t._context.displayName||"Context")+".Provider";case Lb:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Vb:return e=t.displayName||null,e!==null?e:Fv(t.type)||"Memo";case Wi:e=t._payload,t=t._init;try{return Fv(t(e))}catch{}}return null}function i4(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fv(e);case 8:return e===$b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function To(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function XO(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function o4(t){var e=XO(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xd(t){t._valueTracker||(t._valueTracker=o4(t))}function YO(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=XO(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ch(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bv(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function $E(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=To(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function JO(t,e){e=e.checked,e!=null&&Mb(t,"checked",e,!1)}function Uv(t,e){JO(t,e);var n=To(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zv(t,e.type,n):e.hasOwnProperty("defaultValue")&&zv(t,e.type,To(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LE(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function zv(t,e,n){(e!=="number"||Ch(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var zu=Array.isArray;function $s(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+To(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function VE(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ee(92));if(zu(n)){if(1<n.length)throw Error(ee(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:To(n)}}function ZO(t,e){var n=To(e.value),r=To(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function FE(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eC(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eC(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ed,tC=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ed=Ed||document.createElement("div"),Ed.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ed.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Zu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},a4=["Webkit","ms","Moz","O"];Object.keys(Zu).forEach(function(t){a4.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zu[e]=Zu[t]})});function nC(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Zu.hasOwnProperty(t)&&Zu[t]?(""+e).trim():e+"px"}function rC(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nC(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var s4=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hv(t,e){if(e){if(s4[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Kv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gv=null;function Fb(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qv=null,Ls=null,Vs=null;function BE(t){if(t=Mf(t)){if(typeof Qv!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Im(e),Qv(t.stateNode,t.type,e))}}function iC(t){Ls?Vs?Vs.push(t):Vs=[t]:Ls=t}function oC(){if(Ls){var t=Ls,e=Vs;if(Vs=Ls=null,BE(t),e)for(t=0;t<e.length;t++)BE(e[t])}}function aC(t,e){return t(e)}function sC(){}var Ty=!1;function lC(t,e,n){if(Ty)return t(e,n);Ty=!0;try{return aC(t,e,n)}finally{Ty=!1,(Ls!==null||Vs!==null)&&(sC(),oC())}}function xc(t,e){var n=t.stateNode;if(n===null)return null;var r=Im(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ee(231,e,typeof n));return n}var Xv=!1;if(xi)try{var _u={};Object.defineProperty(_u,"passive",{get:function(){Xv=!0}}),window.addEventListener("test",_u,_u),window.removeEventListener("test",_u,_u)}catch{Xv=!1}function l4(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ec=!1,Nh=null,Rh=!1,Yv=null,u4={onError:function(t){ec=!0,Nh=t}};function c4(t,e,n,r,i,o,a,s,l){ec=!1,Nh=null,l4.apply(u4,arguments)}function f4(t,e,n,r,i,o,a,s,l){if(c4.apply(this,arguments),ec){if(ec){var u=Nh;ec=!1,Nh=null}else throw Error(ee(198));Rh||(Rh=!0,Yv=u)}}function Ha(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uC(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UE(t){if(Ha(t)!==t)throw Error(ee(188))}function d4(t){var e=t.alternate;if(!e){if(e=Ha(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return UE(i),t;if(o===r)return UE(i),e;o=o.sibling}throw Error(ee(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,s=i.child;s;){if(s===n){a=!0,n=i,r=o;break}if(s===r){a=!0,r=i,n=o;break}s=s.sibling}if(!a){for(s=o.child;s;){if(s===n){a=!0,n=o,r=i;break}if(s===r){a=!0,r=o,n=i;break}s=s.sibling}if(!a)throw Error(ee(189))}}if(n.alternate!==r)throw Error(ee(190))}if(n.tag!==3)throw Error(ee(188));return n.stateNode.current===n?t:e}function cC(t){return t=d4(t),t!==null?fC(t):null}function fC(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fC(t);if(e!==null)return e;t=t.sibling}return null}var dC=Hn.unstable_scheduleCallback,zE=Hn.unstable_cancelCallback,h4=Hn.unstable_shouldYield,p4=Hn.unstable_requestPaint,St=Hn.unstable_now,m4=Hn.unstable_getCurrentPriorityLevel,Bb=Hn.unstable_ImmediatePriority,hC=Hn.unstable_UserBlockingPriority,jh=Hn.unstable_NormalPriority,g4=Hn.unstable_LowPriority,pC=Hn.unstable_IdlePriority,xm=null,qr=null;function y4(t){if(qr&&typeof qr.onCommitFiberRoot=="function")try{qr.onCommitFiberRoot(xm,t,void 0,(t.current.flags&128)===128)}catch{}}var Ir=Math.clz32?Math.clz32:b4,v4=Math.log,_4=Math.LN2;function b4(t){return t>>>=0,t===0?32:31-(v4(t)/_4|0)|0}var Td=64,Sd=4194304;function qu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var s=a&~i;s!==0?r=qu(s):(o&=a,o!==0&&(r=qu(o)))}else a=n&~i,a!==0?r=qu(a):o!==0&&(r=qu(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ir(e),i=1<<n,r|=t[n],e&=~i;return r}function w4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function x4(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-Ir(o),s=1<<a,l=i[a];l===-1?(!(s&n)||s&r)&&(i[a]=w4(s,e)):l<=e&&(t.expiredLanes|=s),o&=~s}}function Jv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mC(){var t=Td;return Td<<=1,!(Td&4194240)&&(Td=64),t}function Sy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function jf(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ir(e),t[e]=n}function E4(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Ir(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function Ub(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ir(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ze=0;function gC(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var yC,zb,vC,_C,bC,Zv=!1,Id=[],lo=null,uo=null,co=null,Ec=new Map,Tc=new Map,Gi=[],T4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qE(t,e){switch(t){case"focusin":case"focusout":lo=null;break;case"dragenter":case"dragleave":uo=null;break;case"mouseover":case"mouseout":co=null;break;case"pointerover":case"pointerout":Ec.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tc.delete(e.pointerId)}}function bu(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=Mf(e),e!==null&&zb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function S4(t,e,n,r,i){switch(e){case"focusin":return lo=bu(lo,t,e,n,r,i),!0;case"dragenter":return uo=bu(uo,t,e,n,r,i),!0;case"mouseover":return co=bu(co,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Ec.set(o,bu(Ec.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Tc.set(o,bu(Tc.get(o)||null,t,e,n,r,i)),!0}return!1}function wC(t){var e=la(t.target);if(e!==null){var n=Ha(e);if(n!==null){if(e=n.tag,e===13){if(e=uC(n),e!==null){t.blockedOn=e,bC(t.priority,function(){vC(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=e0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Gv=r,n.target.dispatchEvent(r),Gv=null}else return e=Mf(n),e!==null&&zb(e),t.blockedOn=n,!1;e.shift()}return!0}function WE(t,e,n){lh(t)&&n.delete(e)}function I4(){Zv=!1,lo!==null&&lh(lo)&&(lo=null),uo!==null&&lh(uo)&&(uo=null),co!==null&&lh(co)&&(co=null),Ec.forEach(WE),Tc.forEach(WE)}function wu(t,e){t.blockedOn===e&&(t.blockedOn=null,Zv||(Zv=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,I4)))}function Sc(t){function e(i){return wu(i,t)}if(0<Id.length){wu(Id[0],t);for(var n=1;n<Id.length;n++){var r=Id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(lo!==null&&wu(lo,t),uo!==null&&wu(uo,t),co!==null&&wu(co,t),Ec.forEach(e),Tc.forEach(e),n=0;n<Gi.length;n++)r=Gi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gi.length&&(n=Gi[0],n.blockedOn===null);)wC(n),n.blockedOn===null&&Gi.shift()}var Fs=Ni.ReactCurrentBatchConfig,Mh=!0;function A4(t,e,n,r){var i=ze,o=Fs.transition;Fs.transition=null;try{ze=1,qb(t,e,n,r)}finally{ze=i,Fs.transition=o}}function P4(t,e,n,r){var i=ze,o=Fs.transition;Fs.transition=null;try{ze=4,qb(t,e,n,r)}finally{ze=i,Fs.transition=o}}function qb(t,e,n,r){if(Mh){var i=e0(t,e,n,r);if(i===null)Dy(t,e,r,$h,n),qE(t,r);else if(S4(i,t,e,n,r))r.stopPropagation();else if(qE(t,r),e&4&&-1<T4.indexOf(t)){for(;i!==null;){var o=Mf(i);if(o!==null&&yC(o),o=e0(t,e,n,r),o===null&&Dy(t,e,r,$h,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Dy(t,e,r,null,n)}}var $h=null;function e0(t,e,n,r){if($h=null,t=Fb(r),t=la(t),t!==null)if(e=Ha(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uC(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $h=t,null}function xC(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(m4()){case Bb:return 1;case hC:return 4;case jh:case g4:return 16;case pC:return 536870912;default:return 16}default:return 16}}var no=null,Wb=null,uh=null;function EC(){if(uh)return uh;var t,e=Wb,n=e.length,r,i="value"in no?no.value:no.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[o-r];r++);return uh=i.slice(t,1<r?1-r:void 0)}function ch(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ad(){return!0}function HE(){return!1}function Qn(t){function e(n,r,i,o,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(o):o[s]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ad:HE,this.isPropagationStopped=HE,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ad)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ad)},persist:function(){},isPersistent:Ad}),e}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hb=Qn(Dl),Df=vt({},Dl,{view:0,detail:0}),k4=Qn(Df),Iy,Ay,xu,Em=vt({},Df,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Kb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==xu&&(xu&&t.type==="mousemove"?(Iy=t.screenX-xu.screenX,Ay=t.screenY-xu.screenY):Ay=Iy=0,xu=t),Iy)},movementY:function(t){return"movementY"in t?t.movementY:Ay}}),KE=Qn(Em),O4=vt({},Em,{dataTransfer:0}),C4=Qn(O4),N4=vt({},Df,{relatedTarget:0}),Py=Qn(N4),R4=vt({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),j4=Qn(R4),D4=vt({},Dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),M4=Qn(D4),$4=vt({},Dl,{data:0}),GE=Qn($4),L4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},F4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function B4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=F4[t])?!!e[t]:!1}function Kb(){return B4}var U4=vt({},Df,{key:function(t){if(t.key){var e=L4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ch(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Kb,charCode:function(t){return t.type==="keypress"?ch(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ch(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),z4=Qn(U4),q4=vt({},Em,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),QE=Qn(q4),W4=vt({},Df,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Kb}),H4=Qn(W4),K4=vt({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),G4=Qn(K4),Q4=vt({},Em,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),X4=Qn(Q4),Y4=[9,13,27,32],Gb=xi&&"CompositionEvent"in window,tc=null;xi&&"documentMode"in document&&(tc=document.documentMode);var J4=xi&&"TextEvent"in window&&!tc,TC=xi&&(!Gb||tc&&8<tc&&11>=tc),XE=" ",YE=!1;function SC(t,e){switch(t){case"keyup":return Y4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function IC(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ts=!1;function Z4(t,e){switch(t){case"compositionend":return IC(e);case"keypress":return e.which!==32?null:(YE=!0,XE);case"textInput":return t=e.data,t===XE&&YE?null:t;default:return null}}function eF(t,e){if(Ts)return t==="compositionend"||!Gb&&SC(t,e)?(t=EC(),uh=Wb=no=null,Ts=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return TC&&e.locale!=="ko"?null:e.data;default:return null}}var tF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JE(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tF[t.type]:e==="textarea"}function AC(t,e,n,r){iC(r),e=Lh(e,"onChange"),0<e.length&&(n=new Hb("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var nc=null,Ic=null;function nF(t){LC(t,0)}function Tm(t){var e=As(t);if(YO(e))return t}function rF(t,e){if(t==="change")return e}var PC=!1;if(xi){var ky;if(xi){var Oy="oninput"in document;if(!Oy){var ZE=document.createElement("div");ZE.setAttribute("oninput","return;"),Oy=typeof ZE.oninput=="function"}ky=Oy}else ky=!1;PC=ky&&(!document.documentMode||9<document.documentMode)}function eT(){nc&&(nc.detachEvent("onpropertychange",kC),Ic=nc=null)}function kC(t){if(t.propertyName==="value"&&Tm(Ic)){var e=[];AC(e,Ic,t,Fb(t)),lC(nF,e)}}function iF(t,e,n){t==="focusin"?(eT(),nc=e,Ic=n,nc.attachEvent("onpropertychange",kC)):t==="focusout"&&eT()}function oF(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Tm(Ic)}function aF(t,e){if(t==="click")return Tm(e)}function sF(t,e){if(t==="input"||t==="change")return Tm(e)}function lF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kr=typeof Object.is=="function"?Object.is:lF;function Ac(t,e){if(kr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mv.call(e,i)||!kr(t[i],e[i]))return!1}return!0}function tT(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function nT(t,e){var n=tT(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=tT(n)}}function OC(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OC(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function CC(){for(var t=window,e=Ch();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ch(t.document)}return e}function Qb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uF(t){var e=CC(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OC(n.ownerDocument.documentElement,n)){if(r!==null&&Qb(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=nT(n,o);var a=nT(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cF=xi&&"documentMode"in document&&11>=document.documentMode,Ss=null,t0=null,rc=null,n0=!1;function rT(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;n0||Ss==null||Ss!==Ch(r)||(r=Ss,"selectionStart"in r&&Qb(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),rc&&Ac(rc,r)||(rc=r,r=Lh(t0,"onSelect"),0<r.length&&(e=new Hb("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ss)))}function Pd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Is={animationend:Pd("Animation","AnimationEnd"),animationiteration:Pd("Animation","AnimationIteration"),animationstart:Pd("Animation","AnimationStart"),transitionend:Pd("Transition","TransitionEnd")},Cy={},NC={};xi&&(NC=document.createElement("div").style,"AnimationEvent"in window||(delete Is.animationend.animation,delete Is.animationiteration.animation,delete Is.animationstart.animation),"TransitionEvent"in window||delete Is.transitionend.transition);function Sm(t){if(Cy[t])return Cy[t];if(!Is[t])return t;var e=Is[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in NC)return Cy[t]=e[n];return t}var RC=Sm("animationend"),jC=Sm("animationiteration"),DC=Sm("animationstart"),MC=Sm("transitionend"),$C=new Map,iT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function No(t,e){$C.set(t,e),Wa(e,[t])}for(var Ny=0;Ny<iT.length;Ny++){var Ry=iT[Ny],fF=Ry.toLowerCase(),dF=Ry[0].toUpperCase()+Ry.slice(1);No(fF,"on"+dF)}No(RC,"onAnimationEnd");No(jC,"onAnimationIteration");No(DC,"onAnimationStart");No("dblclick","onDoubleClick");No("focusin","onFocus");No("focusout","onBlur");No(MC,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);Wa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Wu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hF=new Set("cancel close invalid load scroll toggle".split(" ").concat(Wu));function oT(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,f4(r,e,void 0,t),t.currentTarget=null}function LC(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;oT(i,s,u),o=l}else for(a=0;a<r.length;a++){if(s=r[a],l=s.instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;oT(i,s,u),o=l}}}if(Rh)throw t=Yv,Rh=!1,Yv=null,t}function rt(t,e){var n=e[s0];n===void 0&&(n=e[s0]=new Set);var r=t+"__bubble";n.has(r)||(VC(e,t,2,!1),n.add(r))}function jy(t,e,n){var r=0;e&&(r|=4),VC(n,t,r,e)}var kd="_reactListening"+Math.random().toString(36).slice(2);function Pc(t){if(!t[kd]){t[kd]=!0,HO.forEach(function(n){n!=="selectionchange"&&(hF.has(n)||jy(n,!1,t),jy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kd]||(e[kd]=!0,jy("selectionchange",!1,e))}}function VC(t,e,n,r){switch(xC(e)){case 1:var i=A4;break;case 4:i=P4;break;default:i=qb}n=i.bind(null,e,n,t),i=void 0,!Xv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Dy(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;s!==null;){if(a=la(s),a===null)return;if(l=a.tag,l===5||l===6){r=o=a;continue e}s=s.parentNode}}r=r.return}lC(function(){var u=o,c=Fb(n),f=[];e:{var h=$C.get(t);if(h!==void 0){var p=Hb,b=t;switch(t){case"keypress":if(ch(n)===0)break e;case"keydown":case"keyup":p=z4;break;case"focusin":b="focus",p=Py;break;case"focusout":b="blur",p=Py;break;case"beforeblur":case"afterblur":p=Py;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=KE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=C4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=H4;break;case RC:case jC:case DC:p=j4;break;case MC:p=G4;break;case"scroll":p=k4;break;case"wheel":p=X4;break;case"copy":case"cut":case"paste":p=M4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=QE}var y=(e&4)!==0,_=!y&&t==="scroll",E=y?h!==null?h+"Capture":null:h;y=[];for(var w=u,T;w!==null;){T=w;var I=T.stateNode;if(T.tag===5&&I!==null&&(T=I,E!==null&&(I=xc(w,E),I!=null&&y.push(kc(w,I,T)))),_)break;w=w.return}0<y.length&&(h=new p(h,b,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Gv&&(b=n.relatedTarget||n.fromElement)&&(la(b)||b[Ei]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(b=n.relatedTarget||n.toElement,p=u,b=b?la(b):null,b!==null&&(_=Ha(b),b!==_||b.tag!==5&&b.tag!==6)&&(b=null)):(p=null,b=u),p!==b)){if(y=KE,I="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=QE,I="onPointerLeave",E="onPointerEnter",w="pointer"),_=p==null?h:As(p),T=b==null?h:As(b),h=new y(I,w+"leave",p,n,c),h.target=_,h.relatedTarget=T,I=null,la(c)===u&&(y=new y(E,w+"enter",b,n,c),y.target=T,y.relatedTarget=_,I=y),_=I,p&&b)t:{for(y=p,E=b,w=0,T=y;T;T=ls(T))w++;for(T=0,I=E;I;I=ls(I))T++;for(;0<w-T;)y=ls(y),w--;for(;0<T-w;)E=ls(E),T--;for(;w--;){if(y===E||E!==null&&y===E.alternate)break t;y=ls(y),E=ls(E)}y=null}else y=null;p!==null&&aT(f,h,p,y,!1),b!==null&&_!==null&&aT(f,_,b,y,!0)}}e:{if(h=u?As(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var P=rF;else if(JE(h))if(PC)P=sF;else{P=oF;var C=iF}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(P=aF);if(P&&(P=P(t,u))){AC(f,P,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&zv(h,"number",h.value)}switch(C=u?As(u):window,t){case"focusin":(JE(C)||C.contentEditable==="true")&&(Ss=C,t0=u,rc=null);break;case"focusout":rc=t0=Ss=null;break;case"mousedown":n0=!0;break;case"contextmenu":case"mouseup":case"dragend":n0=!1,rT(f,n,c);break;case"selectionchange":if(cF)break;case"keydown":case"keyup":rT(f,n,c)}var S;if(Gb)e:{switch(t){case"compositionstart":var g="onCompositionStart";break e;case"compositionend":g="onCompositionEnd";break e;case"compositionupdate":g="onCompositionUpdate";break e}g=void 0}else Ts?SC(t,n)&&(g="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(g="onCompositionStart");g&&(TC&&n.locale!=="ko"&&(Ts||g!=="onCompositionStart"?g==="onCompositionEnd"&&Ts&&(S=EC()):(no=c,Wb="value"in no?no.value:no.textContent,Ts=!0)),C=Lh(u,g),0<C.length&&(g=new GE(g,t,null,n,c),f.push({event:g,listeners:C}),S?g.data=S:(S=IC(n),S!==null&&(g.data=S)))),(S=J4?Z4(t,n):eF(t,n))&&(u=Lh(u,"onBeforeInput"),0<u.length&&(c=new GE("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}LC(f,e)})}function kc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Lh(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=xc(t,n),o!=null&&r.unshift(kc(t,o,i)),o=xc(t,e),o!=null&&r.push(kc(t,o,i))),t=t.return}return r}function ls(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aT(t,e,n,r,i){for(var o=e._reactName,a=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=xc(n,o),l!=null&&a.unshift(kc(n,l,s))):i||(l=xc(n,o),l!=null&&a.push(kc(n,l,s)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var pF=/\r\n?/g,mF=/\u0000|\uFFFD/g;function sT(t){return(typeof t=="string"?t:""+t).replace(pF,`
`).replace(mF,"")}function Od(t,e,n){if(e=sT(e),sT(t)!==e&&n)throw Error(ee(425))}function Vh(){}var r0=null,i0=null;function o0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var a0=typeof setTimeout=="function"?setTimeout:void 0,gF=typeof clearTimeout=="function"?clearTimeout:void 0,lT=typeof Promise=="function"?Promise:void 0,yF=typeof queueMicrotask=="function"?queueMicrotask:typeof lT<"u"?function(t){return lT.resolve(null).then(t).catch(vF)}:a0;function vF(t){setTimeout(function(){throw t})}function My(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Sc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Sc(e)}function fo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ml=Math.random().toString(36).slice(2),Vr="__reactFiber$"+Ml,Oc="__reactProps$"+Ml,Ei="__reactContainer$"+Ml,s0="__reactEvents$"+Ml,_F="__reactListeners$"+Ml,bF="__reactHandles$"+Ml;function la(t){var e=t[Vr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ei]||n[Vr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=uT(t);t!==null;){if(n=t[Vr])return n;t=uT(t)}return e}t=n,n=t.parentNode}return null}function Mf(t){return t=t[Vr]||t[Ei],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function As(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Im(t){return t[Oc]||null}var l0=[],Ps=-1;function Ro(t){return{current:t}}function at(t){0>Ps||(t.current=l0[Ps],l0[Ps]=null,Ps--)}function et(t,e){Ps++,l0[Ps]=t.current,t.current=e}var So={},dn=Ro(So),Cn=Ro(!1),Ea=So;function Js(t,e){var n=t.type.contextTypes;if(!n)return So;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Nn(t){return t=t.childContextTypes,t!=null}function Fh(){at(Cn),at(dn)}function cT(t,e,n){if(dn.current!==So)throw Error(ee(168));et(dn,e),et(Cn,n)}function FC(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ee(108,i4(t)||"Unknown",i));return vt({},n,r)}function Bh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||So,Ea=dn.current,et(dn,t),et(Cn,Cn.current),!0}function fT(t,e,n){var r=t.stateNode;if(!r)throw Error(ee(169));n?(t=FC(t,e,Ea),r.__reactInternalMemoizedMergedChildContext=t,at(Cn),at(dn),et(dn,t)):at(Cn),et(Cn,n)}var oi=null,Am=!1,$y=!1;function BC(t){oi===null?oi=[t]:oi.push(t)}function wF(t){Am=!0,BC(t)}function jo(){if(!$y&&oi!==null){$y=!0;var t=0,e=ze;try{var n=oi;for(ze=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}oi=null,Am=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),dC(Bb,jo),i}finally{ze=e,$y=!1}}return null}var ks=[],Os=0,Uh=null,zh=0,er=[],tr=0,Ta=null,ai=1,si="";function Yo(t,e){ks[Os++]=zh,ks[Os++]=Uh,Uh=t,zh=e}function UC(t,e,n){er[tr++]=ai,er[tr++]=si,er[tr++]=Ta,Ta=t;var r=ai;t=si;var i=32-Ir(r)-1;r&=~(1<<i),n+=1;var o=32-Ir(e)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,ai=1<<32-Ir(e)+i|n<<i|r,si=o+t}else ai=1<<o|n<<i|r,si=t}function Xb(t){t.return!==null&&(Yo(t,1),UC(t,1,0))}function Yb(t){for(;t===Uh;)Uh=ks[--Os],ks[Os]=null,zh=ks[--Os],ks[Os]=null;for(;t===Ta;)Ta=er[--tr],er[tr]=null,si=er[--tr],er[tr]=null,ai=er[--tr],er[tr]=null}var qn=null,Un=null,ut=!1,Er=null;function zC(t,e){var n=nr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function dT(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,qn=t,Un=fo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,qn=t,Un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ta!==null?{id:ai,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,qn=t,Un=null,!0):!1;default:return!1}}function u0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function c0(t){if(ut){var e=Un;if(e){var n=e;if(!dT(t,e)){if(u0(t))throw Error(ee(418));e=fo(n.nextSibling);var r=qn;e&&dT(t,e)?zC(r,n):(t.flags=t.flags&-4097|2,ut=!1,qn=t)}}else{if(u0(t))throw Error(ee(418));t.flags=t.flags&-4097|2,ut=!1,qn=t}}}function hT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;qn=t}function Cd(t){if(t!==qn)return!1;if(!ut)return hT(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!o0(t.type,t.memoizedProps)),e&&(e=Un)){if(u0(t))throw qC(),Error(ee(418));for(;e;)zC(t,e),e=fo(e.nextSibling)}if(hT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Un=fo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Un=null}}else Un=qn?fo(t.stateNode.nextSibling):null;return!0}function qC(){for(var t=Un;t;)t=fo(t.nextSibling)}function Zs(){Un=qn=null,ut=!1}function Jb(t){Er===null?Er=[t]:Er.push(t)}var xF=Ni.ReactCurrentBatchConfig;function Eu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ee(309));var r=n.stateNode}if(!r)throw Error(ee(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var s=i.refs;a===null?delete s[o]:s[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(ee(284));if(!n._owner)throw Error(ee(290,t))}return t}function Nd(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pT(t){var e=t._init;return e(t._payload)}function WC(t){function e(E,w){if(t){var T=E.deletions;T===null?(E.deletions=[w],E.flags|=16):T.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function r(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function i(E,w){return E=go(E,w),E.index=0,E.sibling=null,E}function o(E,w,T){return E.index=T,t?(T=E.alternate,T!==null?(T=T.index,T<w?(E.flags|=2,w):T):(E.flags|=2,w)):(E.flags|=1048576,w)}function a(E){return t&&E.alternate===null&&(E.flags|=2),E}function s(E,w,T,I){return w===null||w.tag!==6?(w=qy(T,E.mode,I),w.return=E,w):(w=i(w,T),w.return=E,w)}function l(E,w,T,I){var P=T.type;return P===Es?c(E,w,T.props.children,I,T.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wi&&pT(P)===w.type)?(I=i(w,T.props),I.ref=Eu(E,w,T),I.return=E,I):(I=yh(T.type,T.key,T.props,null,E.mode,I),I.ref=Eu(E,w,T),I.return=E,I)}function u(E,w,T,I){return w===null||w.tag!==4||w.stateNode.containerInfo!==T.containerInfo||w.stateNode.implementation!==T.implementation?(w=Wy(T,E.mode,I),w.return=E,w):(w=i(w,T.children||[]),w.return=E,w)}function c(E,w,T,I,P){return w===null||w.tag!==7?(w=ya(T,E.mode,I,P),w.return=E,w):(w=i(w,T),w.return=E,w)}function f(E,w,T){if(typeof w=="string"&&w!==""||typeof w=="number")return w=qy(""+w,E.mode,T),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case wd:return T=yh(w.type,w.key,w.props,null,E.mode,T),T.ref=Eu(E,null,w),T.return=E,T;case xs:return w=Wy(w,E.mode,T),w.return=E,w;case Wi:var I=w._init;return f(E,I(w._payload),T)}if(zu(w)||vu(w))return w=ya(w,E.mode,T,null),w.return=E,w;Nd(E,w)}return null}function h(E,w,T,I){var P=w!==null?w.key:null;if(typeof T=="string"&&T!==""||typeof T=="number")return P!==null?null:s(E,w,""+T,I);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case wd:return T.key===P?l(E,w,T,I):null;case xs:return T.key===P?u(E,w,T,I):null;case Wi:return P=T._init,h(E,w,P(T._payload),I)}if(zu(T)||vu(T))return P!==null?null:c(E,w,T,I,null);Nd(E,T)}return null}function p(E,w,T,I,P){if(typeof I=="string"&&I!==""||typeof I=="number")return E=E.get(T)||null,s(w,E,""+I,P);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case wd:return E=E.get(I.key===null?T:I.key)||null,l(w,E,I,P);case xs:return E=E.get(I.key===null?T:I.key)||null,u(w,E,I,P);case Wi:var C=I._init;return p(E,w,T,C(I._payload),P)}if(zu(I)||vu(I))return E=E.get(T)||null,c(w,E,I,P,null);Nd(w,I)}return null}function b(E,w,T,I){for(var P=null,C=null,S=w,g=w=0,x=null;S!==null&&g<T.length;g++){S.index>g?(x=S,S=null):x=S.sibling;var k=h(E,S,T[g],I);if(k===null){S===null&&(S=x);break}t&&S&&k.alternate===null&&e(E,S),w=o(k,w,g),C===null?P=k:C.sibling=k,C=k,S=x}if(g===T.length)return n(E,S),ut&&Yo(E,g),P;if(S===null){for(;g<T.length;g++)S=f(E,T[g],I),S!==null&&(w=o(S,w,g),C===null?P=S:C.sibling=S,C=S);return ut&&Yo(E,g),P}for(S=r(E,S);g<T.length;g++)x=p(S,E,g,T[g],I),x!==null&&(t&&x.alternate!==null&&S.delete(x.key===null?g:x.key),w=o(x,w,g),C===null?P=x:C.sibling=x,C=x);return t&&S.forEach(function(O){return e(E,O)}),ut&&Yo(E,g),P}function y(E,w,T,I){var P=vu(T);if(typeof P!="function")throw Error(ee(150));if(T=P.call(T),T==null)throw Error(ee(151));for(var C=P=null,S=w,g=w=0,x=null,k=T.next();S!==null&&!k.done;g++,k=T.next()){S.index>g?(x=S,S=null):x=S.sibling;var O=h(E,S,k.value,I);if(O===null){S===null&&(S=x);break}t&&S&&O.alternate===null&&e(E,S),w=o(O,w,g),C===null?P=O:C.sibling=O,C=O,S=x}if(k.done)return n(E,S),ut&&Yo(E,g),P;if(S===null){for(;!k.done;g++,k=T.next())k=f(E,k.value,I),k!==null&&(w=o(k,w,g),C===null?P=k:C.sibling=k,C=k);return ut&&Yo(E,g),P}for(S=r(E,S);!k.done;g++,k=T.next())k=p(S,E,g,k.value,I),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?g:k.key),w=o(k,w,g),C===null?P=k:C.sibling=k,C=k);return t&&S.forEach(function(R){return e(E,R)}),ut&&Yo(E,g),P}function _(E,w,T,I){if(typeof T=="object"&&T!==null&&T.type===Es&&T.key===null&&(T=T.props.children),typeof T=="object"&&T!==null){switch(T.$$typeof){case wd:e:{for(var P=T.key,C=w;C!==null;){if(C.key===P){if(P=T.type,P===Es){if(C.tag===7){n(E,C.sibling),w=i(C,T.props.children),w.return=E,E=w;break e}}else if(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Wi&&pT(P)===C.type){n(E,C.sibling),w=i(C,T.props),w.ref=Eu(E,C,T),w.return=E,E=w;break e}n(E,C);break}else e(E,C);C=C.sibling}T.type===Es?(w=ya(T.props.children,E.mode,I,T.key),w.return=E,E=w):(I=yh(T.type,T.key,T.props,null,E.mode,I),I.ref=Eu(E,w,T),I.return=E,E=I)}return a(E);case xs:e:{for(C=T.key;w!==null;){if(w.key===C)if(w.tag===4&&w.stateNode.containerInfo===T.containerInfo&&w.stateNode.implementation===T.implementation){n(E,w.sibling),w=i(w,T.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=Wy(T,E.mode,I),w.return=E,E=w}return a(E);case Wi:return C=T._init,_(E,w,C(T._payload),I)}if(zu(T))return b(E,w,T,I);if(vu(T))return y(E,w,T,I);Nd(E,T)}return typeof T=="string"&&T!==""||typeof T=="number"?(T=""+T,w!==null&&w.tag===6?(n(E,w.sibling),w=i(w,T),w.return=E,E=w):(n(E,w),w=qy(T,E.mode,I),w.return=E,E=w),a(E)):n(E,w)}return _}var el=WC(!0),HC=WC(!1),qh=Ro(null),Wh=null,Cs=null,Zb=null;function ew(){Zb=Cs=Wh=null}function tw(t){var e=qh.current;at(qh),t._currentValue=e}function f0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Bs(t,e){Wh=t,Zb=Cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Pn=!0),t.firstContext=null)}function cr(t){var e=t._currentValue;if(Zb!==t)if(t={context:t,memoizedValue:e,next:null},Cs===null){if(Wh===null)throw Error(ee(308));Cs=t,Wh.dependencies={lanes:0,firstContext:t}}else Cs=Cs.next=t;return e}var ua=null;function nw(t){ua===null?ua=[t]:ua.push(t)}function KC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,nw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ti(t,r)}function Ti(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hi=!1;function rw(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function GC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ho(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Re&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ti(t,n)}return i=r.interleaved,i===null?(e.next=e,nw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ti(t,n)}function fh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ub(t,n)}}function mT(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Hh(t,e,n,r){var i=t.updateQueue;Hi=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,a===null?o=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==a&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;a=0,c=u=l=null,s=o;do{var h=s.lane,p=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var b=t,y=s;switch(h=e,p=n,y.tag){case 1:if(b=y.payload,typeof b=="function"){f=b.call(p,f,h);break e}f=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=y.payload,h=typeof b=="function"?b.call(p,f,h):b,h==null)break e;f=vt({},f,h);break e;case 2:Hi=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else p={eventTime:p,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,a|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Ia|=a,t.lanes=a,t.memoizedState=f}}function gT(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ee(191,i));i.call(r)}}}var $f={},Wr=Ro($f),Cc=Ro($f),Nc=Ro($f);function ca(t){if(t===$f)throw Error(ee(174));return t}function iw(t,e){switch(et(Nc,e),et(Cc,t),et(Wr,$f),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Wv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Wv(e,t)}at(Wr),et(Wr,e)}function tl(){at(Wr),at(Cc),at(Nc)}function QC(t){ca(Nc.current);var e=ca(Wr.current),n=Wv(e,t.type);e!==n&&(et(Cc,t),et(Wr,n))}function ow(t){Cc.current===t&&(at(Wr),at(Cc))}var pt=Ro(0);function Kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ly=[];function aw(){for(var t=0;t<Ly.length;t++)Ly[t]._workInProgressVersionPrimary=null;Ly.length=0}var dh=Ni.ReactCurrentDispatcher,Vy=Ni.ReactCurrentBatchConfig,Sa=0,gt=null,Rt=null,zt=null,Gh=!1,ic=!1,Rc=0,EF=0;function rn(){throw Error(ee(321))}function sw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kr(t[n],e[n]))return!1;return!0}function lw(t,e,n,r,i,o){if(Sa=o,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dh.current=t===null||t.memoizedState===null?AF:PF,t=n(r,i),ic){o=0;do{if(ic=!1,Rc=0,25<=o)throw Error(ee(301));o+=1,zt=Rt=null,e.updateQueue=null,dh.current=kF,t=n(r,i)}while(ic)}if(dh.current=Qh,e=Rt!==null&&Rt.next!==null,Sa=0,zt=Rt=gt=null,Gh=!1,e)throw Error(ee(300));return t}function uw(){var t=Rc!==0;return Rc=0,t}function $r(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return zt===null?gt.memoizedState=zt=t:zt=zt.next=t,zt}function fr(){if(Rt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Rt.next;var e=zt===null?gt.memoizedState:zt.next;if(e!==null)zt=e,Rt=t;else{if(t===null)throw Error(ee(310));Rt=t,t={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},zt===null?gt.memoizedState=zt=t:zt=zt.next=t}return zt}function jc(t,e){return typeof e=="function"?e(t):e}function Fy(t){var e=fr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=Rt,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var s=a=null,l=null,u=o;do{var c=u.lane;if((Sa&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,a=r):l=l.next=f,gt.lanes|=c,Ia|=c}u=u.next}while(u!==null&&u!==o);l===null?a=r:l.next=s,kr(r,e.memoizedState)||(Pn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,gt.lanes|=o,Ia|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function By(t){var e=fr(),n=e.queue;if(n===null)throw Error(ee(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do o=t(o,a.action),a=a.next;while(a!==i);kr(o,e.memoizedState)||(Pn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function XC(){}function YC(t,e){var n=gt,r=fr(),i=e(),o=!kr(r.memoizedState,i);if(o&&(r.memoizedState=i,Pn=!0),r=r.queue,cw(eN.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||zt!==null&&zt.memoizedState.tag&1){if(n.flags|=2048,Dc(9,ZC.bind(null,n,r,i,e),void 0,null),Wt===null)throw Error(ee(349));Sa&30||JC(n,e,i)}return i}function JC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function ZC(t,e,n,r){e.value=n,e.getSnapshot=r,tN(e)&&nN(t)}function eN(t,e,n){return n(function(){tN(e)&&nN(t)})}function tN(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kr(t,n)}catch{return!0}}function nN(t){var e=Ti(t,1);e!==null&&Ar(e,t,1,-1)}function yT(t){var e=$r();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:t},e.queue=t,t=t.dispatch=IF.bind(null,gt,t),[e.memoizedState,t]}function Dc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rN(){return fr().memoizedState}function hh(t,e,n,r){var i=$r();gt.flags|=t,i.memoizedState=Dc(1|e,n,void 0,r===void 0?null:r)}function Pm(t,e,n,r){var i=fr();r=r===void 0?null:r;var o=void 0;if(Rt!==null){var a=Rt.memoizedState;if(o=a.destroy,r!==null&&sw(r,a.deps)){i.memoizedState=Dc(e,n,o,r);return}}gt.flags|=t,i.memoizedState=Dc(1|e,n,o,r)}function vT(t,e){return hh(8390656,8,t,e)}function cw(t,e){return Pm(2048,8,t,e)}function iN(t,e){return Pm(4,2,t,e)}function oN(t,e){return Pm(4,4,t,e)}function aN(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sN(t,e,n){return n=n!=null?n.concat([t]):null,Pm(4,4,aN.bind(null,e,t),n)}function fw(){}function lN(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uN(t,e){var n=fr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&sw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cN(t,e,n){return Sa&21?(kr(n,e)||(n=mC(),gt.lanes|=n,Ia|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Pn=!0),t.memoizedState=n)}function TF(t,e){var n=ze;ze=n!==0&&4>n?n:4,t(!0);var r=Vy.transition;Vy.transition={};try{t(!1),e()}finally{ze=n,Vy.transition=r}}function fN(){return fr().memoizedState}function SF(t,e,n){var r=mo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},dN(t))hN(e,n);else if(n=KC(t,e,n,r),n!==null){var i=bn();Ar(n,t,r,i),pN(n,e,r)}}function IF(t,e,n){var r=mo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(dN(t))hN(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,kr(s,a)){var l=e.interleaved;l===null?(i.next=i,nw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=KC(t,e,i,r),n!==null&&(i=bn(),Ar(n,t,r,i),pN(n,e,r))}}function dN(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function hN(t,e){ic=Gh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pN(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Ub(t,n)}}var Qh={readContext:cr,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useInsertionEffect:rn,useLayoutEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useMutableSource:rn,useSyncExternalStore:rn,useId:rn,unstable_isNewReconciler:!1},AF={readContext:cr,useCallback:function(t,e){return $r().memoizedState=[t,e===void 0?null:e],t},useContext:cr,useEffect:vT,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,hh(4194308,4,aN.bind(null,e,t),n)},useLayoutEffect:function(t,e){return hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return hh(4,2,t,e)},useMemo:function(t,e){var n=$r();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$r();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=SF.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=$r();return t={current:t},e.memoizedState=t},useState:yT,useDebugValue:fw,useDeferredValue:function(t){return $r().memoizedState=t},useTransition:function(){var t=yT(!1),e=t[0];return t=TF.bind(null,t[1]),$r().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=$r();if(ut){if(n===void 0)throw Error(ee(407));n=n()}else{if(n=e(),Wt===null)throw Error(ee(349));Sa&30||JC(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,vT(eN.bind(null,r,o,t),[t]),r.flags|=2048,Dc(9,ZC.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=$r(),e=Wt.identifierPrefix;if(ut){var n=si,r=ai;n=(r&~(1<<32-Ir(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=EF++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PF={readContext:cr,useCallback:lN,useContext:cr,useEffect:cw,useImperativeHandle:sN,useInsertionEffect:iN,useLayoutEffect:oN,useMemo:uN,useReducer:Fy,useRef:rN,useState:function(){return Fy(jc)},useDebugValue:fw,useDeferredValue:function(t){var e=fr();return cN(e,Rt.memoizedState,t)},useTransition:function(){var t=Fy(jc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:XC,useSyncExternalStore:YC,useId:fN,unstable_isNewReconciler:!1},kF={readContext:cr,useCallback:lN,useContext:cr,useEffect:cw,useImperativeHandle:sN,useInsertionEffect:iN,useLayoutEffect:oN,useMemo:uN,useReducer:By,useRef:rN,useState:function(){return By(jc)},useDebugValue:fw,useDeferredValue:function(t){var e=fr();return Rt===null?e.memoizedState=t:cN(e,Rt.memoizedState,t)},useTransition:function(){var t=By(jc)[0],e=fr().memoizedState;return[t,e]},useMutableSource:XC,useSyncExternalStore:YC,useId:fN,unstable_isNewReconciler:!1};function br(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function d0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var km={isMounted:function(t){return(t=t._reactInternals)?Ha(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=bn(),i=mo(t),o=mi(r,i);o.payload=e,n!=null&&(o.callback=n),e=ho(t,o,i),e!==null&&(Ar(e,t,i,r),fh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=bn(),i=mo(t),o=mi(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ho(t,o,i),e!==null&&(Ar(e,t,i,r),fh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=bn(),r=mo(t),i=mi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ho(t,i,r),e!==null&&(Ar(e,t,r,n),fh(e,t,r))}};function _T(t,e,n,r,i,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!Ac(n,r)||!Ac(i,o):!0}function mN(t,e,n){var r=!1,i=So,o=e.contextType;return typeof o=="object"&&o!==null?o=cr(o):(i=Nn(e)?Ea:dn.current,r=e.contextTypes,o=(r=r!=null)?Js(t,i):So),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=km,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function bT(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&km.enqueueReplaceState(e,e.state,null)}function h0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},rw(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=cr(o):(o=Nn(e)?Ea:dn.current,i.context=Js(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(d0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&km.enqueueReplaceState(i,i.state,null),Hh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function nl(t,e){try{var n="",r=e;do n+=r4(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Uy(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function p0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var OF=typeof WeakMap=="function"?WeakMap:Map;function gN(t,e,n){n=mi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Yh||(Yh=!0,T0=r),p0(t,e)},n}function yN(t,e,n){n=mi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){p0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){p0(t,e),typeof r!="function"&&(po===null?po=new Set([this]):po.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function wT(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new OF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qF.bind(null,t,e,n),e.then(t,t))}function xT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function ET(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mi(-1,1),e.tag=2,ho(n,e,1))),n.lanes|=1),t)}var CF=Ni.ReactCurrentOwner,Pn=!1;function gn(t,e,n,r){e.child=t===null?HC(e,null,n,r):el(e,t.child,n,r)}function TT(t,e,n,r,i){n=n.render;var o=e.ref;return Bs(e,i),r=lw(t,e,n,r,o,i),n=uw(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(ut&&n&&Xb(e),e.flags|=1,gn(t,e,r,i),e.child)}function ST(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!_w(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,vN(t,e,o,r,i)):(t=yh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ac,n(a,r)&&t.ref===e.ref)return Si(t,e,i)}return e.flags|=1,t=go(o,r),t.ref=e.ref,t.return=e,e.child=t}function vN(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Ac(o,r)&&t.ref===e.ref)if(Pn=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(Pn=!0);else return e.lanes=t.lanes,Si(t,e,i)}return m0(t,e,n,r,i)}function _N(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Rs,Ln),Ln|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,et(Rs,Ln),Ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,et(Rs,Ln),Ln|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,et(Rs,Ln),Ln|=r;return gn(t,e,i,n),e.child}function bN(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function m0(t,e,n,r,i){var o=Nn(n)?Ea:dn.current;return o=Js(e,o),Bs(e,i),n=lw(t,e,n,r,o,i),r=uw(),t!==null&&!Pn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Si(t,e,i)):(ut&&r&&Xb(e),e.flags|=1,gn(t,e,n,i),e.child)}function IT(t,e,n,r,i){if(Nn(n)){var o=!0;Bh(e)}else o=!1;if(Bs(e,i),e.stateNode===null)ph(t,e),mN(e,n,r),h0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;typeof u=="object"&&u!==null?u=cr(u):(u=Nn(n)?Ea:dn.current,u=Js(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==r||l!==u)&&bT(e,a,r,u),Hi=!1;var h=e.memoizedState;a.state=h,Hh(e,r,a,i),l=e.memoizedState,s!==r||h!==l||Cn.current||Hi?(typeof c=="function"&&(d0(e,n,c,r),l=e.memoizedState),(s=Hi||_T(e,n,s,r,h,l,u))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,GC(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:br(e.type,s),a.props=u,f=e.pendingProps,h=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=cr(l):(l=Nn(n)?Ea:dn.current,l=Js(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==f||h!==l)&&bT(e,a,r,l),Hi=!1,h=e.memoizedState,a.state=h,Hh(e,r,a,i);var b=e.memoizedState;s!==f||h!==b||Cn.current||Hi?(typeof p=="function"&&(d0(e,n,p,r),b=e.memoizedState),(u=Hi||_T(e,n,u,r,h,b,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=l,r=u):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return g0(t,e,n,r,o,i)}function g0(t,e,n,r,i,o){bN(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&fT(e,n,!1),Si(t,e,o);r=e.stateNode,CF.current=e;var s=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=el(e,t.child,null,o),e.child=el(e,null,s,o)):gn(t,e,s,o),e.memoizedState=r.state,i&&fT(e,n,!0),e.child}function wN(t){var e=t.stateNode;e.pendingContext?cT(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cT(t,e.context,!1),iw(t,e.containerInfo)}function AT(t,e,n,r,i){return Zs(),Jb(i),e.flags|=256,gn(t,e,n,r),e.child}var y0={dehydrated:null,treeContext:null,retryLane:0};function v0(t){return{baseLanes:t,cachePool:null,transitions:null}}function xN(t,e,n){var r=e.pendingProps,i=pt.current,o=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),et(pt,i&1),t===null)return c0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=Nm(a,r,0,null),t=ya(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=v0(n),e.memoizedState=y0,t):dw(e,a));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return NF(t,e,a,r,s,i,n);if(o){o=r.fallback,a=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=go(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?o=go(s,o):(o=ya(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?v0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=y0,r}return o=t.child,t=o.sibling,r=go(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dw(t,e){return e=Nm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Rd(t,e,n,r){return r!==null&&Jb(r),el(e,t.child,null,n),t=dw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NF(t,e,n,r,i,o,a){if(n)return e.flags&256?(e.flags&=-257,r=Uy(Error(ee(422))),Rd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Nm({mode:"visible",children:r.children},i,0,null),o=ya(o,i,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&el(e,t.child,null,a),e.child.memoizedState=v0(a),e.memoizedState=y0,o);if(!(e.mode&1))return Rd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,o=Error(ee(419)),r=Uy(o,r,void 0),Rd(t,e,a,r)}if(s=(a&t.childLanes)!==0,Pn||s){if(r=Wt,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ti(t,i),Ar(r,t,i,-1))}return vw(),r=Uy(Error(ee(421))),Rd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WF.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Un=fo(i.nextSibling),qn=e,ut=!0,Er=null,t!==null&&(er[tr++]=ai,er[tr++]=si,er[tr++]=Ta,ai=t.id,si=t.overflow,Ta=e),e=dw(e,r.children),e.flags|=4096,e)}function PT(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),f0(t.return,e,n)}function zy(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function EN(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(gn(t,e,r.children,n),r=pt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&PT(t,n,e);else if(t.tag===19)PT(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(et(pt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Kh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),zy(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Kh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}zy(e,!0,n,null,o);break;case"together":zy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function ph(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Si(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ia|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,n=go(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=go(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RF(t,e,n){switch(e.tag){case 3:wN(e),Zs();break;case 5:QC(e);break;case 1:Nn(e.type)&&Bh(e);break;case 4:iw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;et(qh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(et(pt,pt.current&1),e.flags|=128,null):n&e.child.childLanes?xN(t,e,n):(et(pt,pt.current&1),t=Si(t,e,n),t!==null?t.sibling:null);et(pt,pt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return EN(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),et(pt,pt.current),r)break;return null;case 22:case 23:return e.lanes=0,_N(t,e,n)}return Si(t,e,n)}var TN,_0,SN,IN;TN=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_0=function(){};SN=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ca(Wr.current);var o=null;switch(n){case"input":i=Bv(t,i),r=Bv(t,r),o=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),o=[];break;case"textarea":i=qv(t,i),r=qv(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Vh)}Hv(n,r);var a;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bc.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(s=i?.[u],r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&rt("scroll",t),o||s===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};IN=function(t,e,n,r){n!==r&&(e.flags|=4)};function Tu(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jF(t,e,n){var r=e.pendingProps;switch(Yb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return Nn(e.type)&&Fh(),on(e),null;case 3:return r=e.stateNode,tl(),at(Cn),at(dn),aw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Er!==null&&(A0(Er),Er=null))),_0(t,e),on(e),null;case 5:ow(e);var i=ca(Nc.current);if(n=e.type,t!==null&&e.stateNode!=null)SN(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ee(166));return on(e),null}if(t=ca(Wr.current),Cd(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Vr]=e,r[Oc]=o,t=(e.mode&1)!==0,n){case"dialog":rt("cancel",r),rt("close",r);break;case"iframe":case"object":case"embed":rt("load",r);break;case"video":case"audio":for(i=0;i<Wu.length;i++)rt(Wu[i],r);break;case"source":rt("error",r);break;case"img":case"image":case"link":rt("error",r),rt("load",r);break;case"details":rt("toggle",r);break;case"input":$E(r,o),rt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},rt("invalid",r);break;case"textarea":VE(r,o),rt("invalid",r)}Hv(n,o),i=null;for(var a in o)if(o.hasOwnProperty(a)){var s=o[a];a==="children"?typeof s=="string"?r.textContent!==s&&(o.suppressHydrationWarning!==!0&&Od(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(o.suppressHydrationWarning!==!0&&Od(r.textContent,s,t),i=["children",""+s]):bc.hasOwnProperty(a)&&s!=null&&a==="onScroll"&&rt("scroll",r)}switch(n){case"input":xd(r),LE(r,o,!0);break;case"textarea":xd(r),FE(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Vh)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eC(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Vr]=e,t[Oc]=r,TN(t,e,!1,!1),e.stateNode=t;e:{switch(a=Kv(n,r),n){case"dialog":rt("cancel",t),rt("close",t),i=r;break;case"iframe":case"object":case"embed":rt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Wu.length;i++)rt(Wu[i],t);i=r;break;case"source":rt("error",t),i=r;break;case"img":case"image":case"link":rt("error",t),rt("load",t),i=r;break;case"details":rt("toggle",t),i=r;break;case"input":$E(t,r),i=Bv(t,r),rt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),rt("invalid",t);break;case"textarea":VE(t,r),i=qv(t,r),rt("invalid",t);break;default:i=r}Hv(n,i),s=i;for(o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="style"?rC(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tC(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&wc(t,l):typeof l=="number"&&wc(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(bc.hasOwnProperty(o)?l!=null&&o==="onScroll"&&rt("scroll",t):l!=null&&Mb(t,o,l,a))}switch(n){case"input":xd(t),LE(t,r,!1);break;case"textarea":xd(t),FE(t);break;case"option":r.value!=null&&t.setAttribute("value",""+To(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?$s(t,!!r.multiple,o,!1):r.defaultValue!=null&&$s(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Vh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)IN(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ee(166));if(n=ca(Nc.current),ca(Wr.current),Cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Vr]=e,(o=r.nodeValue!==n)&&(t=qn,t!==null))switch(t.tag){case 3:Od(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Od(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Vr]=e,e.stateNode=r}return on(e),null;case 13:if(at(pt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&Un!==null&&e.mode&1&&!(e.flags&128))qC(),Zs(),e.flags|=98560,o=!1;else if(o=Cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ee(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ee(317));o[Vr]=e}else Zs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),o=!1}else Er!==null&&(A0(Er),Er=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||pt.current&1?jt===0&&(jt=3):vw())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return tl(),_0(t,e),t===null&&Pc(e.stateNode.containerInfo),on(e),null;case 10:return tw(e.type._context),on(e),null;case 17:return Nn(e.type)&&Fh(),on(e),null;case 19:if(at(pt),o=e.memoizedState,o===null)return on(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)Tu(o,!1);else{if(jt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Kh(t),a!==null){for(e.flags|=128,Tu(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return et(pt,pt.current&1|2),e.child}t=t.sibling}o.tail!==null&&St()>rl&&(e.flags|=128,r=!0,Tu(o,!1),e.lanes=4194304)}else{if(!r)if(t=Kh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Tu(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!ut)return on(e),null}else 2*St()-o.renderingStartTime>rl&&n!==1073741824&&(e.flags|=128,r=!0,Tu(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=St(),e.sibling=null,n=pt.current,et(pt,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return yw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ln&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function DF(t,e){switch(Yb(e),e.tag){case 1:return Nn(e.type)&&Fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return tl(),at(Cn),at(dn),aw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ow(e),null;case 13:if(at(pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));Zs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(pt),null;case 4:return tl(),null;case 10:return tw(e.type._context),null;case 22:case 23:return yw(),null;case 24:return null;default:return null}}var jd=!1,ln=!1,MF=typeof WeakSet=="function"?WeakSet:Set,se=null;function Ns(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){wt(t,e,r)}else n.current=null}function b0(t,e,n){try{n()}catch(r){wt(t,e,r)}}var kT=!1;function $F(t,e){if(r0=Mh,t=CC(),Qb(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(s=a+i),f!==o||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=a),h===o&&++c===r&&(l=a),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(i0={focusedElem:t,selectionRange:n},Mh=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var y=b.memoizedProps,_=b.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?y:br(e.type,y),_);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var T=e.stateNode.containerInfo;T.nodeType===1?T.textContent="":T.nodeType===9&&T.documentElement&&T.removeChild(T.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(I){wt(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return b=kT,kT=!1,b}function oc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&b0(e,n,o)}i=i.next}while(i!==r)}}function Om(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function w0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function AN(t){var e=t.alternate;e!==null&&(t.alternate=null,AN(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Vr],delete e[Oc],delete e[s0],delete e[_F],delete e[bF])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PN(t){return t.tag===5||t.tag===3||t.tag===4}function OT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PN(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function x0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Vh));else if(r!==4&&(t=t.child,t!==null))for(x0(t,e,n),t=t.sibling;t!==null;)x0(t,e,n),t=t.sibling}function E0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(E0(t,e,n),t=t.sibling;t!==null;)E0(t,e,n),t=t.sibling}var Qt=null,wr=!1;function Bi(t,e,n){for(n=n.child;n!==null;)kN(t,e,n),n=n.sibling}function kN(t,e,n){if(qr&&typeof qr.onCommitFiberUnmount=="function")try{qr.onCommitFiberUnmount(xm,n)}catch{}switch(n.tag){case 5:ln||Ns(n,e);case 6:var r=Qt,i=wr;Qt=null,Bi(t,e,n),Qt=r,wr=i,Qt!==null&&(wr?(t=Qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(wr?(t=Qt,n=n.stateNode,t.nodeType===8?My(t.parentNode,n):t.nodeType===1&&My(t,n),Sc(t)):My(Qt,n.stateNode));break;case 4:r=Qt,i=wr,Qt=n.stateNode.containerInfo,wr=!0,Bi(t,e,n),Qt=r,wr=i;break;case 0:case 11:case 14:case 15:if(!ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&b0(n,e,a),i=i.next}while(i!==r)}Bi(t,e,n);break;case 1:if(!ln&&(Ns(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){wt(n,e,s)}Bi(t,e,n);break;case 21:Bi(t,e,n);break;case 22:n.mode&1?(ln=(r=ln)||n.memoizedState!==null,Bi(t,e,n),ln=r):Bi(t,e,n);break;default:Bi(t,e,n)}}function CT(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MF),e.forEach(function(r){var i=HF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function vr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,a=e,s=a;e:for(;s!==null;){switch(s.tag){case 5:Qt=s.stateNode,wr=!1;break e;case 3:Qt=s.stateNode.containerInfo,wr=!0;break e;case 4:Qt=s.stateNode.containerInfo,wr=!0;break e}s=s.return}if(Qt===null)throw Error(ee(160));kN(o,a,i),Qt=null,wr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ON(e,t),e=e.sibling}function ON(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(vr(e,t),Mr(t),r&4){try{oc(3,t,t.return),Om(3,t)}catch(y){wt(t,t.return,y)}try{oc(5,t,t.return)}catch(y){wt(t,t.return,y)}}break;case 1:vr(e,t),Mr(t),r&512&&n!==null&&Ns(n,n.return);break;case 5:if(vr(e,t),Mr(t),r&512&&n!==null&&Ns(n,n.return),t.flags&32){var i=t.stateNode;try{wc(i,"")}catch(y){wt(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&o.type==="radio"&&o.name!=null&&JO(i,o),Kv(s,a);var u=Kv(s,o);for(a=0;a<l.length;a+=2){var c=l[a],f=l[a+1];c==="style"?rC(i,f):c==="dangerouslySetInnerHTML"?tC(i,f):c==="children"?wc(i,f):Mb(i,c,f,u)}switch(s){case"input":Uv(i,o);break;case"textarea":ZO(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?$s(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?$s(i,!!o.multiple,o.defaultValue,!0):$s(i,!!o.multiple,o.multiple?[]:"",!1))}i[Oc]=o}catch(y){wt(t,t.return,y)}}break;case 6:if(vr(e,t),Mr(t),r&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){wt(t,t.return,y)}}break;case 3:if(vr(e,t),Mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Sc(e.containerInfo)}catch(y){wt(t,t.return,y)}break;case 4:vr(e,t),Mr(t);break;case 13:vr(e,t),Mr(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(mw=St())),r&4&&CT(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(ln=(u=ln)||c,vr(e,t),ln=u):vr(e,t),Mr(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(se=t,c=t.child;c!==null;){for(f=se=c;se!==null;){switch(h=se,p=h.child,h.tag){case 0:case 11:case 14:case 15:oc(4,h,h.return);break;case 1:Ns(h,h.return);var b=h.stateNode;if(typeof b.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(y){wt(r,n,y)}}break;case 5:Ns(h,h.return);break;case 22:if(h.memoizedState!==null){RT(f);continue}}p!==null?(p.return=h,se=p):RT(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(s=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=nC("display",a))}catch(y){wt(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){wt(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:vr(e,t),Mr(t),r&4&&CT(t);break;case 21:break;default:vr(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PN(n)){var r=n;break e}n=n.return}throw Error(ee(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(wc(i,""),r.flags&=-33);var o=OT(t);E0(t,o,i);break;case 3:case 4:var a=r.stateNode.containerInfo,s=OT(t);x0(t,s,a);break;default:throw Error(ee(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LF(t,e,n){se=t,CN(t)}function CN(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var i=se,o=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||jd;if(!a){var s=i.alternate,l=s!==null&&s.memoizedState!==null||ln;s=jd;var u=ln;if(jd=a,(ln=l)&&!u)for(se=i;se!==null;)a=se,l=a.child,a.tag===22&&a.memoizedState!==null?jT(i):l!==null?(l.return=a,se=l):jT(i);for(;o!==null;)se=o,CN(o),o=o.sibling;se=i,jd=s,ln=u}NT(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,se=o):NT(t)}}function NT(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ln||Om(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:br(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&gT(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}gT(e,a,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Sc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}ln||e.flags&512&&w0(e)}catch(h){wt(e,e.return,h)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function RT(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function jT(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Om(4,e)}catch(l){wt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){wt(e,i,l)}}var o=e.return;try{w0(e)}catch(l){wt(e,o,l)}break;case 5:var a=e.return;try{w0(e)}catch(l){wt(e,a,l)}}}catch(l){wt(e,e.return,l)}if(e===t){se=null;break}var s=e.sibling;if(s!==null){s.return=e.return,se=s;break}se=e.return}}var VF=Math.ceil,Xh=Ni.ReactCurrentDispatcher,hw=Ni.ReactCurrentOwner,or=Ni.ReactCurrentBatchConfig,Re=0,Wt=null,kt=null,Zt=0,Ln=0,Rs=Ro(0),jt=0,Mc=null,Ia=0,Cm=0,pw=0,ac=null,An=null,mw=0,rl=1/0,ii=null,Yh=!1,T0=null,po=null,Dd=!1,ro=null,Jh=0,sc=0,S0=null,mh=-1,gh=0;function bn(){return Re&6?St():mh!==-1?mh:mh=St()}function mo(t){return t.mode&1?Re&2&&Zt!==0?Zt&-Zt:xF.transition!==null?(gh===0&&(gh=mC()),gh):(t=ze,t!==0||(t=window.event,t=t===void 0?16:xC(t.type)),t):1}function Ar(t,e,n,r){if(50<sc)throw sc=0,S0=null,Error(ee(185));jf(t,n,r),(!(Re&2)||t!==Wt)&&(t===Wt&&(!(Re&2)&&(Cm|=n),jt===4&&Qi(t,Zt)),Rn(t,r),n===1&&Re===0&&!(e.mode&1)&&(rl=St()+500,Am&&jo()))}function Rn(t,e){var n=t.callbackNode;x4(t,e);var r=Dh(t,t===Wt?Zt:0);if(r===0)n!==null&&zE(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&zE(n),e===1)t.tag===0?wF(DT.bind(null,t)):BC(DT.bind(null,t)),yF(function(){!(Re&6)&&jo()}),n=null;else{switch(gC(r)){case 1:n=Bb;break;case 4:n=hC;break;case 16:n=jh;break;case 536870912:n=pC;break;default:n=jh}n=VN(n,NN.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function NN(t,e){if(mh=-1,gh=0,Re&6)throw Error(ee(327));var n=t.callbackNode;if(Us()&&t.callbackNode!==n)return null;var r=Dh(t,t===Wt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Zh(t,r);else{e=r;var i=Re;Re|=2;var o=jN();(Wt!==t||Zt!==e)&&(ii=null,rl=St()+500,ga(t,e));do try{UF();break}catch(s){RN(t,s)}while(!0);ew(),Xh.current=o,Re=i,kt!==null?e=0:(Wt=null,Zt=0,e=jt)}if(e!==0){if(e===2&&(i=Jv(t),i!==0&&(r=i,e=I0(t,i))),e===1)throw n=Mc,ga(t,0),Qi(t,r),Rn(t,St()),n;if(e===6)Qi(t,r);else{if(i=t.current.alternate,!(r&30)&&!FF(i)&&(e=Zh(t,r),e===2&&(o=Jv(t),o!==0&&(r=o,e=I0(t,o))),e===1))throw n=Mc,ga(t,0),Qi(t,r),Rn(t,St()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ee(345));case 2:Jo(t,An,ii);break;case 3:if(Qi(t,r),(r&130023424)===r&&(e=mw+500-St(),10<e)){if(Dh(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){bn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=a0(Jo.bind(null,t,An,ii),e);break}Jo(t,An,ii);break;case 4:if(Qi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Ir(r);o=1<<a,a=e[a],a>i&&(i=a),r&=~o}if(r=i,r=St()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VF(r/1960))-r,10<r){t.timeoutHandle=a0(Jo.bind(null,t,An,ii),r);break}Jo(t,An,ii);break;case 5:Jo(t,An,ii);break;default:throw Error(ee(329))}}}return Rn(t,St()),t.callbackNode===n?NN.bind(null,t):null}function I0(t,e){var n=ac;return t.current.memoizedState.isDehydrated&&(ga(t,e).flags|=256),t=Zh(t,e),t!==2&&(e=An,An=n,e!==null&&A0(e)),t}function A0(t){An===null?An=t:An.push.apply(An,t)}function FF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!kr(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Qi(t,e){for(e&=~pw,e&=~Cm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ir(e),r=1<<n;t[n]=-1,e&=~r}}function DT(t){if(Re&6)throw Error(ee(327));Us();var e=Dh(t,0);if(!(e&1))return Rn(t,St()),null;var n=Zh(t,e);if(t.tag!==0&&n===2){var r=Jv(t);r!==0&&(e=r,n=I0(t,r))}if(n===1)throw n=Mc,ga(t,0),Qi(t,e),Rn(t,St()),n;if(n===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Jo(t,An,ii),Rn(t,St()),null}function gw(t,e){var n=Re;Re|=1;try{return t(e)}finally{Re=n,Re===0&&(rl=St()+500,Am&&jo())}}function Aa(t){ro!==null&&ro.tag===0&&!(Re&6)&&Us();var e=Re;Re|=1;var n=or.transition,r=ze;try{if(or.transition=null,ze=1,t)return t()}finally{ze=r,or.transition=n,Re=e,!(Re&6)&&jo()}}function yw(){Ln=Rs.current,at(Rs)}function ga(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,gF(n)),kt!==null)for(n=kt.return;n!==null;){var r=n;switch(Yb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Fh();break;case 3:tl(),at(Cn),at(dn),aw();break;case 5:ow(r);break;case 4:tl();break;case 13:at(pt);break;case 19:at(pt);break;case 10:tw(r.type._context);break;case 22:case 23:yw()}n=n.return}if(Wt=t,kt=t=go(t.current,null),Zt=Ln=e,jt=0,Mc=null,pw=Cm=Ia=0,An=ac=null,ua!==null){for(e=0;e<ua.length;e++)if(n=ua[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=i,r.next=a}n.pending=r}ua=null}return t}function RN(t,e){do{var n=kt;try{if(ew(),dh.current=Qh,Gh){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Gh=!1}if(Sa=0,zt=Rt=gt=null,ic=!1,Rc=0,hw.current=null,n===null||n.return===null){jt=1,Mc=e,kt=null;break}e:{var o=t,a=n.return,s=n,l=e;if(e=Zt,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=xT(a);if(p!==null){p.flags&=-257,ET(p,a,s,o,e),p.mode&1&&wT(o,u,e),e=p,l=u;var b=e.updateQueue;if(b===null){var y=new Set;y.add(l),e.updateQueue=y}else b.add(l);break e}else{if(!(e&1)){wT(o,u,e),vw();break e}l=Error(ee(426))}}else if(ut&&s.mode&1){var _=xT(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),ET(_,a,s,o,e),Jb(nl(l,s));break e}}o=l=nl(l,s),jt!==4&&(jt=2),ac===null?ac=[o]:ac.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=gN(o,l,e);mT(o,E);break e;case 1:s=l;var w=o.type,T=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||T!==null&&typeof T.componentDidCatch=="function"&&(po===null||!po.has(T)))){o.flags|=65536,e&=-e,o.lanes|=e;var I=yN(o,s,e);mT(o,I);break e}}o=o.return}while(o!==null)}MN(n)}catch(P){e=P,kt===n&&n!==null&&(kt=n=n.return);continue}break}while(!0)}function jN(){var t=Xh.current;return Xh.current=Qh,t===null?Qh:t}function vw(){(jt===0||jt===3||jt===2)&&(jt=4),Wt===null||!(Ia&268435455)&&!(Cm&268435455)||Qi(Wt,Zt)}function Zh(t,e){var n=Re;Re|=2;var r=jN();(Wt!==t||Zt!==e)&&(ii=null,ga(t,e));do try{BF();break}catch(i){RN(t,i)}while(!0);if(ew(),Re=n,Xh.current=r,kt!==null)throw Error(ee(261));return Wt=null,Zt=0,jt}function BF(){for(;kt!==null;)DN(kt)}function UF(){for(;kt!==null&&!h4();)DN(kt)}function DN(t){var e=LN(t.alternate,t,Ln);t.memoizedProps=t.pendingProps,e===null?MN(t):kt=e,hw.current=null}function MN(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DF(n,e),n!==null){n.flags&=32767,kt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{jt=6,kt=null;return}}else if(n=jF(n,e,Ln),n!==null){kt=n;return}if(e=e.sibling,e!==null){kt=e;return}kt=e=t}while(e!==null);jt===0&&(jt=5)}function Jo(t,e,n){var r=ze,i=or.transition;try{or.transition=null,ze=1,zF(t,e,n,r)}finally{or.transition=i,ze=r}return null}function zF(t,e,n,r){do Us();while(ro!==null);if(Re&6)throw Error(ee(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(E4(t,o),t===Wt&&(kt=Wt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dd||(Dd=!0,VN(jh,function(){return Us(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=or.transition,or.transition=null;var a=ze;ze=1;var s=Re;Re|=4,hw.current=null,$F(t,n),ON(n,t),uF(i0),Mh=!!r0,i0=r0=null,t.current=n,LF(n),p4(),Re=s,ze=a,or.transition=o}else t.current=n;if(Dd&&(Dd=!1,ro=t,Jh=i),o=t.pendingLanes,o===0&&(po=null),y4(n.stateNode),Rn(t,St()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yh)throw Yh=!1,t=T0,T0=null,t;return Jh&1&&t.tag!==0&&Us(),o=t.pendingLanes,o&1?t===S0?sc++:(sc=0,S0=t):sc=0,jo(),null}function Us(){if(ro!==null){var t=gC(Jh),e=or.transition,n=ze;try{if(or.transition=null,ze=16>t?16:t,ro===null)var r=!1;else{if(t=ro,ro=null,Jh=0,Re&6)throw Error(ee(331));var i=Re;for(Re|=4,se=t.current;se!==null;){var o=se,a=o.child;if(se.flags&16){var s=o.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(se=u;se!==null;){var c=se;switch(c.tag){case 0:case 11:case 15:oc(8,c,o)}var f=c.child;if(f!==null)f.return=c,se=f;else for(;se!==null;){c=se;var h=c.sibling,p=c.return;if(AN(c),c===u){se=null;break}if(h!==null){h.return=p,se=h;break}se=p}}}var b=o.alternate;if(b!==null){var y=b.child;if(y!==null){b.child=null;do{var _=y.sibling;y.sibling=null,y=_}while(y!==null)}}se=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,se=a;else e:for(;se!==null;){if(o=se,o.flags&2048)switch(o.tag){case 0:case 11:case 15:oc(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,se=E;break e}se=o.return}}var w=t.current;for(se=w;se!==null;){a=se;var T=a.child;if(a.subtreeFlags&2064&&T!==null)T.return=a,se=T;else e:for(a=w;se!==null;){if(s=se,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:Om(9,s)}}catch(P){wt(s,s.return,P)}if(s===a){se=null;break e}var I=s.sibling;if(I!==null){I.return=s.return,se=I;break e}se=s.return}}if(Re=i,jo(),qr&&typeof qr.onPostCommitFiberRoot=="function")try{qr.onPostCommitFiberRoot(xm,t)}catch{}r=!0}return r}finally{ze=n,or.transition=e}}return!1}function MT(t,e,n){e=nl(n,e),e=gN(t,e,1),t=ho(t,e,1),e=bn(),t!==null&&(jf(t,1,e),Rn(t,e))}function wt(t,e,n){if(t.tag===3)MT(t,t,n);else for(;e!==null;){if(e.tag===3){MT(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(po===null||!po.has(r))){t=nl(n,t),t=yN(e,t,1),e=ho(e,t,1),t=bn(),e!==null&&(jf(e,1,t),Rn(e,t));break}}e=e.return}}function qF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=bn(),t.pingedLanes|=t.suspendedLanes&n,Wt===t&&(Zt&n)===n&&(jt===4||jt===3&&(Zt&130023424)===Zt&&500>St()-mw?ga(t,0):pw|=n),Rn(t,e)}function $N(t,e){e===0&&(t.mode&1?(e=Sd,Sd<<=1,!(Sd&130023424)&&(Sd=4194304)):e=1);var n=bn();t=Ti(t,e),t!==null&&(jf(t,e,n),Rn(t,n))}function WF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),$N(t,n)}function HF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ee(314))}r!==null&&r.delete(e),$N(t,n)}var LN;LN=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cn.current)Pn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Pn=!1,RF(t,e,n);Pn=!!(t.flags&131072)}else Pn=!1,ut&&e.flags&1048576&&UC(e,zh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;ph(t,e),t=e.pendingProps;var i=Js(e,dn.current);Bs(e,n),i=lw(null,e,r,t,i,n);var o=uw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Nn(r)?(o=!0,Bh(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,rw(e),i.updater=km,e.stateNode=i,i._reactInternals=e,h0(e,r,t,n),e=g0(null,e,r,!0,o,n)):(e.tag=0,ut&&o&&Xb(e),gn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(ph(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=GF(r),t=br(r,t),i){case 0:e=m0(null,e,r,t,n);break e;case 1:e=IT(null,e,r,t,n);break e;case 11:e=TT(null,e,r,t,n);break e;case 14:e=ST(null,e,r,br(r.type,t),n);break e}throw Error(ee(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),m0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),IT(t,e,r,i,n);case 3:e:{if(wN(e),t===null)throw Error(ee(387));r=e.pendingProps,o=e.memoizedState,i=o.element,GC(t,e),Hh(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=nl(Error(ee(423)),e),e=AT(t,e,r,n,i);break e}else if(r!==i){i=nl(Error(ee(424)),e),e=AT(t,e,r,n,i);break e}else for(Un=fo(e.stateNode.containerInfo.firstChild),qn=e,ut=!0,Er=null,n=HC(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zs(),r===i){e=Si(t,e,n);break e}gn(t,e,r,n)}e=e.child}return e;case 5:return QC(e),t===null&&c0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,a=i.children,o0(r,i)?a=null:o!==null&&o0(r,o)&&(e.flags|=32),bN(t,e),gn(t,e,a,n),e.child;case 6:return t===null&&c0(e),null;case 13:return xN(t,e,n);case 4:return iw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=el(e,null,r,n):gn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),TT(t,e,r,i,n);case 7:return gn(t,e,e.pendingProps,n),e.child;case 8:return gn(t,e,e.pendingProps.children,n),e.child;case 12:return gn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,a=i.value,et(qh,r._currentValue),r._currentValue=a,o!==null)if(kr(o.value,a)){if(o.children===i.children&&!Cn.current){e=Si(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var s=o.dependencies;if(s!==null){a=o.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=mi(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),f0(o.return,n,e),s.lanes|=n;break}l=l.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(ee(341));a.lanes|=n,s=a.alternate,s!==null&&(s.lanes|=n),f0(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}gn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Bs(e,n),i=cr(i),r=r(i),e.flags|=1,gn(t,e,r,n),e.child;case 14:return r=e.type,i=br(r,e.pendingProps),i=br(r.type,i),ST(t,e,r,i,n);case 15:return vN(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:br(r,i),ph(t,e),e.tag=1,Nn(r)?(t=!0,Bh(e)):t=!1,Bs(e,n),mN(e,r,i),h0(e,r,i,n),g0(null,e,r,!0,t,n);case 19:return EN(t,e,n);case 22:return _N(t,e,n)}throw Error(ee(156,e.tag))};function VN(t,e){return dC(t,e)}function KF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nr(t,e,n,r){return new KF(t,e,n,r)}function _w(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GF(t){if(typeof t=="function")return _w(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Lb)return 11;if(t===Vb)return 14}return 2}function go(t,e){var n=t.alternate;return n===null?(n=nr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function yh(t,e,n,r,i,o){var a=2;if(r=t,typeof t=="function")_w(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Es:return ya(n.children,i,o,e);case $b:a=8,i|=8;break;case $v:return t=nr(12,n,e,i|2),t.elementType=$v,t.lanes=o,t;case Lv:return t=nr(13,n,e,i),t.elementType=Lv,t.lanes=o,t;case Vv:return t=nr(19,n,e,i),t.elementType=Vv,t.lanes=o,t;case QO:return Nm(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case KO:a=10;break e;case GO:a=9;break e;case Lb:a=11;break e;case Vb:a=14;break e;case Wi:a=16,r=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=nr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ya(t,e,n,r){return t=nr(7,t,r,e),t.lanes=n,t}function Nm(t,e,n,r){return t=nr(22,t,r,e),t.elementType=QO,t.lanes=n,t.stateNode={isHidden:!1},t}function qy(t,e,n){return t=nr(6,t,null,e),t.lanes=n,t}function Wy(t,e,n){return e=nr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QF(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Sy(0),this.expirationTimes=Sy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Sy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function bw(t,e,n,r,i,o,a,s,l){return t=new QF(t,e,n,s,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=nr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},rw(o),t}function XF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function FN(t){if(!t)return So;t=t._reactInternals;e:{if(Ha(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var n=t.type;if(Nn(n))return FC(t,n,e)}return e}function BN(t,e,n,r,i,o,a,s,l){return t=bw(n,r,!0,t,i,o,a,s,l),t.context=FN(null),n=t.current,r=bn(),i=mo(n),o=mi(r,i),o.callback=e??null,ho(n,o,i),t.current.lanes=i,jf(t,i,r),Rn(t,r),t}function Rm(t,e,n,r){var i=e.current,o=bn(),a=mo(i);return n=FN(n),e.context===null?e.context=n:e.pendingContext=n,e=mi(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ho(i,e,a),t!==null&&(Ar(t,i,a,o),fh(t,i,a)),a}function ep(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $T(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ww(t,e){$T(t,e),(t=t.alternate)&&$T(t,e)}function YF(){return null}var UN=typeof reportError=="function"?reportError:function(t){console.error(t)};function xw(t){this._internalRoot=t}jm.prototype.render=xw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Rm(t,e,null,null)};jm.prototype.unmount=xw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Aa(function(){Rm(null,t,null,null)}),e[Ei]=null}};function jm(t){this._internalRoot=t}jm.prototype.unstable_scheduleHydration=function(t){if(t){var e=_C();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gi.length&&e!==0&&e<Gi[n].priority;n++);Gi.splice(n,0,t),n===0&&wC(t)}};function Ew(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LT(){}function JF(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=ep(a);o.call(u)}}var a=BN(e,r,t,0,null,!1,!1,"",LT);return t._reactRootContainer=a,t[Ei]=a.current,Pc(t.nodeType===8?t.parentNode:t),Aa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=ep(l);s.call(u)}}var l=bw(t,0,!1,null,null,!1,!1,"",LT);return t._reactRootContainer=l,t[Ei]=l.current,Pc(t.nodeType===8?t.parentNode:t),Aa(function(){Rm(e,l,n,r)}),l}function Mm(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if(typeof i=="function"){var s=i;i=function(){var l=ep(a);s.call(l)}}Rm(e,a,t,i)}else a=JF(n,e,t,i,r);return ep(a)}yC=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qu(e.pendingLanes);n!==0&&(Ub(e,n|1),Rn(e,St()),!(Re&6)&&(rl=St()+500,jo()))}break;case 13:Aa(function(){var r=Ti(t,1);if(r!==null){var i=bn();Ar(r,t,1,i)}}),ww(t,1)}};zb=function(t){if(t.tag===13){var e=Ti(t,134217728);if(e!==null){var n=bn();Ar(e,t,134217728,n)}ww(t,134217728)}};vC=function(t){if(t.tag===13){var e=mo(t),n=Ti(t,e);if(n!==null){var r=bn();Ar(n,t,e,r)}ww(t,e)}};_C=function(){return ze};bC=function(t,e){var n=ze;try{return ze=t,e()}finally{ze=n}};Qv=function(t,e,n){switch(e){case"input":if(Uv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Im(r);if(!i)throw Error(ee(90));YO(r),Uv(r,i)}}}break;case"textarea":ZO(t,n);break;case"select":e=n.value,e!=null&&$s(t,!!n.multiple,e,!1)}};aC=gw;sC=Aa;var ZF={usingClientEntryPoint:!1,Events:[Mf,As,Im,iC,oC,gw]},Su={findFiberByHostInstance:la,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},e3={bundleType:Su.bundleType,version:Su.version,rendererPackageName:Su.rendererPackageName,rendererConfig:Su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ni.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cC(t),t===null?null:t.stateNode},findFiberByHostInstance:Su.findFiberByHostInstance||YF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Md.isDisabled&&Md.supportsFiber)try{xm=Md.inject(e3),qr=Md}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZF;Gn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ew(e))throw Error(ee(200));return XF(t,e,null,n)};Gn.createRoot=function(t,e){if(!Ew(t))throw Error(ee(299));var n=!1,r="",i=UN;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=bw(t,1,!1,null,null,n,!1,r,i),t[Ei]=e.current,Pc(t.nodeType===8?t.parentNode:t),new xw(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=cC(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return Aa(t)};Gn.hydrate=function(t,e,n){if(!Dm(e))throw Error(ee(200));return Mm(null,t,e,!0,n)};Gn.hydrateRoot=function(t,e,n){if(!Ew(t))throw Error(ee(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",a=UN;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=BN(e,null,t,1,n??null,i,!1,o,a),t[Ei]=e.current,Pc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new jm(e)};Gn.render=function(t,e,n){if(!Dm(e))throw Error(ee(200));return Mm(null,t,e,!1,n)};Gn.unmountComponentAtNode=function(t){if(!Dm(t))throw Error(ee(40));return t._reactRootContainer?(Aa(function(){Mm(null,null,t,!1,function(){t._reactRootContainer=null,t[Ei]=null})}),!0):!1};Gn.unstable_batchedUpdates=gw;Gn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dm(n))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return Mm(t,e,n,!1,r)};Gn.version="18.3.1-next-f1338f8080-20240426";function zN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(zN)}catch(t){console.error(t)}}zN(),zO.exports=Gn;var t3=zO.exports,qN,VT=t3;qN=VT.createRoot,VT.hydrateRoot;/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$c.apply(this,arguments)}var io;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(io||(io={}));const FT="popstate";function n3(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:a,hash:s}=r.location;return P0("",{pathname:o,search:a,hash:s},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tp(i)}return i3(e,n,null,t)}function It(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function WN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function r3(){return Math.random().toString(36).substr(2,8)}function BT(t,e){return{usr:t.state,key:t.key,idx:e}}function P0(t,e,n,r){return n===void 0&&(n=null),$c({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?$l(e):e,{state:n,key:e&&e.key||r||r3()})}function tp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function $l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function i3(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,a=i.history,s=io.Pop,l=null,u=c();u==null&&(u=0,a.replaceState($c({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function f(){s=io.Pop;let _=c(),E=_==null?null:_-u;u=_,l&&l({action:s,location:y.location,delta:E})}function h(_,E){s=io.Push;let w=P0(y.location,_,E);u=c()+1;let T=BT(w,u),I=y.createHref(w);try{a.pushState(T,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(I)}o&&l&&l({action:s,location:y.location,delta:1})}function p(_,E){s=io.Replace;let w=P0(y.location,_,E);u=c();let T=BT(w,u),I=y.createHref(w);a.replaceState(T,"",I),o&&l&&l({action:s,location:y.location,delta:0})}function b(_){let E=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof _=="string"?_:tp(_);return w=w.replace(/ $/,"%20"),It(E,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,E)}let y={get action(){return s},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(FT,f),l=_,()=>{i.removeEventListener(FT,f),l=null}},createHref(_){return e(i,_)},createURL:b,encodeLocation(_){let E=b(_);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:h,replace:p,go(_){return a.go(_)}};return y}var UT;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(UT||(UT={}));function o3(t,e,n){return n===void 0&&(n="/"),a3(t,e,n,!1)}function a3(t,e,n,r){let i=typeof e=="string"?$l(e):e,o=Tw(i.pathname||"/",n);if(o==null)return null;let a=HN(t);s3(a);let s=null;for(let l=0;s==null&&l<a.length;++l){let u=v3(o);s=g3(a[l],u,r)}return s}function HN(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,a,s)=>{let l={relativePath:s===void 0?o.path||"":s,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};l.relativePath.startsWith("/")&&(It(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=yo([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(It(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),HN(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:p3(u,o.index),routesMeta:c})};return t.forEach((o,a)=>{var s;if(o.path===""||!((s=o.path)!=null&&s.includes("?")))i(o,a);else for(let l of KN(o.path))i(o,a,l)}),e}function KN(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let a=KN(r.join("/")),s=[];return s.push(...a.map(l=>l===""?o:[o,l].join("/"))),i&&s.push(...a),s.map(l=>t.startsWith("/")&&l===""?"/":l)}function s3(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:m3(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const l3=/^:[\w-]+$/,u3=3,c3=2,f3=1,d3=10,h3=-2,zT=t=>t==="*";function p3(t,e){let n=t.split("/"),r=n.length;return n.some(zT)&&(r+=h3),e&&(r+=c3),n.filter(i=>!zT(i)).reduce((i,o)=>i+(l3.test(o)?u3:o===""?f3:d3),r)}function m3(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function g3(t,e,n){let{routesMeta:r}=t,i={},o="/",a=[];for(let s=0;s<r.length;++s){let l=r[s],u=s===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=qT({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=qT({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:yo([o,f.pathname]),pathnameBase:x3(yo([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=yo([o,f.pathnameBase]))}return a}function qT(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=y3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],a=o.replace(/(.)\/+$/,"$1"),s=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let y=s[f]||"";a=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const b=s[f];return p&&!b?u[h]=void 0:u[h]=(b||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:a,pattern:t}}function y3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),WN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,s,l)=>(r.push({paramName:s,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function v3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return WN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Tw(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?$l(t):t;return{pathname:n?n.startsWith("/")?n:b3(n,e):e,search:E3(r),hash:T3(i)}}function b3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Hy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function w3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sw(t,e){let n=w3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Iw(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=$l(t):(i=$c({},t),It(!i.pathname||!i.pathname.includes("?"),Hy("?","pathname","search",i)),It(!i.pathname||!i.pathname.includes("#"),Hy("#","pathname","hash",i)),It(!i.search||!i.search.includes("#"),Hy("#","search","hash",i)));let o=t===""||i.pathname==="",a=o?"/":i.pathname,s;if(a==null)s=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let h=a.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}s=f>=0?e[f]:"/"}let l=_3(i,s),u=a&&a!=="/"&&a.endsWith("/"),c=(o||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const yo=t=>t.join("/").replace(/\/\/+/g,"/"),x3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),E3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,T3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function S3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GN=["post","put","patch","delete"];new Set(GN);const I3=["get",...GN];new Set(I3);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lc(){return Lc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lc.apply(this,arguments)}const Aw=D.createContext(null),A3=D.createContext(null),Do=D.createContext(null),$m=D.createContext(null),Mo=D.createContext({outlet:null,matches:[],isDataRoute:!1}),QN=D.createContext(null);function P3(t,e){let{relative:n}=e===void 0?{}:e;Ll()||It(!1);let{basename:r,navigator:i}=D.useContext(Do),{hash:o,pathname:a,search:s}=YN(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:yo([r,a])),i.createHref({pathname:l,search:s,hash:o})}function Ll(){return D.useContext($m)!=null}function Vl(){return Ll()||It(!1),D.useContext($m).location}function XN(t){D.useContext(Do).static||D.useLayoutEffect(t)}function Lm(){let{isDataRoute:t}=D.useContext(Mo);return t?B3():k3()}function k3(){Ll()||It(!1);let t=D.useContext(Aw),{basename:e,future:n,navigator:r}=D.useContext(Do),{matches:i}=D.useContext(Mo),{pathname:o}=Vl(),a=JSON.stringify(Sw(i,n.v7_relativeSplatPath)),s=D.useRef(!1);return XN(()=>{s.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!s.current)return;if(typeof u=="number"){r.go(u);return}let f=Iw(u,JSON.parse(a),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:yo([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,a,o,t])}function YN(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=D.useContext(Do),{matches:i}=D.useContext(Mo),{pathname:o}=Vl(),a=JSON.stringify(Sw(i,r.v7_relativeSplatPath));return D.useMemo(()=>Iw(t,JSON.parse(a),o,n==="path"),[t,a,o,n])}function O3(t,e){return C3(t,e)}function C3(t,e,n,r){Ll()||It(!1);let{navigator:i}=D.useContext(Do),{matches:o}=D.useContext(Mo),a=o[o.length-1],s=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=Vl(),c;if(e){var f;let _=typeof e=="string"?$l(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||It(!1),c=_}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let _=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(_.length).join("/")}let b=o3(t,{pathname:p}),y=M3(b&&b.map(_=>Object.assign({},_,{params:Object.assign({},s,_.params),pathname:yo([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:yo([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&y?D.createElement($m.Provider,{value:{location:Lc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:io.Pop}},y):y}function N3(){let t=F3(),e=S3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const R3=D.createElement(N3,null);class j3 extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Mo.Provider,{value:this.props.routeContext},D.createElement(QN.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function D3(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(Aw);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Mo.Provider,{value:e},r)}function M3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,s=(i=n)==null?void 0:i.errors;if(s!=null){let c=a.findIndex(f=>f.route.id&&s?.[f.route.id]!==void 0);c>=0||It(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<a.length;c++){let f=a[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=n,b=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||b){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,f,h)=>{let p,b=!1,y=null,_=null;n&&(p=s&&f.route.id?s[f.route.id]:void 0,y=f.route.errorElement||R3,l&&(u<0&&h===0?(b=!0,_=null):u===h&&(b=!0,_=f.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,h+1)),w=()=>{let T;return p?T=y:b?T=_:f.route.Component?T=D.createElement(f.route.Component,null):f.route.element?T=f.route.element:T=c,D.createElement(D3,{match:f,routeContext:{outlet:c,matches:E,isDataRoute:n!=null},children:T})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(j3,{location:n.location,revalidation:n.revalidation,component:y,error:p,children:w(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):w()},null)}var JN=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JN||{}),np=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(np||{});function $3(t){let e=D.useContext(Aw);return e||It(!1),e}function L3(t){let e=D.useContext(A3);return e||It(!1),e}function V3(t){let e=D.useContext(Mo);return e||It(!1),e}function ZN(t){let e=V3(),n=e.matches[e.matches.length-1];return n.route.id||It(!1),n.route.id}function F3(){var t;let e=D.useContext(QN),n=L3(np.UseRouteError),r=ZN(np.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function B3(){let{router:t}=$3(JN.UseNavigateStable),e=ZN(np.UseNavigateStable),n=D.useRef(!1);return XN(()=>{n.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Lc({fromRouteId:e},o)))},[t,e])}function U3(t){let{to:e,replace:n,state:r,relative:i}=t;Ll()||It(!1);let{future:o,static:a}=D.useContext(Do),{matches:s}=D.useContext(Mo),{pathname:l}=Vl(),u=Lm(),c=Iw(e,Sw(s,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return D.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function Fn(t){It(!1)}function z3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=io.Pop,navigator:o,static:a=!1,future:s}=t;Ll()&&It(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:o,static:a,future:Lc({v7_relativeSplatPath:!1},s)}),[l,s,o,a]);typeof r=="string"&&(r=$l(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:b="default"}=r,y=D.useMemo(()=>{let _=Tw(c,l);return _==null?null:{location:{pathname:_,search:f,hash:h,state:p,key:b},navigationType:i}},[l,c,f,h,p,b,i]);return y==null?null:D.createElement(Do.Provider,{value:u},D.createElement($m.Provider,{children:n,value:y}))}function eR(t){let{children:e,location:n}=t;return O3(k0(e),n)}new Promise(()=>{});function k0(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,k0(r.props.children,o));return}r.type!==Fn&&It(!1),!r.props.index||!r.props.children||It(!1);let a={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=k0(r.props.children,o)),n.push(a)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},O0.apply(this,arguments)}function q3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function W3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function H3(t,e){return t.button===0&&(!e||e==="_self")&&!W3(t)}const K3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],G3="6";try{window.__reactRouterVersion=G3}catch{}const Q3="startTransition",WT=qV[Q3];function X3(t){let{basename:e,children:n,future:r,window:i}=t,o=D.useRef();o.current==null&&(o.current=n3({window:i,v5Compat:!0}));let a=o.current,[s,l]=D.useState({action:a.action,location:a.location}),{v7_startTransition:u}=r||{},c=D.useCallback(f=>{u&&WT?WT(()=>l(f)):l(f)},[l,u]);return D.useLayoutEffect(()=>a.listen(c),[a,c]),D.createElement(z3,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:a,future:r})}const Y3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",J3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oo=D.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:o,replace:a,state:s,target:l,to:u,preventScrollReset:c,viewTransition:f}=e,h=q3(e,K3),{basename:p}=D.useContext(Do),b,y=!1;if(typeof u=="string"&&J3.test(u)&&(b=u,Y3))try{let T=new URL(window.location.href),I=u.startsWith("//")?new URL(T.protocol+u):new URL(u),P=Tw(I.pathname,p);I.origin===T.origin&&P!=null?u=P+I.search+I.hash:y=!0}catch{}let _=P3(u,{relative:i}),E=Z3(u,{replace:a,state:s,target:l,preventScrollReset:c,relative:i,viewTransition:f});function w(T){r&&r(T),T.defaultPrevented||E(T)}return D.createElement("a",O0({},h,{href:b||_,onClick:y||o?r:w,ref:n,target:l}))});var HT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(HT||(HT={}));var KT;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(KT||(KT={}));function Z3(t,e){let{target:n,replace:r,state:i,preventScrollReset:o,relative:a,viewTransition:s}=e===void 0?{}:e,l=Lm(),u=Vl(),c=YN(t,{relative:a});return D.useCallback(f=>{if(H3(f,n)){f.preventDefault();let h=r!==void 0?r:tp(u)===tp(c);l(t,{replace:h,state:i,preventScrollReset:o,relative:a,viewTransition:s})}},[u,l,c,r,i,n,t,o,a,s])}var GT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},eB=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],a=t[n++],s=t[n++],l=((i&7)<<18|(o&63)<<12|(a&63)<<6|s&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|a&63)}}return e.join("")},nR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],a=i+1<t.length,s=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|s>>4;let h=(s&15)<<2|u>>6,p=u&63;l||(p=64,a||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tR(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):eB(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||s==null||u==null||f==null)throw new tB;const h=o<<2|s>>4;if(r.push(h),u!==64){const p=s<<4&240|u>>2;if(r.push(p),f!==64){const b=u<<6&192|f;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nB=function(t){const e=tR(t);return nR.encodeByteArray(e,!0)},rp=function(t){return nB(t).replace(/\./g,"")},rR=function(t){try{return nR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=()=>rB().__FIREBASE_DEFAULTS__,oB=()=>{if(typeof process>"u"||typeof GT>"u")return;const t=GT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},aB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rR(t[1]);return e&&JSON.parse(e)},Vm=()=>{try{return iB()||oB()||aB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iR=t=>{var e,n;return(n=(e=Vm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sB=t=>{const e=iR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},oR=()=>{var t;return(t=Vm())===null||t===void 0?void 0:t.config},aR=t=>{var e;return(e=Vm())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uB(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rp(JSON.stringify(n)),rp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function fB(){var t;const e=(t=Vm())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dB(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Pw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pB(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sR(){return!fB()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fm(){try{return typeof indexedDB=="object"}catch{return!1}}function kw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}function lR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB="FirebaseError";class Nr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=mB,Object.setPrototypeOf(this,Nr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ka.prototype.create)}}class Ka{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],a=o?gB(o,r):"Error",s=`${this.serviceName}: ${a} (${i}).`;return new Nr(i,s,r)}}function gB(t,e){return t.replace(yB,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const yB=/\{\$([^}]+)}/g;function vB(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Vc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],a=e[i];if(QT(o)&&QT(a)){if(!Vc(o,a))return!1}else if(o!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function QT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Hu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ku(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function _B(t,e){const n=new bB(t,e);return n.subscribe.bind(n)}class bB{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ky),i.error===void 0&&(i.error=Ky),i.complete===void 0&&(i.complete=Ky);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ky(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xB=1e3,EB=2,TB=4*60*60*1e3,SB=.5;function XT(t,e=xB,n=EB){const r=e*Math.pow(n,t),i=Math.round(SB*r*(Math.random()-.5)*2);return Math.min(TB,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(t){return t&&t._delegate?t._delegate:t}class Or{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new lB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PB(e))try{this.getOrInitializeService({instanceIdentifier:Zo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Zo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zo){return this.instances.has(e)}getOptions(e=Zo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,a]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(o);r===s&&a.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const a=this.instances.get(i);return a&&e(a,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:AB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zo){return this.component?this.component.multipleInstances?e:Zo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AB(t){return t===Zo?void 0:t}function PB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new IB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ke||(ke={}));const OB={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},CB=ke.INFO,NB={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},RB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=NB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Bm{constructor(e){this.name=e,this._logLevel=CB,this._logHandler=RB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const jB=(t,e)=>e.some(n=>t instanceof n);let YT,JT;function DB(){return YT||(YT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MB(){return JT||(JT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uR=new WeakMap,C0=new WeakMap,cR=new WeakMap,Gy=new WeakMap,Ow=new WeakMap;function $B(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",a)},o=()=>{n(vo(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&uR.set(n,t)}).catch(()=>{}),Ow.set(e,t),e}function LB(t){if(C0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",a),t.removeEventListener("abort",a)},o=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",a),t.addEventListener("abort",a)});C0.set(t,e)}let N0={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return C0.get(t);if(e==="objectStoreNames")return t.objectStoreNames||cR.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function VB(t){N0=t(N0)}function FB(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Qy(this),e,...n);return cR.set(r,e.sort?e.sort():[e]),vo(r)}:MB().includes(t)?function(...e){return t.apply(Qy(this),e),vo(uR.get(this))}:function(...e){return vo(t.apply(Qy(this),e))}}function BB(t){return typeof t=="function"?FB(t):(t instanceof IDBTransaction&&LB(t),jB(t,DB())?new Proxy(t,N0):t)}function vo(t){if(t instanceof IDBRequest)return $B(t);if(Gy.has(t))return Gy.get(t);const e=BB(t);return e!==t&&(Gy.set(t,e),Ow.set(e,t)),e}const Qy=t=>Ow.get(t);function fR(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=vo(a);return r&&a.addEventListener("upgradeneeded",l=>{r(vo(a.result),l.oldVersion,l.newVersion,vo(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),s.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),s}const UB=["get","getKey","getAll","getAllKeys","count"],zB=["put","add","delete","clear"],Xy=new Map;function ZT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Xy.get(e))return Xy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=zB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||UB.includes(n)))return;const o=async function(a,...s){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(s.shift())),(await Promise.all([u[n](...s),i&&l.done]))[0]};return Xy.set(e,o),o}VB(t=>({...t,get:(e,n,r)=>ZT(e,n)||t.get(e,n,r),has:(e,n)=>!!ZT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(WB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function WB(t){const e=t.getComponent();return e?.type==="VERSION"}const R0="@firebase/app",eS="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ii=new Bm("@firebase/app"),HB="@firebase/app-compat",KB="@firebase/analytics-compat",GB="@firebase/analytics",QB="@firebase/app-check-compat",XB="@firebase/app-check",YB="@firebase/auth",JB="@firebase/auth-compat",ZB="@firebase/database",eU="@firebase/data-connect",tU="@firebase/database-compat",nU="@firebase/functions",rU="@firebase/functions-compat",iU="@firebase/installations",oU="@firebase/installations-compat",aU="@firebase/messaging",sU="@firebase/messaging-compat",lU="@firebase/performance",uU="@firebase/performance-compat",cU="@firebase/remote-config",fU="@firebase/remote-config-compat",dU="@firebase/storage",hU="@firebase/storage-compat",pU="@firebase/firestore",mU="@firebase/vertexai-preview",gU="@firebase/firestore-compat",yU="firebase",vU="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="[DEFAULT]",_U={[R0]:"fire-core",[HB]:"fire-core-compat",[GB]:"fire-analytics",[KB]:"fire-analytics-compat",[XB]:"fire-app-check",[QB]:"fire-app-check-compat",[YB]:"fire-auth",[JB]:"fire-auth-compat",[ZB]:"fire-rtdb",[eU]:"fire-data-connect",[tU]:"fire-rtdb-compat",[nU]:"fire-fn",[rU]:"fire-fn-compat",[iU]:"fire-iid",[oU]:"fire-iid-compat",[aU]:"fire-fcm",[sU]:"fire-fcm-compat",[lU]:"fire-perf",[uU]:"fire-perf-compat",[cU]:"fire-rc",[fU]:"fire-rc-compat",[dU]:"fire-gcs",[hU]:"fire-gcs-compat",[pU]:"fire-fst",[gU]:"fire-fst-compat",[mU]:"fire-vertex","fire-js":"fire-js",[yU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=new Map,bU=new Map,D0=new Map;function tS(t,e){try{t.container.addComponent(e)}catch(n){Ii.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xr(t){const e=t.name;if(D0.has(e))return Ii.debug(`There were multiple attempts to register component ${e}.`),!1;D0.set(e,t);for(const n of ip.values())tS(n,t);for(const n of bU.values())tS(n,t);return!0}function Ga(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Fr(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_o=new Ka("app","Firebase",wU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xU{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Or("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=vU;function dR(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:j0,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _o.create("bad-app-name",{appName:String(i)});if(n||(n=oR()),!n)throw _o.create("no-options");const o=ip.get(i);if(o){if(Vc(n,o.options)&&Vc(r,o.config))return o;throw _o.create("duplicate-app",{appName:i})}const a=new kB(i);for(const l of D0.values())a.addComponent(l);const s=new xU(n,r,a);return ip.set(i,s),s}function Cw(t=j0){const e=ip.get(t);if(!e&&t===j0&&oR())return dR();if(!e)throw _o.create("no-app",{appName:t});return e}function ar(t,e,n){var r;let i=(r=_U[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const s=[`Unable to register library "${i}" with version "${e}":`];o&&s.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ii.warn(s.join(" "));return}Xr(new Or(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="firebase-heartbeat-database",TU=1,Fc="firebase-heartbeat-store";let Yy=null;function hR(){return Yy||(Yy=fR(EU,TU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fc)}catch(n){console.warn(n)}}}}).catch(t=>{throw _o.create("idb-open",{originalErrorMessage:t.message})})),Yy}async function SU(t){try{const n=(await hR()).transaction(Fc),r=await n.objectStore(Fc).get(pR(t));return await n.done,r}catch(e){if(e instanceof Nr)Ii.warn(e.message);else{const n=_o.create("idb-get",{originalErrorMessage:e?.message});Ii.warn(n.message)}}}async function nS(t,e){try{const r=(await hR()).transaction(Fc,"readwrite");await r.objectStore(Fc).put(e,pR(t)),await r.done}catch(n){if(n instanceof Nr)Ii.warn(n.message);else{const r=_o.create("idb-set",{originalErrorMessage:n?.message});Ii.warn(r.message)}}}function pR(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IU=1024,AU=30*24*60*60*1e3;class PU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new OU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=rS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const s=new Date(a.date).valueOf();return Date.now()-s<=AU}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Ii.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=rS(),{heartbeatsToSend:r,unsentEntries:i}=kU(this._heartbeatsCache.heartbeats),o=rp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ii.warn(n),""}}}function rS(){return new Date().toISOString().substring(0,10)}function kU(t,e=IU){const n=[];let r=t.slice();for(const i of t){const o=n.find(a=>a.agent===i.agent);if(o){if(o.dates.push(i.date),iS(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),iS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class OU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Fm()?kw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await SU(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return nS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function iS(t){return rp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CU(t){Xr(new Or("platform-logger",e=>new qB(e),"PRIVATE")),Xr(new Or("heartbeat",e=>new PU(e),"PRIVATE")),ar(R0,eS,t),ar(R0,eS,"esm2017"),ar("fire-js","")}CU("");function Nw(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function mR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const NU=mR,gR=new Ka("auth","Firebase",mR());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=new Bm("@firebase/auth");function RU(t,...e){op.logLevel<=ke.WARN&&op.warn(`Auth (${Fl}): ${t}`,...e)}function vh(t,...e){op.logLevel<=ke.ERROR&&op.error(`Auth (${Fl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t,...e){throw Rw(t,...e)}function Hr(t,...e){return Rw(t,...e)}function yR(t,e,n){const r=Object.assign(Object.assign({},NU()),{[e]:n});return new Ka("auth","Firebase",r).create(e,{appName:t.name})}function gi(t){return yR(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Rw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return gR.create(t,...e)}function _e(t,e,...n){if(!t)throw Rw(e,...n)}function li(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vh(e),new Error(e)}function Ai(t,e){t||li(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function jU(){return oS()==="http:"||oS()==="https:"}function oS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jU()||Pw()||"connection"in navigator)?navigator.onLine:!0}function MU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ai(n>e,"Short delay should be less than long delay!"),this.isMobile=cB()||hB()}get(){return DU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t,e){Ai(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LU=new Vf(3e4,6e4);function Ri(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Rr(t,e,n,r,i={}){return _R(t,i,async()=>{let o={},a={};r&&(e==="GET"?a=r:o={body:JSON.stringify(r)});const s=Lf(Object.assign({key:t.config.apiKey},a)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return dB()||(u.referrerPolicy="no-referrer"),vR.fetch()(bR(t,t.config.apiHost,n,s),u)})}async function _R(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},$U),e);try{const i=new FU(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await o.json();if("needConfirmation"in a)throw $d(t,"account-exists-with-different-credential",a);if(o.ok&&!("errorMessage"in a))return a;{const s=o.ok?a.errorMessage:a.error.message,[l,u]=s.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $d(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw $d(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw $d(t,"user-disabled",a);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw yR(t,c,u);Cr(t,c)}}catch(i){if(i instanceof Nr)throw i;Cr(t,"network-request-failed",{message:String(i)})}}async function Ff(t,e,n,r,i={}){const o=await Rr(t,e,n,r,i);return"mfaPendingCredential"in o&&Cr(t,"multi-factor-auth-required",{_serverResponse:o}),o}function bR(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?jw(t.config,i):`${t.config.apiScheme}://${i}`}function VU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class FU{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hr(this.auth,"network-request-failed")),LU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $d(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Hr(t,e,r);return i.customData._tokenResponse=n,i}function aS(t){return t!==void 0&&t.enterprise!==void 0}class BU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return VU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function UU(t,e){return Rr(t,"GET","/v2/recaptchaConfig",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zU(t,e){return Rr(t,"POST","/v1/accounts:delete",e)}async function wR(t,e){return Rr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qU(t,e=!1){const n=_t(t),r=await n.getIdToken(e),i=Dw(r);_e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,a=o?.sign_in_provider;return{claims:i,token:r,authTime:lc(Jy(i.auth_time)),issuedAtTime:lc(Jy(i.iat)),expirationTime:lc(Jy(i.exp)),signInProvider:a||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Jy(t){return Number(t)*1e3}function Dw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const i=rR(n);return i?JSON.parse(i):(vh("Failed to decode base64 JWT payload"),null)}catch(i){return vh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function sS(t){const e=Dw(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pa(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Nr&&WU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function WU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=lc(this.lastLoginAt),this.creationTime=lc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ap(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Pa(t,wR(n,{idToken:r}));_e(i?.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?xR(o.providerUserInfo):[],s=GU(t.providerData,a),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!s?.length,c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new $0(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function KU(t){const e=_t(t);await ap(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function GU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function xR(t){return t.map(e=>{var{providerId:n}=e,r=Nw(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QU(t,e){const n=await _R(t,{},async()=>{const r=Lf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,a=bR(t,i,"/v1/token",`key=${o}`),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/x-www-form-urlencoded",vR.fetch()(a,{method:"POST",headers:s,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XU(t,e){return Rr(t,"POST","/v2/accounts:revokeToken",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=sS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await QU(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,a=new zs;return r&&(_e(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),a.expirationTime=o),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zs,this.toJSON())}_performRefresh(){return li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ui{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Nw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new HU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Pa(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qU(this,e)}reload(){return KU(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ui(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ap(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fr(this.auth.app))return Promise.reject(gi(this.auth));const e=await this.getIdToken();return await Pa(this,zU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,a,s,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,b=(a=n.photoURL)!==null&&a!==void 0?a:void 0,y=(s=n.tenantId)!==null&&s!==void 0?s:void 0,_=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,E=(u=n.createdAt)!==null&&u!==void 0?u:void 0,w=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:T,emailVerified:I,isAnonymous:P,providerData:C,stsTokenManager:S}=n;_e(T&&S,e,"internal-error");const g=zs.fromJSON(this.name,S);_e(typeof T=="string",e,"internal-error"),Ui(f,e.name),Ui(h,e.name),_e(typeof I=="boolean",e,"internal-error"),_e(typeof P=="boolean",e,"internal-error"),Ui(p,e.name),Ui(b,e.name),Ui(y,e.name),Ui(_,e.name),Ui(E,e.name),Ui(w,e.name);const x=new ui({uid:T,auth:e,email:h,emailVerified:I,displayName:f,isAnonymous:P,photoURL:b,phoneNumber:p,tenantId:y,stsTokenManager:g,createdAt:E,lastLoginAt:w});return C&&Array.isArray(C)&&(x.providerData=C.map(k=>Object.assign({},k))),_&&(x._redirectEventId=_),x}static async _fromIdTokenResponse(e,n,r=!1){const i=new zs;i.updateFromServerResponse(n);const o=new ui({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ap(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];_e(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?xR(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!o?.length,s=new zs;s.updateFromIdToken(r);const l=new ui({uid:i.localId,auth:e,stsTokenManager:s,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $0(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new Map;function ci(t){Ai(t instanceof Function,"Expected a class definition");let e=lS.get(t);return e?(Ai(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,lS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ER.type="NONE";const uS=ER;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _h(t,e,n){return`firebase:${t}:${e}:${n}`}class qs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=_h(this.userKey,i.apiKey,o),this.fullPersistenceKey=_h("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ui._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qs(ci(uS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||ci(uS);const a=_h(r,e.config.apiKey,e.name);let s=null;for(const u of n)try{const c=await u._get(a);if(c){const f=ui._fromJSON(e,c);u!==o&&(s=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new qs(o,e,r):(o=l[0],s&&await o._set(a,s.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(a)}catch{}})),new qs(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(AR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(TR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(kR(e))return"Blackberry";if(OR(e))return"Webos";if(SR(e))return"Safari";if((e.includes("chrome/")||IR(e))&&!e.includes("edge/"))return"Chrome";if(PR(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function TR(t=Mt()){return/firefox\//i.test(t)}function SR(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function IR(t=Mt()){return/crios\//i.test(t)}function AR(t=Mt()){return/iemobile/i.test(t)}function PR(t=Mt()){return/android/i.test(t)}function kR(t=Mt()){return/blackberry/i.test(t)}function OR(t=Mt()){return/webos/i.test(t)}function Mw(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function YU(t=Mt()){var e;return Mw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function JU(){return pB()&&document.documentMode===10}function CR(t=Mt()){return Mw(t)||PR(t)||OR(t)||kR(t)||/windows phone/i.test(t)||AR(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NR(t,e=[]){let n;switch(t){case"Browser":n=cS(Mt());break;case"Worker":n=`${cS(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Fl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZU{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((a,s)=>{try{const l=e(o);a(l)}catch(l){s(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e5(t,e={}){return Rr(t,"GET","/v2/passwordPolicy",Ri(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t5=6;class n5{constructor(e){var n,r,i,o;const a=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=a.minPasswordLength)!==null&&n!==void 0?n:t5,a.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=a.maxPasswordLength),a.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=a.containsLowercaseCharacter),a.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=a.containsUppercaseCharacter),a.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=a.containsNumericCharacter),a.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=a.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,a,s;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNumericCharacter)!==null&&a!==void 0?a:!0),l.isValid&&(l.isValid=(s=l.containsNonAlphanumericCharacter)!==null&&s!==void 0?s:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r5{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fS(this),this.idTokenSubscription=new fS(this),this.beforeStateQueue=new ZU(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ci(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await wR(this,{idToken:e}),r=await ui._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fr(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,s=i?._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===s)&&l?.user&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(a){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ap(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=MU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fr(this.app))return Promise.reject(gi(this));const n=e?_t(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fr(this.app)?Promise.reject(gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fr(this.app)?Promise.reject(gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ci(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await e5(this),n=new n5(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ka("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await XU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ci(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await qs.create(this,[ci(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let a=!1;const s=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(s,this,"internal-error"),s.then(()=>{a||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=NR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&RU(`Error while retrieving App Check token: ${n.error}`),n?.token}}function Qa(t){return _t(t)}class fS{constructor(e){this.auth=e,this.observer=null,this.addObserver=_B(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function i5(t){Um=t}function RR(t){return Um.loadJS(t)}function o5(){return Um.recaptchaEnterpriseScript}function a5(){return Um.gapiScript}function s5(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const l5="recaptcha-enterprise",u5="NO_RECAPTCHA";class c5{constructor(e){this.type=l5,this.auth=Qa(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(a,s)=>{UU(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)s(new Error("recaptcha Enterprise site key undefined"));else{const u=new BU(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,a(u.siteKey)}}).catch(l=>{s(l)})})}function i(o,a,s){const l=window.grecaptcha;aS(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{a(u)}).catch(()=>{a(u5)})}):s(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,a)=>{r(this.auth).then(s=>{if(!n&&aS(window.grecaptcha))i(s,o,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=o5();l.length!==0&&(l+=s),RR(l).then(()=>{i(s,o,a)}).catch(u=>{a(u)})}}).catch(s=>{a(s)})})}}async function dS(t,e,n,r=!1){const i=new c5(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a=Object.assign({},e);return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function L0(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await dS(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await dS(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f5(t,e){const n=Ga(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(Vc(o,e??{}))return i;Cr(i,"already-initialized")}return n.initialize({options:e})}function d5(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(ci);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function h5(t,e,n){const r=Qa(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=jR(e),{host:a,port:s}=p5(e),l=s===null?"":`:${s}`;r.config.emulator={url:`${o}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),m5()}function jR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function p5(t){const e=jR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:hS(r.substr(o.length+1))}}else{const[o,a]=r.split(":");return{host:o,port:hS(a)}}}function hS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function m5(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return li("not implemented")}_getIdTokenResponse(e){return li("not implemented")}_linkToIdToken(e,n){return li("not implemented")}_getReauthenticationResolver(e){return li("not implemented")}}async function g5(t,e){return Rr(t,"POST","/v1/accounts:update",e)}async function y5(t,e){return Rr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function v5(t,e){return Ff(t,"POST","/v1/accounts:signInWithPassword",Ri(t,e))}async function _5(t,e){return Rr(t,"POST","/v1/accounts:sendOobCode",Ri(t,e))}async function b5(t,e){return _5(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w5(t,e){return Ff(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}async function x5(t,e){return Ff(t,"POST","/v1/accounts:signInWithEmailLink",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc extends $w{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Bc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Bc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(e,n,"signInWithPassword",v5);case"emailLink":return w5(e,{email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return L0(e,r,"signUpPassword",y5);case"emailLink":return x5(e,{idToken:n,email:this._email,oobCode:this._password});default:Cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ws(t,e){return Ff(t,"POST","/v1/accounts:signInWithIdp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E5="http://localhost";class ka extends $w{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ka(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=Nw(n,["providerId","signInMethod"]);if(!r||!i)return null;const a=new ka(r,i);return a.idToken=o.idToken||void 0,a.accessToken=o.accessToken||void 0,a.secret=o.secret,a.nonce=o.nonce,a.pendingToken=o.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return Ws(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Ws(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ws(e,n)}buildRequest(){const e={requestUri:E5,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lf(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T5(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function S5(t){const e=Hu(Ku(t)).link,n=e?Hu(Ku(e)).deep_link_id:null,r=Hu(Ku(t)).deep_link_id;return(r?Hu(Ku(r)).link:null)||r||n||e||t}class Lw{constructor(e){var n,r,i,o,a,s;const l=Hu(Ku(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=T5((i=l.mode)!==null&&i!==void 0?i:null);_e(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(a=l.languageCode)!==null&&a!==void 0?a:null,this.tenantId=(s=l.tenantId)!==null&&s!==void 0?s:null}static parseLink(e){const n=S5(e);try{return new Lw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.providerId=Xa.PROVIDER_ID}static credential(e,n){return Bc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lw.parseLink(n);return _e(r,"argument-error"),Bc._fromEmailAndCode(e,r.code,r.tenantId)}}Xa.PROVIDER_ID="password";Xa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bf extends DR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Bf{constructor(){super("facebook.com")}static credential(e){return ka._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xi.credential(e.oauthAccessToken)}catch{return null}}}Xi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Xi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi extends Bf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ka._fromParams({providerId:Yi.PROVIDER_ID,signInMethod:Yi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yi.credentialFromTaggedObject(e)}static credentialFromError(e){return Yi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yi.credential(n,r)}catch{return null}}}Yi.GOOGLE_SIGN_IN_METHOD="google.com";Yi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Bf{constructor(){super("github.com")}static credential(e){return ka._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ji.credential(e.oauthAccessToken)}catch{return null}}}Ji.GITHUB_SIGN_IN_METHOD="github.com";Ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Bf{constructor(){super("twitter.com")}static credential(e,n){return ka._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Zi.credential(n,r)}catch{return null}}}Zi.TWITTER_SIGN_IN_METHOD="twitter.com";Zi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I5(t,e){return Ff(t,"POST","/v1/accounts:signUp",Ri(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await ui._fromIdTokenResponse(e,r,i),a=pS(r);return new Oa({user:o,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=pS(r);return new Oa({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function pS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp extends Nr{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sp.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sp(e,n,r,i)}}function MR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?sp._fromErrorAndOperation(t,o,e,r):o})}async function A5(t,e,n=!1){const r=await Pa(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Oa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $R(t,e,n=!1){const{auth:r}=t;if(Fr(r.app))return Promise.reject(gi(r));const i="reauthenticate";try{const o=await Pa(t,MR(r,i,e,t),n);_e(o.idToken,r,"internal-error");const a=Dw(o.idToken);_e(a,r,"internal-error");const{sub:s}=a;return _e(t.uid===s,r,"user-mismatch"),Oa._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Cr(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LR(t,e,n=!1){if(Fr(t.app))return Promise.reject(gi(t));const r="signIn",i=await MR(t,r,e),o=await Oa._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function P5(t,e){return LR(Qa(t),e)}async function k5(t,e){return $R(_t(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VR(t){const e=Qa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function O5(t,e,n){if(Fr(t.app))return Promise.reject(gi(t));const r=Qa(t),a=await L0(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",I5).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&VR(t),l}),s=await Oa._fromIdTokenResponse(r,"signIn",a);return await r._updateCurrentUser(s.user),s}function C5(t,e,n){return Fr(t.app)?Promise.reject(gi(t)):P5(_t(t),Xa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&VR(t),r})}async function mS(t,e){const n=_t(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:o}=await b5(n.auth,i);o!==t.email&&await t.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N5(t,e){return Rr(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FR(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=_t(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},a=await Pa(r,N5(r.auth,o));r.displayName=a.displayName||null,r.photoURL=a.photoUrl||null;const s=r.providerData.find(({providerId:l})=>l==="password");s&&(s.displayName=r.displayName,s.photoURL=r.photoURL),await r._updateTokensIfNecessary(a)}function R5(t,e){return j5(_t(t),null,e)}async function j5(t,e,n){const{auth:r}=t,o={idToken:await t.getIdToken(),returnSecureToken:!0};n&&(o.password=n);const a=await Pa(t,g5(r,o));await t._updateTokensIfNecessary(a,!0)}function D5(t,e,n,r){return _t(t).onIdTokenChanged(e,n,r)}function M5(t,e,n){return _t(t).beforeAuthStateChanged(e,n)}function $5(t,e,n,r){return _t(t).onAuthStateChanged(e,n,r)}function L5(t){return _t(t).signOut()}const lp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lp,"1"),this.storage.removeItem(lp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V5=1e3,F5=10;class UR extends BR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,s,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},o=this.storage.getItem(r);JU()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,F5):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},V5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}UR.type="LOCAL";const B5=UR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR extends BR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}zR.type="SESSION";const qR=zR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U5(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new zm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,a=this.handlersMap[i];if(!a?.size)return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const s=Array.from(a).map(async u=>u(n.origin,o)),l=await U5(s);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}zm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,a;return new Promise((s,l)=>{const u=Vw("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),s(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(){return window}function q5(t){Kr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WR(){return typeof Kr().WorkerGlobalScope<"u"&&typeof Kr().importScripts=="function"}async function W5(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function H5(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function K5(){return WR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR="firebaseLocalStorageDb",G5=1,up="firebaseLocalStorage",KR="fbase_key";class Uf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qm(t,e){return t.transaction([up],e?"readwrite":"readonly").objectStore(up)}function Q5(){const t=indexedDB.deleteDatabase(HR);return new Uf(t).toPromise()}function V0(){const t=indexedDB.open(HR,G5);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(up,{keyPath:KR})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(up)?e(r):(r.close(),await Q5(),e(await V0()))})})}async function gS(t,e,n){const r=qm(t,!0).put({[KR]:e,value:n});return new Uf(r).toPromise()}async function X5(t,e){const n=qm(t,!1).get(e),r=await new Uf(n).toPromise();return r===void 0?null:r.value}function yS(t,e){const n=qm(t,!0).delete(e);return new Uf(n).toPromise()}const Y5=800,J5=3;class GR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await V0(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>J5)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return WR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=zm._getInstance(K5()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await W5(),!this.activeServiceWorker)return;this.sender=new z5(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||H5()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await V0();return await gS(e,lp,"1"),await yS(e,lp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>X5(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=qm(i,!1).getAll();return new Uf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Y5)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}GR.type="LOCAL";const Z5=GR;new Vf(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e6(t,e){return e?ci(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw extends $w{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ws(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ws(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ws(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function t6(t){return LR(t.auth,new Fw(t),t.bypassAuthState)}function n6(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),$R(n,new Fw(t),t.bypassAuthState)}async function r6(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),A5(n,new Fw(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:a,type:s}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(s)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return t6;case"linkViaPopup":case"linkViaRedirect":return r6;case"reauthViaPopup":case"reauthViaRedirect":return n6;default:Cr(this.auth,"internal-error")}}resolve(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ai(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i6=new Vf(2e3,1e4);class js extends QR{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,js.currentPopupAction&&js.currentPopupAction.cancel(),js.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){Ai(this.filter.length===1,"Popup operations only handle one event");const e=Vw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Hr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Hr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,js.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Hr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,i6.get())};e()}}js.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6="pendingRedirect",bh=new Map;class a6 extends QR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=bh.get(this.auth._key());if(!e){try{const r=await s6(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}bh.set(this.auth._key(),e)}return this.bypassAuthState||bh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function s6(t,e){const n=c6(e),r=u6(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function l6(t,e){bh.set(t._key(),e)}function u6(t){return ci(t._redirectPersistence)}function c6(t){return _h(o6,t.config.apiKey,t.name)}async function f6(t,e,n=!1){if(Fr(t.app))return Promise.reject(gi(t));const r=Qa(t),i=e6(r,e),a=await new a6(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6=10*60*1e3;class h6{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!p6(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!XR(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=d6&&this.cachedEventUids.clear(),this.cachedEventUids.has(vS(e))}saveEventToCache(e){this.cachedEventUids.add(vS(e)),this.lastProcessedEventTime=Date.now()}}function vS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function XR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function p6(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return XR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m6(t,e={}){return Rr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,y6=/^https?/;async function v6(t){if(t.config.emulator)return;const{authorizedDomains:e}=await m6(t);for(const n of e)try{if(_6(n))return}catch{}Cr(t,"unauthorized-domain")}function _6(t){const e=M0(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!y6.test(n))return!1;if(g6.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=new Vf(3e4,6e4);function _S(){const t=Kr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function w6(t){return new Promise((e,n)=>{var r,i,o;function a(){_S(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_S(),n(Hr(t,"network-request-failed"))},timeout:b6.get()})}if(!((i=(r=Kr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Kr().gapi)===null||o===void 0)&&o.load)a();else{const s=s5("iframefcb");return Kr()[s]=()=>{gapi.load?a():n(Hr(t,"network-request-failed"))},RR(`${a5()}?onload=${s}`).catch(l=>n(l))}}).catch(e=>{throw wh=null,e})}let wh=null;function x6(t){return wh=wh||w6(t),wh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=new Vf(5e3,15e3),T6="__/auth/iframe",S6="emulator/auth/iframe",I6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},A6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function P6(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?jw(e,S6):`https://${t.config.authDomain}/${T6}`,r={apiKey:e.apiKey,appName:t.name,v:Fl},i=A6.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Lf(r).slice(1)}`}async function k6(t){const e=await x6(t),n=Kr().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:P6(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:I6,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const a=Hr(t,"network-request-failed"),s=Kr().setTimeout(()=>{o(a)},E6.get());function l(){Kr().clearTimeout(s),i(r)}r.ping(l).then(l,()=>{o(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C6=500,N6=600,R6="_blank",j6="http://localhost";class bS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function D6(t,e,n,r=C6,i=N6){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const l=Object.assign(Object.assign({},O6),{width:r.toString(),height:i.toString(),top:o,left:a}),u=Mt().toLowerCase();n&&(s=IR(u)?R6:n),TR(u)&&(e=e||j6,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,b])=>`${h}${p}=${b},`,"");if(YU(u)&&s!=="_self")return M6(e||"",s),new bS(null);const f=window.open(e||"",s,c);_e(f,t,"popup-blocked");try{f.focus()}catch{}return new bS(f)}function M6(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $6="__/auth/handler",L6="emulator/auth/handler",V6=encodeURIComponent("fac");async function wS(t,e,n,r,i,o){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Fl,eventId:i};if(e instanceof DR){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",vB(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))a[c]=f}if(e instanceof Bf){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(a.scopes=c.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const c of Object.keys(s))s[c]===void 0&&delete s[c];const l=await t._getAppCheckToken(),u=l?`#${V6}=${encodeURIComponent(l)}`:"";return`${F6(t)}?${Lf(s).slice(1)}${u}`}function F6({config:t}){return t.emulator?jw(t,L6):`https://${t.authDomain}/${$6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy="webStorageSupport";class B6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qR,this._completeRedirectFn=f6,this._overrideRedirectResult=l6}async _openPopup(e,n,r,i){var o;Ai((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const a=await wS(e,n,r,M0(),i);return D6(e,a,Vw())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await wS(e,n,r,M0(),i);return q5(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ai(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await k6(e),r=new h6(e);return n.register("authEvent",i=>(_e(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zy,{type:Zy},i=>{var o;const a=(o=i?.[0])===null||o===void 0?void 0:o[Zy];a!==void 0&&n(!!a),Cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=v6(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return CR()||SR()||Mw()}}const U6=B6;var xS="@firebase/auth",ES="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function W6(t){Xr(new Or("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:a,authDomain:s}=r.options;_e(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:s,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:NR(t)},u=new r5(r,i,o,l);return d5(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xr(new Or("auth-internal",e=>{const n=Qa(e.getProvider("auth").getImmediate());return(r=>new z6(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ar(xS,ES,q6(t)),ar(xS,ES,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6=5*60,K6=aR("authIdTokenMaxAge")||H6;let TS=null;const G6=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>K6)return;const i=n?.token;TS!==i&&(TS=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Q6(t=Cw()){const e=Ga(t,"auth");if(e.isInitialized())return e.getImmediate();const n=f5(t,{popupRedirectResolver:U6,persistence:[Z5,B5,qR]}),r=aR("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const a=G6(o.toString());M5(n,a,()=>a(n.currentUser)),D5(n,s=>a(s))}}const i=iR("auth");return i&&h5(n,`http://${i}`),n}function X6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}i5({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Hr("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",X6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});W6("Browser");var Y6="firebase",J6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ar(Y6,J6,"app");var SS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var va,YR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,g){function x(){}x.prototype=g.prototype,S.D=g.prototype,S.prototype=new x,S.prototype.constructor=S,S.C=function(k,O,R){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return g.prototype[O].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,g,x){x||(x=0);var k=Array(16);if(typeof g=="string")for(var O=0;16>O;++O)k[O]=g.charCodeAt(x++)|g.charCodeAt(x++)<<8|g.charCodeAt(x++)<<16|g.charCodeAt(x++)<<24;else for(O=0;16>O;++O)k[O]=g[x++]|g[x++]<<8|g[x++]<<16|g[x++]<<24;g=S.g[0],x=S.g[1],O=S.g[2];var R=S.g[3],N=g+(R^x&(O^R))+k[0]+3614090360&4294967295;g=x+(N<<7&4294967295|N>>>25),N=R+(O^g&(x^O))+k[1]+3905402710&4294967295,R=g+(N<<12&4294967295|N>>>20),N=O+(x^R&(g^x))+k[2]+606105819&4294967295,O=R+(N<<17&4294967295|N>>>15),N=x+(g^O&(R^g))+k[3]+3250441966&4294967295,x=O+(N<<22&4294967295|N>>>10),N=g+(R^x&(O^R))+k[4]+4118548399&4294967295,g=x+(N<<7&4294967295|N>>>25),N=R+(O^g&(x^O))+k[5]+1200080426&4294967295,R=g+(N<<12&4294967295|N>>>20),N=O+(x^R&(g^x))+k[6]+2821735955&4294967295,O=R+(N<<17&4294967295|N>>>15),N=x+(g^O&(R^g))+k[7]+4249261313&4294967295,x=O+(N<<22&4294967295|N>>>10),N=g+(R^x&(O^R))+k[8]+1770035416&4294967295,g=x+(N<<7&4294967295|N>>>25),N=R+(O^g&(x^O))+k[9]+2336552879&4294967295,R=g+(N<<12&4294967295|N>>>20),N=O+(x^R&(g^x))+k[10]+4294925233&4294967295,O=R+(N<<17&4294967295|N>>>15),N=x+(g^O&(R^g))+k[11]+2304563134&4294967295,x=O+(N<<22&4294967295|N>>>10),N=g+(R^x&(O^R))+k[12]+1804603682&4294967295,g=x+(N<<7&4294967295|N>>>25),N=R+(O^g&(x^O))+k[13]+4254626195&4294967295,R=g+(N<<12&4294967295|N>>>20),N=O+(x^R&(g^x))+k[14]+2792965006&4294967295,O=R+(N<<17&4294967295|N>>>15),N=x+(g^O&(R^g))+k[15]+1236535329&4294967295,x=O+(N<<22&4294967295|N>>>10),N=g+(O^R&(x^O))+k[1]+4129170786&4294967295,g=x+(N<<5&4294967295|N>>>27),N=R+(x^O&(g^x))+k[6]+3225465664&4294967295,R=g+(N<<9&4294967295|N>>>23),N=O+(g^x&(R^g))+k[11]+643717713&4294967295,O=R+(N<<14&4294967295|N>>>18),N=x+(R^g&(O^R))+k[0]+3921069994&4294967295,x=O+(N<<20&4294967295|N>>>12),N=g+(O^R&(x^O))+k[5]+3593408605&4294967295,g=x+(N<<5&4294967295|N>>>27),N=R+(x^O&(g^x))+k[10]+38016083&4294967295,R=g+(N<<9&4294967295|N>>>23),N=O+(g^x&(R^g))+k[15]+3634488961&4294967295,O=R+(N<<14&4294967295|N>>>18),N=x+(R^g&(O^R))+k[4]+3889429448&4294967295,x=O+(N<<20&4294967295|N>>>12),N=g+(O^R&(x^O))+k[9]+568446438&4294967295,g=x+(N<<5&4294967295|N>>>27),N=R+(x^O&(g^x))+k[14]+3275163606&4294967295,R=g+(N<<9&4294967295|N>>>23),N=O+(g^x&(R^g))+k[3]+4107603335&4294967295,O=R+(N<<14&4294967295|N>>>18),N=x+(R^g&(O^R))+k[8]+1163531501&4294967295,x=O+(N<<20&4294967295|N>>>12),N=g+(O^R&(x^O))+k[13]+2850285829&4294967295,g=x+(N<<5&4294967295|N>>>27),N=R+(x^O&(g^x))+k[2]+4243563512&4294967295,R=g+(N<<9&4294967295|N>>>23),N=O+(g^x&(R^g))+k[7]+1735328473&4294967295,O=R+(N<<14&4294967295|N>>>18),N=x+(R^g&(O^R))+k[12]+2368359562&4294967295,x=O+(N<<20&4294967295|N>>>12),N=g+(x^O^R)+k[5]+4294588738&4294967295,g=x+(N<<4&4294967295|N>>>28),N=R+(g^x^O)+k[8]+2272392833&4294967295,R=g+(N<<11&4294967295|N>>>21),N=O+(R^g^x)+k[11]+1839030562&4294967295,O=R+(N<<16&4294967295|N>>>16),N=x+(O^R^g)+k[14]+4259657740&4294967295,x=O+(N<<23&4294967295|N>>>9),N=g+(x^O^R)+k[1]+2763975236&4294967295,g=x+(N<<4&4294967295|N>>>28),N=R+(g^x^O)+k[4]+1272893353&4294967295,R=g+(N<<11&4294967295|N>>>21),N=O+(R^g^x)+k[7]+4139469664&4294967295,O=R+(N<<16&4294967295|N>>>16),N=x+(O^R^g)+k[10]+3200236656&4294967295,x=O+(N<<23&4294967295|N>>>9),N=g+(x^O^R)+k[13]+681279174&4294967295,g=x+(N<<4&4294967295|N>>>28),N=R+(g^x^O)+k[0]+3936430074&4294967295,R=g+(N<<11&4294967295|N>>>21),N=O+(R^g^x)+k[3]+3572445317&4294967295,O=R+(N<<16&4294967295|N>>>16),N=x+(O^R^g)+k[6]+76029189&4294967295,x=O+(N<<23&4294967295|N>>>9),N=g+(x^O^R)+k[9]+3654602809&4294967295,g=x+(N<<4&4294967295|N>>>28),N=R+(g^x^O)+k[12]+3873151461&4294967295,R=g+(N<<11&4294967295|N>>>21),N=O+(R^g^x)+k[15]+530742520&4294967295,O=R+(N<<16&4294967295|N>>>16),N=x+(O^R^g)+k[2]+3299628645&4294967295,x=O+(N<<23&4294967295|N>>>9),N=g+(O^(x|~R))+k[0]+4096336452&4294967295,g=x+(N<<6&4294967295|N>>>26),N=R+(x^(g|~O))+k[7]+1126891415&4294967295,R=g+(N<<10&4294967295|N>>>22),N=O+(g^(R|~x))+k[14]+2878612391&4294967295,O=R+(N<<15&4294967295|N>>>17),N=x+(R^(O|~g))+k[5]+4237533241&4294967295,x=O+(N<<21&4294967295|N>>>11),N=g+(O^(x|~R))+k[12]+1700485571&4294967295,g=x+(N<<6&4294967295|N>>>26),N=R+(x^(g|~O))+k[3]+2399980690&4294967295,R=g+(N<<10&4294967295|N>>>22),N=O+(g^(R|~x))+k[10]+4293915773&4294967295,O=R+(N<<15&4294967295|N>>>17),N=x+(R^(O|~g))+k[1]+2240044497&4294967295,x=O+(N<<21&4294967295|N>>>11),N=g+(O^(x|~R))+k[8]+1873313359&4294967295,g=x+(N<<6&4294967295|N>>>26),N=R+(x^(g|~O))+k[15]+4264355552&4294967295,R=g+(N<<10&4294967295|N>>>22),N=O+(g^(R|~x))+k[6]+2734768916&4294967295,O=R+(N<<15&4294967295|N>>>17),N=x+(R^(O|~g))+k[13]+1309151649&4294967295,x=O+(N<<21&4294967295|N>>>11),N=g+(O^(x|~R))+k[4]+4149444226&4294967295,g=x+(N<<6&4294967295|N>>>26),N=R+(x^(g|~O))+k[11]+3174756917&4294967295,R=g+(N<<10&4294967295|N>>>22),N=O+(g^(R|~x))+k[2]+718787259&4294967295,O=R+(N<<15&4294967295|N>>>17),N=x+(R^(O|~g))+k[9]+3951481745&4294967295,S.g[0]=S.g[0]+g&4294967295,S.g[1]=S.g[1]+(O+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+O&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,g){g===void 0&&(g=S.length);for(var x=g-this.blockSize,k=this.B,O=this.h,R=0;R<g;){if(O==0)for(;R<=x;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<g;)if(k[O++]=S.charCodeAt(R++),O==this.blockSize){i(this,k),O=0;break}}else for(;R<g;)if(k[O++]=S[R++],O==this.blockSize){i(this,k),O=0;break}}this.h=O,this.o+=g},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var g=1;g<S.length-8;++g)S[g]=0;var x=8*this.o;for(g=S.length-8;g<S.length;++g)S[g]=x&255,x/=256;for(this.u(S),S=Array(16),g=x=0;4>g;++g)for(var k=0;32>k;k+=8)S[x++]=this.g[g]>>>k&255;return S};function o(S,g){var x=s;return Object.prototype.hasOwnProperty.call(x,S)?x[S]:x[S]=g(S)}function a(S,g){this.h=g;for(var x=[],k=!0,O=S.length-1;0<=O;O--){var R=S[O]|0;k&&R==g||(x[O]=R,k=!1)}this.g=x}var s={};function l(S){return-128<=S&&128>S?o(S,function(g){return new a([g|0],0>g?-1:0)}):new a([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return _(u(-S));for(var g=[],x=1,k=0;S>=x;k++)g[k]=S/x|0,x*=4294967296;return new a(g,0)}function c(S,g){if(S.length==0)throw Error("number format error: empty string");if(g=g||10,2>g||36<g)throw Error("radix out of range: "+g);if(S.charAt(0)=="-")return _(c(S.substring(1),g));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var x=u(Math.pow(g,8)),k=f,O=0;O<S.length;O+=8){var R=Math.min(8,S.length-O),N=parseInt(S.substring(O,O+R),g);8>R?(R=u(Math.pow(g,R)),k=k.j(R).add(u(N))):(k=k.j(x),k=k.add(u(N)))}return k}var f=l(0),h=l(1),p=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-_(this).m();for(var S=0,g=1,x=0;x<this.g.length;x++){var k=this.i(x);S+=(0<=k?k:4294967296+k)*g,g*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(b(this))return"0";if(y(this))return"-"+_(this).toString(S);for(var g=u(Math.pow(S,6)),x=this,k="";;){var O=I(x,g).g;x=E(x,O.j(g));var R=((0<x.g.length?x.g[0]:x.h)>>>0).toString(S);if(x=O,b(x))return R+k;for(;6>R.length;)R="0"+R;k=R+k}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function b(S){if(S.h!=0)return!1;for(var g=0;g<S.g.length;g++)if(S.g[g]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=E(this,S),y(S)?-1:b(S)?0:1};function _(S){for(var g=S.g.length,x=[],k=0;k<g;k++)x[k]=~S.g[k];return new a(x,~S.h).add(h)}t.abs=function(){return y(this)?_(this):this},t.add=function(S){for(var g=Math.max(this.g.length,S.g.length),x=[],k=0,O=0;O<=g;O++){var R=k+(this.i(O)&65535)+(S.i(O)&65535),N=(R>>>16)+(this.i(O)>>>16)+(S.i(O)>>>16);k=N>>>16,R&=65535,N&=65535,x[O]=N<<16|R}return new a(x,x[x.length-1]&-2147483648?-1:0)};function E(S,g){return S.add(_(g))}t.j=function(S){if(b(this)||b(S))return f;if(y(this))return y(S)?_(this).j(_(S)):_(_(this).j(S));if(y(S))return _(this.j(_(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var g=this.g.length+S.g.length,x=[],k=0;k<2*g;k++)x[k]=0;for(k=0;k<this.g.length;k++)for(var O=0;O<S.g.length;O++){var R=this.i(k)>>>16,N=this.i(k)&65535,V=S.i(O)>>>16,K=S.i(O)&65535;x[2*k+2*O]+=N*K,w(x,2*k+2*O),x[2*k+2*O+1]+=R*K,w(x,2*k+2*O+1),x[2*k+2*O+1]+=N*V,w(x,2*k+2*O+1),x[2*k+2*O+2]+=R*V,w(x,2*k+2*O+2)}for(k=0;k<g;k++)x[k]=x[2*k+1]<<16|x[2*k];for(k=g;k<2*g;k++)x[k]=0;return new a(x,0)};function w(S,g){for(;(S[g]&65535)!=S[g];)S[g+1]+=S[g]>>>16,S[g]&=65535,g++}function T(S,g){this.g=S,this.h=g}function I(S,g){if(b(g))throw Error("division by zero");if(b(S))return new T(f,f);if(y(S))return g=I(_(S),g),new T(_(g.g),_(g.h));if(y(g))return g=I(S,_(g)),new T(_(g.g),g.h);if(30<S.g.length){if(y(S)||y(g))throw Error("slowDivide_ only works with positive integers.");for(var x=h,k=g;0>=k.l(S);)x=P(x),k=P(k);var O=C(x,1),R=C(k,1);for(k=C(k,2),x=C(x,2);!b(k);){var N=R.add(k);0>=N.l(S)&&(O=O.add(x),R=N),k=C(k,1),x=C(x,1)}return g=E(S,O.j(g)),new T(O,g)}for(O=f;0<=S.l(g);){for(x=Math.max(1,Math.floor(S.m()/g.m())),k=Math.ceil(Math.log(x)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),R=u(x),N=R.j(g);y(N)||0<N.l(S);)x-=k,R=u(x),N=R.j(g);b(R)&&(R=h),O=O.add(R),S=E(S,N)}return new T(O,S)}t.A=function(S){return I(this,S).h},t.and=function(S){for(var g=Math.max(this.g.length,S.g.length),x=[],k=0;k<g;k++)x[k]=this.i(k)&S.i(k);return new a(x,this.h&S.h)},t.or=function(S){for(var g=Math.max(this.g.length,S.g.length),x=[],k=0;k<g;k++)x[k]=this.i(k)|S.i(k);return new a(x,this.h|S.h)},t.xor=function(S){for(var g=Math.max(this.g.length,S.g.length),x=[],k=0;k<g;k++)x[k]=this.i(k)^S.i(k);return new a(x,this.h^S.h)};function P(S){for(var g=S.g.length+1,x=[],k=0;k<g;k++)x[k]=S.i(k)<<1|S.i(k-1)>>>31;return new a(x,S.h)}function C(S,g){var x=g>>5;g%=32;for(var k=S.g.length-x,O=[],R=0;R<k;R++)O[R]=0<g?S.i(R+x)>>>g|S.i(R+x+1)<<32-g:S.i(R+x);return new a(O,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,YR=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,va=a}).apply(typeof SS<"u"?SS:typeof self<"u"?self:typeof window<"u"?window:{});var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var JR,Gu,ZR,xh,F0,e2,t2,n2;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,v,A){return d==Array.prototype||d==Object.prototype||(d[v]=A.value),d};function n(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ld=="object"&&Ld];for(var v=0;v<d.length;++v){var A=d[v];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var r=n(this);function i(d,v){if(v)e:{var A=r;d=d.split(".");for(var j=0;j<d.length-1;j++){var L=d[j];if(!(L in A))break e;A=A[L]}d=d[d.length-1],j=A[d],v=v(j),v!=j&&v!=null&&e(A,d,{configurable:!0,writable:!0,value:v})}}function o(d,v){d instanceof String&&(d+="");var A=0,j=!1,L={next:function(){if(!j&&A<d.length){var q=A++;return{value:v(q,d[q]),done:!1}}return j=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}i("Array.prototype.values",function(d){return d||function(){return o(this,function(v,A){return A})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},s=this||self;function l(d){var v=typeof d;return v=v!="object"?v:d?Array.isArray(d)?"array":v:"null",v=="array"||v=="object"&&typeof d.length=="number"}function u(d){var v=typeof d;return v=="object"&&d!=null||v=="function"}function c(d,v,A){return d.call.apply(d.bind,arguments)}function f(d,v,A){if(!d)throw Error();if(2<arguments.length){var j=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,j),d.apply(v,L)}}return function(){return d.apply(v,arguments)}}function h(d,v,A){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(d,v){var A=Array.prototype.slice.call(arguments,1);return function(){var j=A.slice();return j.push.apply(j,arguments),d.apply(this,j)}}function b(d,v){function A(){}A.prototype=v.prototype,d.aa=v.prototype,d.prototype=new A,d.prototype.constructor=d,d.Qb=function(j,L,q){for(var ne=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)ne[Ye-2]=arguments[Ye];return v.prototype[L].apply(j,ne)}}function y(d){const v=d.length;if(0<v){const A=Array(v);for(let j=0;j<v;j++)A[j]=d[j];return A}return[]}function _(d,v){for(let A=1;A<arguments.length;A++){const j=arguments[A];if(l(j)){const L=d.length||0,q=j.length||0;d.length=L+q;for(let ne=0;ne<q;ne++)d[L+ne]=j[ne]}else d.push(j)}}class E{constructor(v,A){this.i=v,this.j=A,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function w(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=s.navigator;return d&&(d=d.userAgent)?d:""}function I(d){return I[" "](d),d}I[" "]=function(){};var P=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function C(d,v,A){for(const j in d)v.call(A,d[j],j,d)}function S(d,v){for(const A in d)v.call(void 0,d[A],A,d)}function g(d){const v={};for(const A in d)v[A]=d[A];return v}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(d,v){let A,j;for(let L=1;L<arguments.length;L++){j=arguments[L];for(A in j)d[A]=j[A];for(let q=0;q<x.length;q++)A=x[q],Object.prototype.hasOwnProperty.call(j,A)&&(d[A]=j[A])}}function O(d){var v=1;d=d.split(":");const A=[];for(;0<v&&d.length;)A.push(d.shift()),v--;return d.length&&A.push(d.join(":")),A}function R(d){s.setTimeout(()=>{throw d},0)}function N(){var d=U;let v=null;return d.g&&(v=d.g,d.g=d.g.next,d.g||(d.h=null),v.next=null),v}class V{constructor(){this.h=this.g=null}add(v,A){const j=K.get();j.set(v,A),this.h?this.h.next=j:this.g=j,this.h=j}}var K=new E(()=>new W,d=>d.reset());class W{constructor(){this.next=this.g=this.h=null}set(v,A){this.h=v,this.g=A,this.next=null}reset(){this.next=this.g=this.h=null}}let F,$=!1,U=new V,Y=()=>{const d=s.Promise.resolve(void 0);F=()=>{d.then(J)}};var J=()=>{for(var d;d=N();){try{d.h.call(d.g)}catch(A){R(A)}var v=K;v.j(d),100>v.h&&(v.h++,d.next=v.g,v.g=d)}$=!1};function z(){this.s=this.s,this.C=this.C}z.prototype.s=!1,z.prototype.ma=function(){this.s||(this.s=!0,this.N())},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(d,v){this.type=d,this.g=this.target=v,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var pe=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var d=!1,v=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const A=()=>{};s.addEventListener("test",A,v),s.removeEventListener("test",A,v)}catch{}return d}();function ge(d,v){if(te.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var A=this.type=d.type,j=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=v,v=d.relatedTarget){if(P){e:{try{I(v.nodeName);var L=!0;break e}catch{}L=!1}L||(v=null)}}else A=="mouseover"?v=d.fromElement:A=="mouseout"&&(v=d.toElement);this.relatedTarget=v,j?(this.clientX=j.clientX!==void 0?j.clientX:j.pageX,this.clientY=j.clientY!==void 0?j.clientY:j.pageY,this.screenX=j.screenX||0,this.screenY=j.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:Ae[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&ge.aa.h.call(this)}}b(ge,te);var Ae={2:"touch",3:"pen",4:"mouse"};ge.prototype.h=function(){ge.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),$e=0;function Q(d,v,A,j,L){this.listener=d,this.proxy=null,this.src=v,this.type=A,this.capture=!!j,this.ha=L,this.key=++$e,this.da=this.fa=!1}function re(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ae(d){this.src=d,this.g={},this.h=0}ae.prototype.add=function(d,v,A,j,L){var q=d.toString();d=this.g[q],d||(d=this.g[q]=[],this.h++);var ne=me(d,v,j,L);return-1<ne?(v=d[ne],A||(v.fa=!1)):(v=new Q(v,this.src,q,!!j,L),v.fa=A,d.push(v)),v};function G(d,v){var A=v.type;if(A in d.g){var j=d.g[A],L=Array.prototype.indexOf.call(j,v,void 0),q;(q=0<=L)&&Array.prototype.splice.call(j,L,1),q&&(re(v),d.g[A].length==0&&(delete d.g[A],d.h--))}}function me(d,v,A,j){for(var L=0;L<d.length;++L){var q=d[L];if(!q.da&&q.listener==v&&q.capture==!!A&&q.ha==j)return L}return-1}var de="closure_lm_"+(1e6*Math.random()|0),we={};function ye(d,v,A,j,L){if(Array.isArray(v)){for(var q=0;q<v.length;q++)ye(d,v[q],A,j,L);return null}return A=Le(A),d&&d[be]?d.K(v,A,u(j)?!!j.capture:!!j,L):Qe(d,v,A,!1,j,L)}function Qe(d,v,A,j,L,q){if(!v)throw Error("Invalid event type");var ne=u(L)?!!L.capture:!!L,Ye=Xe(d);if(Ye||(d[de]=Ye=new ae(d)),A=Ye.add(v,A,j,ne,q),A.proxy)return A;if(j=st(),A.proxy=j,j.src=d,j.listener=A,d.addEventListener)pe||(L=ne),L===void 0&&(L=!1),d.addEventListener(v.toString(),j,L);else if(d.attachEvent)d.attachEvent(dt(v.toString()),j);else if(d.addListener&&d.removeListener)d.addListener(j);else throw Error("addEventListener and attachEvent are unavailable.");return A}function st(){function d(A){return v.call(d.src,d.listener,A)}const v=Be;return d}function Vt(d,v,A,j,L){if(Array.isArray(v))for(var q=0;q<v.length;q++)Vt(d,v[q],A,j,L);else j=u(j)?!!j.capture:!!j,A=Le(A),d&&d[be]?(d=d.i,v=String(v).toString(),v in d.g&&(q=d.g[v],A=me(q,A,j,L),-1<A&&(re(q[A]),Array.prototype.splice.call(q,A,1),q.length==0&&(delete d.g[v],d.h--)))):d&&(d=Xe(d))&&(v=d.g[v.toString()],d=-1,v&&(d=me(v,A,j,L)),(A=-1<d?v[d]:null)&&Tt(A))}function Tt(d){if(typeof d!="number"&&d&&!d.da){var v=d.src;if(v&&v[be])G(v.i,d);else{var A=d.type,j=d.proxy;v.removeEventListener?v.removeEventListener(A,j,d.capture):v.detachEvent?v.detachEvent(dt(A),j):v.addListener&&v.removeListener&&v.removeListener(j),(A=Xe(v))?(G(A,d),A.h==0&&(A.src=null,v[de]=null)):re(d)}}}function dt(d){return d in we?we[d]:we[d]="on"+d}function Be(d,v){if(d.da)d=!0;else{v=new ge(v,this);var A=d.listener,j=d.ha||d.src;d.fa&&Tt(d),d=A.call(j,v)}return d}function Xe(d){return d=d[de],d instanceof ae?d:null}var Sn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Le(d){return typeof d=="function"?d:(d[Sn]||(d[Sn]=function(v){return d.handleEvent(v)}),d[Sn])}function ht(){z.call(this),this.i=new ae(this),this.M=this,this.F=null}b(ht,z),ht.prototype[be]=!0,ht.prototype.removeEventListener=function(d,v,A,j){Vt(this,d,v,A,j)};function tt(d,v){var A,j=d.F;if(j)for(A=[];j;j=j.F)A.push(j);if(d=d.M,j=v.type||v,typeof v=="string")v=new te(v,d);else if(v instanceof te)v.target=v.target||d;else{var L=v;v=new te(j,d),k(v,L)}if(L=!0,A)for(var q=A.length-1;0<=q;q--){var ne=v.g=A[q];L=Xn(ne,j,!0,v)&&L}if(ne=v.g=d,L=Xn(ne,j,!0,v)&&L,L=Xn(ne,j,!1,v)&&L,A)for(q=0;q<A.length;q++)ne=v.g=A[q],L=Xn(ne,j,!1,v)&&L}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var d=this.i,v;for(v in d.g){for(var A=d.g[v],j=0;j<A.length;j++)re(A[j]);delete d.g[v],d.h--}}this.F=null},ht.prototype.K=function(d,v,A,j){return this.i.add(String(d),v,!1,A,j)},ht.prototype.L=function(d,v,A,j){return this.i.add(String(d),v,!0,A,j)};function Xn(d,v,A,j){if(v=d.i.g[String(v)],!v)return!0;v=v.concat();for(var L=!0,q=0;q<v.length;++q){var ne=v[q];if(ne&&!ne.da&&ne.capture==A){var Ye=ne.listener,Kt=ne.ha||ne.src;ne.fa&&G(d.i,ne),L=Ye.call(Kt,j)!==!1&&L}}return L&&!j.defaultPrevented}function mr(d,v,A){if(typeof d=="function")A&&(d=h(d,A));else if(d&&typeof d.handleEvent=="function")d=h(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:s.setTimeout(d,v||0)}function gr(d){d.g=mr(()=>{d.g=null,d.i&&(d.i=!1,gr(d))},d.l);const v=d.h;d.h=null,d.m.apply(null,v)}class Dr extends z{constructor(v,A){super(),this.m=v,this.l=A,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:gr(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ft(d){z.call(this),this.h=d,this.g={}}b(Ft,z);var qo=[];function hn(d){C(d.g,function(v,A){this.g.hasOwnProperty(A)&&Tt(v)},d),d.g={}}Ft.prototype.N=function(){Ft.aa.N.call(this),hn(this)},Ft.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=s.JSON.stringify,ou=s.JSON.parse,iV=class{stringify(d){return s.JSON.stringify(d,void 0)}parse(d){return s.JSON.parse(d,void 0)}};function oy(){}oy.prototype.h=null;function F1(d){return d.h||(d.h=d.i())}function B1(){}var au={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ay(){te.call(this,"d")}b(ay,te);function sy(){te.call(this,"c")}b(sy,te);var Wo={},U1=null;function od(){return U1=U1||new ht}Wo.La="serverreachability";function z1(d){te.call(this,Wo.La,d)}b(z1,te);function su(d){const v=od();tt(v,new z1(v))}Wo.STAT_EVENT="statevent";function q1(d,v){te.call(this,Wo.STAT_EVENT,d),this.stat=v}b(q1,te);function pn(d){const v=od();tt(v,new q1(v,d))}Wo.Ma="timingevent";function W1(d,v){te.call(this,Wo.Ma,d),this.size=v}b(W1,te);function lu(d,v){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){d()},v)}function uu(){this.g=!0}uu.prototype.xa=function(){this.g=!1};function oV(d,v,A,j,L,q){d.info(function(){if(d.g)if(q)for(var ne="",Ye=q.split("&"),Kt=0;Kt<Ye.length;Kt++){var je=Ye[Kt].split("=");if(1<je.length){var tn=je[0];je=je[1];var nn=tn.split("_");ne=2<=nn.length&&nn[1]=="type"?ne+(tn+"="+je+"&"):ne+(tn+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+j+") [attempt "+L+"]: "+v+`
`+A+`
`+ne})}function aV(d,v,A,j,L,q,ne){d.info(function(){return"XMLHTTP RESP ("+j+") [ attempt "+L+"]: "+v+`
`+A+`
`+q+" "+ne})}function is(d,v,A,j){d.info(function(){return"XMLHTTP TEXT ("+v+"): "+lV(d,A)+(j?" "+j:"")})}function sV(d,v){d.info(function(){return"TIMEOUT: "+v})}uu.prototype.info=function(){};function lV(d,v){if(!d.g)return v;if(!v)return null;try{var A=JSON.parse(v);if(A){for(d=0;d<A.length;d++)if(Array.isArray(A[d])){var j=A[d];if(!(2>j.length)){var L=j[1];if(Array.isArray(L)&&!(1>L.length)){var q=L[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<L.length;ne++)L[ne]=""}}}}return rs(A)}catch{return v}}var ad={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},H1={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ly;function sd(){}b(sd,oy),sd.prototype.g=function(){return new XMLHttpRequest},sd.prototype.i=function(){return{}},ly=new sd;function Li(d,v,A,j){this.j=d,this.i=v,this.l=A,this.R=j||1,this.U=new Ft(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new K1}function K1(){this.i=null,this.g="",this.h=!1}var G1={},uy={};function cy(d,v,A){d.L=1,d.v=fd(ti(v)),d.m=A,d.P=!0,Q1(d,null)}function Q1(d,v){d.F=Date.now(),ld(d),d.A=ti(d.v);var A=d.A,j=d.R;Array.isArray(j)||(j=[String(j)]),uE(A.i,"t",j),d.C=0,A=d.j.J,d.h=new K1,d.g=AE(d.j,A?v:null,!d.m),0<d.O&&(d.M=new Dr(h(d.Y,d,d.g),d.O)),v=d.U,A=d.g,j=d.ca;var L="readystatechange";Array.isArray(L)||(L&&(qo[0]=L.toString()),L=qo);for(var q=0;q<L.length;q++){var ne=ye(A,L[q],j||v.handleEvent,!1,v.h||v);if(!ne)break;v.g[ne.key]=ne}v=d.H?g(d.H):{},d.m?(d.u||(d.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,v)):(d.u="GET",d.g.ea(d.A,d.u,null,v)),su(),oV(d.i,d.u,d.A,d.l,d.R,d.m)}Li.prototype.ca=function(d){d=d.target;const v=this.M;v&&ni(d)==3?v.j():this.Y(d)},Li.prototype.Y=function(d){try{if(d==this.g)e:{const nn=ni(this.g);var v=this.g.Ba();const ss=this.g.Z();if(!(3>nn)&&(nn!=3||this.g&&(this.h.h||this.g.oa()||gE(this.g)))){this.J||nn!=4||v==7||(v==8||0>=ss?su(3):su(2)),fy(this);var A=this.g.Z();this.X=A;t:if(X1(this)){var j=gE(this.g);d="";var L=j.length,q=ni(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ho(this),cu(this);var ne="";break t}this.h.i=new s.TextDecoder}for(v=0;v<L;v++)this.h.h=!0,d+=this.h.i.decode(j[v],{stream:!(q&&v==L-1)});j.length=0,this.h.g+=d,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=A==200,aV(this.i,this.u,this.A,this.l,this.R,nn,A),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Kt=this.g;if((Ye=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(Ye)){var je=Ye;break t}}je=null}if(A=je)is(this.i,this.l,A,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,dy(this,A);else{this.o=!1,this.s=3,pn(12),Ho(this),cu(this);break e}}if(this.P){A=!0;let yr;for(;!this.J&&this.C<ne.length;)if(yr=uV(this,ne),yr==uy){nn==4&&(this.s=4,pn(14),A=!1),is(this.i,this.l,null,"[Incomplete Response]");break}else if(yr==G1){this.s=4,pn(15),is(this.i,this.l,ne,"[Invalid Chunk]"),A=!1;break}else is(this.i,this.l,yr,null),dy(this,yr);if(X1(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nn!=4||ne.length!=0||this.h.h||(this.s=1,pn(16),A=!1),this.o=this.o&&A,!A)is(this.i,this.l,ne,"[Invalid Chunked Response]"),Ho(this),cu(this);else if(0<ne.length&&!this.W){this.W=!0;var tn=this.j;tn.g==this&&tn.ba&&!tn.M&&(tn.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),vy(tn),tn.M=!0,pn(11))}}else is(this.i,this.l,ne,null),dy(this,ne);nn==4&&Ho(this),this.o&&!this.J&&(nn==4?EE(this.j,this):(this.o=!1,ld(this)))}else IV(this.g),A==400&&0<ne.indexOf("Unknown SID")?(this.s=3,pn(12)):(this.s=0,pn(13)),Ho(this),cu(this)}}}catch{}finally{}};function X1(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function uV(d,v){var A=d.C,j=v.indexOf(`
`,A);return j==-1?uy:(A=Number(v.substring(A,j)),isNaN(A)?G1:(j+=1,j+A>v.length?uy:(v=v.slice(j,j+A),d.C=j+A,v)))}Li.prototype.cancel=function(){this.J=!0,Ho(this)};function ld(d){d.S=Date.now()+d.I,Y1(d,d.I)}function Y1(d,v){if(d.B!=null)throw Error("WatchDog timer not null");d.B=lu(h(d.ba,d),v)}function fy(d){d.B&&(s.clearTimeout(d.B),d.B=null)}Li.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(sV(this.i,this.A),this.L!=2&&(su(),pn(17)),Ho(this),this.s=2,cu(this)):Y1(this,this.S-d)};function cu(d){d.j.G==0||d.J||EE(d.j,d)}function Ho(d){fy(d);var v=d.M;v&&typeof v.ma=="function"&&v.ma(),d.M=null,hn(d.U),d.g&&(v=d.g,d.g=null,v.abort(),v.ma())}function dy(d,v){try{var A=d.j;if(A.G!=0&&(A.g==d||hy(A.h,d))){if(!d.K&&hy(A.h,d)&&A.G==3){try{var j=A.Da.g.parse(v)}catch{j=null}if(Array.isArray(j)&&j.length==3){var L=j;if(L[0]==0){e:if(!A.u){if(A.g)if(A.g.F+3e3<d.F)yd(A),md(A);else break e;yy(A),pn(18)}}else A.za=L[1],0<A.za-A.T&&37500>L[2]&&A.F&&A.v==0&&!A.C&&(A.C=lu(h(A.Za,A),6e3));if(1>=eE(A.h)&&A.ca){try{A.ca()}catch{}A.ca=void 0}}else Go(A,11)}else if((d.K||A.g==d)&&yd(A),!w(v))for(L=A.Da.g.parse(v),v=0;v<L.length;v++){let je=L[v];if(A.T=je[0],je=je[1],A.G==2)if(je[0]=="c"){A.K=je[1],A.ia=je[2];const tn=je[3];tn!=null&&(A.la=tn,A.j.info("VER="+A.la));const nn=je[4];nn!=null&&(A.Aa=nn,A.j.info("SVER="+A.Aa));const ss=je[5];ss!=null&&typeof ss=="number"&&0<ss&&(j=1.5*ss,A.L=j,A.j.info("backChannelRequestTimeoutMs_="+j)),j=A;const yr=d.g;if(yr){const _d=yr.g?yr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_d){var q=j.h;q.g||_d.indexOf("spdy")==-1&&_d.indexOf("quic")==-1&&_d.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(py(q,q.h),q.h=null))}if(j.D){const _y=yr.g?yr.g.getResponseHeader("X-HTTP-Session-Id"):null;_y&&(j.ya=_y,nt(j.I,j.D,_y))}}A.G=3,A.l&&A.l.ua(),A.ba&&(A.R=Date.now()-d.F,A.j.info("Handshake RTT: "+A.R+"ms")),j=A;var ne=d;if(j.qa=IE(j,j.J?j.ia:null,j.W),ne.K){tE(j.h,ne);var Ye=ne,Kt=j.L;Kt&&(Ye.I=Kt),Ye.B&&(fy(Ye),ld(Ye)),j.g=ne}else wE(j);0<A.i.length&&gd(A)}else je[0]!="stop"&&je[0]!="close"||Go(A,7);else A.G==3&&(je[0]=="stop"||je[0]=="close"?je[0]=="stop"?Go(A,7):gy(A):je[0]!="noop"&&A.l&&A.l.ta(je),A.v=0)}}su(4)}catch{}}var cV=class{constructor(d,v){this.g=d,this.map=v}};function J1(d){this.l=d||10,s.PerformanceNavigationTiming?(d=s.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Z1(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function eE(d){return d.h?1:d.g?d.g.size:0}function hy(d,v){return d.h?d.h==v:d.g?d.g.has(v):!1}function py(d,v){d.g?d.g.add(v):d.h=v}function tE(d,v){d.h&&d.h==v?d.h=null:d.g&&d.g.has(v)&&d.g.delete(v)}J1.prototype.cancel=function(){if(this.i=nE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function nE(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let v=d.i;for(const A of d.g.values())v=v.concat(A.D);return v}return y(d.i)}function fV(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(l(d)){for(var v=[],A=d.length,j=0;j<A;j++)v.push(d[j]);return v}v=[],A=0;for(j in d)v[A++]=d[j];return v}function dV(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(l(d)||typeof d=="string"){var v=[];d=d.length;for(var A=0;A<d;A++)v.push(A);return v}v=[],A=0;for(const j in d)v[A++]=j;return v}}}function rE(d,v){if(d.forEach&&typeof d.forEach=="function")d.forEach(v,void 0);else if(l(d)||typeof d=="string")Array.prototype.forEach.call(d,v,void 0);else for(var A=dV(d),j=fV(d),L=j.length,q=0;q<L;q++)v.call(void 0,j[q],A&&A[q],d)}var iE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hV(d,v){if(d){d=d.split("&");for(var A=0;A<d.length;A++){var j=d[A].indexOf("="),L=null;if(0<=j){var q=d[A].substring(0,j);L=d[A].substring(j+1)}else q=d[A];v(q,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ko(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Ko){this.h=d.h,ud(this,d.j),this.o=d.o,this.g=d.g,cd(this,d.s),this.l=d.l;var v=d.i,A=new hu;A.i=v.i,v.g&&(A.g=new Map(v.g),A.h=v.h),oE(this,A),this.m=d.m}else d&&(v=String(d).match(iE))?(this.h=!1,ud(this,v[1]||"",!0),this.o=fu(v[2]||""),this.g=fu(v[3]||"",!0),cd(this,v[4]),this.l=fu(v[5]||"",!0),oE(this,v[6]||"",!0),this.m=fu(v[7]||"")):(this.h=!1,this.i=new hu(null,this.h))}Ko.prototype.toString=function(){var d=[],v=this.j;v&&d.push(du(v,aE,!0),":");var A=this.g;return(A||v=="file")&&(d.push("//"),(v=this.o)&&d.push(du(v,aE,!0),"@"),d.push(encodeURIComponent(String(A)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),A=this.s,A!=null&&d.push(":",String(A))),(A=this.l)&&(this.g&&A.charAt(0)!="/"&&d.push("/"),d.push(du(A,A.charAt(0)=="/"?gV:mV,!0))),(A=this.i.toString())&&d.push("?",A),(A=this.m)&&d.push("#",du(A,vV)),d.join("")};function ti(d){return new Ko(d)}function ud(d,v,A){d.j=A?fu(v,!0):v,d.j&&(d.j=d.j.replace(/:$/,""))}function cd(d,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);d.s=v}else d.s=null}function oE(d,v,A){v instanceof hu?(d.i=v,_V(d.i,d.h)):(A||(v=du(v,yV)),d.i=new hu(v,d.h))}function nt(d,v,A){d.i.set(v,A)}function fd(d){return nt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function fu(d,v){return d?v?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function du(d,v,A){return typeof d=="string"?(d=encodeURI(d).replace(v,pV),A&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function pV(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var aE=/[#\/\?@]/g,mV=/[#\?:]/g,gV=/[#\?]/g,yV=/[#\?@]/g,vV=/#/g;function hu(d,v){this.h=this.g=null,this.i=d||null,this.j=!!v}function Vi(d){d.g||(d.g=new Map,d.h=0,d.i&&hV(d.i,function(v,A){d.add(decodeURIComponent(v.replace(/\+/g," ")),A)}))}t=hu.prototype,t.add=function(d,v){Vi(this),this.i=null,d=os(this,d);var A=this.g.get(d);return A||this.g.set(d,A=[]),A.push(v),this.h+=1,this};function sE(d,v){Vi(d),v=os(d,v),d.g.has(v)&&(d.i=null,d.h-=d.g.get(v).length,d.g.delete(v))}function lE(d,v){return Vi(d),v=os(d,v),d.g.has(v)}t.forEach=function(d,v){Vi(this),this.g.forEach(function(A,j){A.forEach(function(L){d.call(v,L,j,this)},this)},this)},t.na=function(){Vi(this);const d=Array.from(this.g.values()),v=Array.from(this.g.keys()),A=[];for(let j=0;j<v.length;j++){const L=d[j];for(let q=0;q<L.length;q++)A.push(v[j])}return A},t.V=function(d){Vi(this);let v=[];if(typeof d=="string")lE(this,d)&&(v=v.concat(this.g.get(os(this,d))));else{d=Array.from(this.g.values());for(let A=0;A<d.length;A++)v=v.concat(d[A])}return v},t.set=function(d,v){return Vi(this),this.i=null,d=os(this,d),lE(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[v]),this.h+=1,this},t.get=function(d,v){return d?(d=this.V(d),0<d.length?String(d[0]):v):v};function uE(d,v,A){sE(d,v),0<A.length&&(d.i=null,d.g.set(os(d,v),y(A)),d.h+=A.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],v=Array.from(this.g.keys());for(var A=0;A<v.length;A++){var j=v[A];const q=encodeURIComponent(String(j)),ne=this.V(j);for(j=0;j<ne.length;j++){var L=q;ne[j]!==""&&(L+="="+encodeURIComponent(String(ne[j]))),d.push(L)}}return this.i=d.join("&")};function os(d,v){return v=String(v),d.j&&(v=v.toLowerCase()),v}function _V(d,v){v&&!d.j&&(Vi(d),d.i=null,d.g.forEach(function(A,j){var L=j.toLowerCase();j!=L&&(sE(this,j),uE(this,L,A))},d)),d.j=v}function bV(d,v){const A=new uu;if(s.Image){const j=new Image;j.onload=p(Fi,A,"TestLoadImage: loaded",!0,v,j),j.onerror=p(Fi,A,"TestLoadImage: error",!1,v,j),j.onabort=p(Fi,A,"TestLoadImage: abort",!1,v,j),j.ontimeout=p(Fi,A,"TestLoadImage: timeout",!1,v,j),s.setTimeout(function(){j.ontimeout&&j.ontimeout()},1e4),j.src=d}else v(!1)}function wV(d,v){const A=new uu,j=new AbortController,L=setTimeout(()=>{j.abort(),Fi(A,"TestPingServer: timeout",!1,v)},1e4);fetch(d,{signal:j.signal}).then(q=>{clearTimeout(L),q.ok?Fi(A,"TestPingServer: ok",!0,v):Fi(A,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(L),Fi(A,"TestPingServer: error",!1,v)})}function Fi(d,v,A,j,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),j(A)}catch{}}function xV(){this.g=new iV}function EV(d,v,A){const j=A||"";try{rE(d,function(L,q){let ne=L;u(L)&&(ne=rs(L)),v.push(j+q+"="+encodeURIComponent(ne))})}catch(L){throw v.push(j+"type="+encodeURIComponent("_badmap")),L}}function dd(d){this.l=d.Ub||null,this.j=d.eb||!1}b(dd,oy),dd.prototype.g=function(){return new hd(this.l,this.j)},dd.prototype.i=function(d){return function(){return d}}({});function hd(d,v){ht.call(this),this.D=d,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(hd,ht),t=hd.prototype,t.open=function(d,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=v,this.readyState=1,mu(this)},t.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(v.body=d),(this.D||s).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pu(this)),this.readyState=0},t.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,mu(this)),this.g&&(this.readyState=3,mu(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cE(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function cE(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}t.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var v=d.value?d.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!d.done}))&&(this.response=this.responseText+=v)}d.done?pu(this):mu(this),this.readyState==3&&cE(this)}},t.Ra=function(d){this.g&&(this.response=this.responseText=d,pu(this))},t.Qa=function(d){this.g&&(this.response=d,pu(this))},t.ga=function(){this.g&&pu(this)};function pu(d){d.readyState=4,d.l=null,d.j=null,d.v=null,mu(d)}t.setRequestHeader=function(d,v){this.u.append(d,v)},t.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],v=this.h.entries();for(var A=v.next();!A.done;)A=A.value,d.push(A[0]+": "+A[1]),A=v.next();return d.join(`\r
`)};function mu(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(hd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function fE(d){let v="";return C(d,function(A,j){v+=j,v+=":",v+=A,v+=`\r
`}),v}function my(d,v,A){e:{for(j in A){var j=!1;break e}j=!0}j||(A=fE(A),typeof d=="string"?A!=null&&encodeURIComponent(String(A)):nt(d,v,A))}function bt(d){ht.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(bt,ht);var TV=/^https?$/i,SV=["POST","PUT"];t=bt.prototype,t.Ha=function(d){this.J=d},t.ea=function(d,v,A,j){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);v=v?v.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ly.g(),this.v=this.o?F1(this.o):F1(ly),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open(v,String(d),!0),this.B=!1}catch(q){dE(this,q);return}if(d=A||"",A=new Map(this.headers),j)if(Object.getPrototypeOf(j)===Object.prototype)for(var L in j)A.set(L,j[L]);else if(typeof j.keys=="function"&&typeof j.get=="function")for(const q of j.keys())A.set(q,j.get(q));else throw Error("Unknown input type for opt_headers: "+String(j));j=Array.from(A.keys()).find(q=>q.toLowerCase()=="content-type"),L=s.FormData&&d instanceof s.FormData,!(0<=Array.prototype.indexOf.call(SV,v,void 0))||j||L||A.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of A)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{mE(this),this.u=!0,this.g.send(d),this.u=!1}catch(q){dE(this,q)}};function dE(d,v){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=v,d.m=5,hE(d),pd(d)}function hE(d){d.A||(d.A=!0,tt(d,"complete"),tt(d,"error"))}t.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,tt(this,"complete"),tt(this,"abort"),pd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pd(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?pE(this):this.bb())},t.bb=function(){pE(this)};function pE(d){if(d.h&&typeof a<"u"&&(!d.v[1]||ni(d)!=4||d.Z()!=2)){if(d.u&&ni(d)==4)mr(d.Ea,0,d);else if(tt(d,"readystatechange"),ni(d)==4){d.h=!1;try{const ne=d.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var A;if(!(A=v)){var j;if(j=ne===0){var L=String(d.D).match(iE)[1]||null;!L&&s.self&&s.self.location&&(L=s.self.location.protocol.slice(0,-1)),j=!TV.test(L?L.toLowerCase():"")}A=j}if(A)tt(d,"complete"),tt(d,"success");else{d.m=6;try{var q=2<ni(d)?d.g.statusText:""}catch{q=""}d.l=q+" ["+d.Z()+"]",hE(d)}}finally{pd(d)}}}}function pd(d,v){if(d.g){mE(d);const A=d.g,j=d.v[0]?()=>{}:null;d.g=null,d.v=null,v||tt(d,"ready");try{A.onreadystatechange=j}catch{}}}function mE(d){d.I&&(s.clearTimeout(d.I),d.I=null)}t.isActive=function(){return!!this.g};function ni(d){return d.g?d.g.readyState:0}t.Z=function(){try{return 2<ni(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(d){if(this.g){var v=this.g.responseText;return d&&v.indexOf(d)==0&&(v=v.substring(d.length)),ou(v)}};function gE(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function IV(d){const v={};d=(d.g&&2<=ni(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let j=0;j<d.length;j++){if(w(d[j]))continue;var A=O(d[j]);const L=A[0];if(A=A[1],typeof A!="string")continue;A=A.trim();const q=v[L]||[];v[L]=q,q.push(A)}S(v,function(j){return j.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gu(d,v,A){return A&&A.internalChannelParams&&A.internalChannelParams[d]||v}function yE(d){this.Aa=0,this.i=[],this.j=new uu,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gu("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gu("baseRetryDelayMs",5e3,d),this.cb=gu("retryDelaySeedMs",1e4,d),this.Wa=gu("forwardChannelMaxRetries",2,d),this.wa=gu("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new J1(d&&d.concurrentRequestLimit),this.Da=new xV,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=yE.prototype,t.la=8,t.G=1,t.connect=function(d,v,A,j){pn(0),this.W=d,this.H=v||{},A&&j!==void 0&&(this.H.OSID=A,this.H.OAID=j),this.F=this.X,this.I=IE(this,null,this.W),gd(this)};function gy(d){if(vE(d),d.G==3){var v=d.U++,A=ti(d.I);if(nt(A,"SID",d.K),nt(A,"RID",v),nt(A,"TYPE","terminate"),yu(d,A),v=new Li(d,d.j,v),v.L=2,v.v=fd(ti(A)),A=!1,s.navigator&&s.navigator.sendBeacon)try{A=s.navigator.sendBeacon(v.v.toString(),"")}catch{}!A&&s.Image&&(new Image().src=v.v,A=!0),A||(v.g=AE(v.j,null),v.g.ea(v.v)),v.F=Date.now(),ld(v)}SE(d)}function md(d){d.g&&(vy(d),d.g.cancel(),d.g=null)}function vE(d){md(d),d.u&&(s.clearTimeout(d.u),d.u=null),yd(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&s.clearTimeout(d.s),d.s=null)}function gd(d){if(!Z1(d.h)&&!d.s){d.s=!0;var v=d.Ga;F||Y(),$||(F(),$=!0),U.add(v,d),d.B=0}}function AV(d,v){return eE(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=v.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=lu(h(d.Ga,d,v),TE(d,d.B)),d.B++,!0)}t.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const L=new Li(this,this.j,d);let q=this.o;if(this.S&&(q?(q=g(q),k(q,this.S)):q=this.S),this.m!==null||this.O||(L.H=q,q=null),this.P)e:{for(var v=0,A=0;A<this.i.length;A++){t:{var j=this.i[A];if("__data__"in j.map&&(j=j.map.__data__,typeof j=="string")){j=j.length;break t}j=void 0}if(j===void 0)break;if(v+=j,4096<v){v=A;break e}if(v===4096||A===this.i.length-1){v=A+1;break e}}v=1e3}else v=1e3;v=bE(this,L,v),A=ti(this.I),nt(A,"RID",d),nt(A,"CVER",22),this.D&&nt(A,"X-HTTP-Session-Id",this.D),yu(this,A),q&&(this.O?v="headers="+encodeURIComponent(String(fE(q)))+"&"+v:this.m&&my(A,this.m,q)),py(this.h,L),this.Ua&&nt(A,"TYPE","init"),this.P?(nt(A,"$req",v),nt(A,"SID","null"),L.T=!0,cy(L,A,null)):cy(L,A,v),this.G=2}}else this.G==3&&(d?_E(this,d):this.i.length==0||Z1(this.h)||_E(this))};function _E(d,v){var A;v?A=v.l:A=d.U++;const j=ti(d.I);nt(j,"SID",d.K),nt(j,"RID",A),nt(j,"AID",d.T),yu(d,j),d.m&&d.o&&my(j,d.m,d.o),A=new Li(d,d.j,A,d.B+1),d.m===null&&(A.H=d.o),v&&(d.i=v.D.concat(d.i)),v=bE(d,A,1e3),A.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),py(d.h,A),cy(A,j,v)}function yu(d,v){d.H&&C(d.H,function(A,j){nt(v,j,A)}),d.l&&rE({},function(A,j){nt(v,j,A)})}function bE(d,v,A){A=Math.min(d.i.length,A);var j=d.l?h(d.l.Na,d.l,d):null;e:{var L=d.i;let q=-1;for(;;){const ne=["count="+A];q==-1?0<A?(q=L[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let Ye=!0;for(let Kt=0;Kt<A;Kt++){let je=L[Kt].g;const tn=L[Kt].map;if(je-=q,0>je)q=Math.max(0,L[Kt].g-100),Ye=!1;else try{EV(tn,ne,"req"+je+"_")}catch{j&&j(tn)}}if(Ye){j=ne.join("&");break e}}}return d=d.i.splice(0,A),v.D=d,j}function wE(d){if(!d.g&&!d.u){d.Y=1;var v=d.Fa;F||Y(),$||(F(),$=!0),U.add(v,d),d.v=0}}function yy(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=lu(h(d.Fa,d),TE(d,d.v)),d.v++,!0)}t.Fa=function(){if(this.u=null,xE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=lu(h(this.ab,this),d)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pn(10),md(this),xE(this))};function vy(d){d.A!=null&&(s.clearTimeout(d.A),d.A=null)}function xE(d){d.g=new Li(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var v=ti(d.qa);nt(v,"RID","rpc"),nt(v,"SID",d.K),nt(v,"AID",d.T),nt(v,"CI",d.F?"0":"1"),!d.F&&d.ja&&nt(v,"TO",d.ja),nt(v,"TYPE","xmlhttp"),yu(d,v),d.m&&d.o&&my(v,d.m,d.o),d.L&&(d.g.I=d.L);var A=d.g;d=d.ia,A.L=1,A.v=fd(ti(v)),A.m=null,A.P=!0,Q1(A,d)}t.Za=function(){this.C!=null&&(this.C=null,md(this),yy(this),pn(19))};function yd(d){d.C!=null&&(s.clearTimeout(d.C),d.C=null)}function EE(d,v){var A=null;if(d.g==v){yd(d),vy(d),d.g=null;var j=2}else if(hy(d.h,v))A=v.D,tE(d.h,v),j=1;else return;if(d.G!=0){if(v.o)if(j==1){A=v.m?v.m.length:0,v=Date.now()-v.F;var L=d.B;j=od(),tt(j,new W1(j,A)),gd(d)}else wE(d);else if(L=v.s,L==3||L==0&&0<v.X||!(j==1&&AV(d,v)||j==2&&yy(d)))switch(A&&0<A.length&&(v=d.h,v.i=v.i.concat(A)),L){case 1:Go(d,5);break;case 4:Go(d,10);break;case 3:Go(d,6);break;default:Go(d,2)}}}function TE(d,v){let A=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(A*=2),A*v}function Go(d,v){if(d.j.info("Error code "+v),v==2){var A=h(d.fb,d),j=d.Xa;const L=!j;j=new Ko(j||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||ud(j,"https"),fd(j),L?bV(j.toString(),A):wV(j.toString(),A)}else pn(2);d.G=0,d.l&&d.l.sa(v),SE(d),vE(d)}t.fb=function(d){d?(this.j.info("Successfully pinged google.com"),pn(2)):(this.j.info("Failed to ping google.com"),pn(1))};function SE(d){if(d.G=0,d.ka=[],d.l){const v=nE(d.h);(v.length!=0||d.i.length!=0)&&(_(d.ka,v),_(d.ka,d.i),d.h.i.length=0,y(d.i),d.i.length=0),d.l.ra()}}function IE(d,v,A){var j=A instanceof Ko?ti(A):new Ko(A);if(j.g!="")v&&(j.g=v+"."+j.g),cd(j,j.s);else{var L=s.location;j=L.protocol,v=v?v+"."+L.hostname:L.hostname,L=+L.port;var q=new Ko(null);j&&ud(q,j),v&&(q.g=v),L&&cd(q,L),A&&(q.l=A),j=q}return A=d.D,v=d.ya,A&&v&&nt(j,A,v),nt(j,"VER",d.la),yu(d,j),j}function AE(d,v,A){if(v&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=d.Ca&&!d.pa?new bt(new dd({eb:A})):new bt(d.pa),v.Ha(d.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function PE(){}t=PE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function vd(){}vd.prototype.g=function(d,v){return new Mn(d,v)};function Mn(d,v){ht.call(this),this.g=new yE(v),this.l=d,this.h=v&&v.messageUrlParams||null,d=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(d?d["X-WebChannel-Content-Type"]=v.messageContentType:d={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(d?d["X-WebChannel-Client-Profile"]=v.va:d={"X-WebChannel-Client-Profile":v.va}),this.g.S=d,(d=v&&v.Sb)&&!w(d)&&(this.g.m=d),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!w(v)&&(this.g.D=v,d=this.h,d!==null&&v in d&&(d=this.h,v in d&&delete d[v])),this.j=new as(this)}b(Mn,ht),Mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Mn.prototype.close=function(){gy(this.g)},Mn.prototype.o=function(d){var v=this.g;if(typeof d=="string"){var A={};A.__data__=d,d=A}else this.u&&(A={},A.__data__=rs(d),d=A);v.i.push(new cV(v.Ya++,d)),v.G==3&&gd(v)},Mn.prototype.N=function(){this.g.l=null,delete this.j,gy(this.g),delete this.g,Mn.aa.N.call(this)};function kE(d){ay.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var v=d.__sm__;if(v){e:{for(const A in v){d=A;break e}d=void 0}(this.i=d)&&(d=this.i,v=v!==null&&d in v?v[d]:void 0),this.data=v}else this.data=d}b(kE,ay);function OE(){sy.call(this),this.status=1}b(OE,sy);function as(d){this.g=d}b(as,PE),as.prototype.ua=function(){tt(this.g,"a")},as.prototype.ta=function(d){tt(this.g,new kE(d))},as.prototype.sa=function(d){tt(this.g,new OE)},as.prototype.ra=function(){tt(this.g,"b")},vd.prototype.createWebChannel=vd.prototype.g,Mn.prototype.send=Mn.prototype.o,Mn.prototype.open=Mn.prototype.m,Mn.prototype.close=Mn.prototype.close,n2=function(){return new vd},t2=function(){return od()},e2=Wo,F0={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ad.NO_ERROR=0,ad.TIMEOUT=8,ad.HTTP_ERROR=6,xh=ad,H1.COMPLETE="complete",ZR=H1,B1.EventType=au,au.OPEN="a",au.CLOSE="b",au.ERROR="c",au.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Gu=B1,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,JR=bt}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});const IS="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ca=new Bm("@firebase/firestore");function ys(){return Ca.logLevel}function Z(t,...e){if(Ca.logLevel<=ke.DEBUG){const n=e.map(Bw);Ca.debug(`Firestore (${Bl}): ${t}`,...n)}}function yn(t,...e){if(Ca.logLevel<=ke.ERROR){const n=e.map(Bw);Ca.error(`Firestore (${Bl}): ${t}`,...n)}}function Na(t,...e){if(Ca.logLevel<=ke.WARN){const n=e.map(Bw);Ca.warn(`Firestore (${Bl}): ${t}`,...n)}}function Bw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ce(t="Unexpected state"){const e=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: `+t;throw yn(e),new Error(e)}function fe(t,e){t||ce()}function xe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Nr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Z6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Xt.UNAUTHENTICATED))}shutdown(){}}class e9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class t9{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){fe(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new yi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new yi,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},s=l=>{Z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>s(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?s(l):(Z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new yi)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(fe(typeof r.accessToken=="string"),new r2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return fe(e===null||typeof e=="string"),new Xt(e)}}class n9{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class r9{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new n9(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Xt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class i9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class o9{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){fe(this.o===void 0);const r=o=>{o.error!=null&&Z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const a=o.token!==this.R;return this.R=o.token,Z("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(fe(typeof n.token=="string"),this.R=n.token,new i9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=a9(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Ee(t,e){return t<e?-1:t>e?1:0}function il(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function o2(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yt.fromMillis(Date.now())}static fromDate(e){return yt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new yt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class he{constructor(e){this.timestamp=e}static fromTimestamp(e){return new he(e)}static min(){return new he(new yt(0,0))}static max(){return new he(new yt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,n,r){n===void 0?n=0:n>e.length&&ce(),r===void 0?r=e.length-n:r>e.length-n&&ce(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uc.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uc?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),a=n.get(i);if(o<a)return-1;if(o>a)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ue extends Uc{construct(e,n,r){return new Ue(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new le(X.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ue(n)}static emptyPath(){return new Ue([])}}const s9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mt extends Uc{construct(e,n,r){return new mt(e,n,r)}static isValidIdentifier(e){return s9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new mt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new le(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const s=e[i];if(s==="\\"){if(i+1===e.length)throw new le(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new le(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else s==="`"?(a=!a,i++):s!=="."||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new le(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mt(n)}static emptyPath(){return new mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oe{constructor(e){this.path=e}static fromPath(e){return new oe(Ue.fromString(e))}static fromName(e){return new oe(Ue.fromString(e).popFirst(5))}static empty(){return new oe(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ue.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ue.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new oe(new Ue(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function B0(t){return t.fields.find(e=>e.kind===2)}function ea(t){return t.fields.filter(e=>e.kind!==2)}cp.UNKNOWN_ID=-1;class Eh{constructor(e,n){this.fieldPath=e,this.kind=n}}class zc{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new zc(0,Kn.min())}}function l9(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=he.fromTimestamp(r===1e9?new yt(n+1,0):new yt(n,r));return new Kn(i,oe.empty(),e)}function a2(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Kn(he.min(),oe.empty(),-1)}static max(){return new Kn(he.max(),oe.empty(),-1)}}function Uw(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=oe.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ya(t){if(t.code!==X.FAILED_PRECONDITION||t.message!==s2)throw t;Z("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ce(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let i=0,o=0,a=!1;e.forEach(s=>{++i,s.next(()=>{++o,a&&o===i&&n()},l=>r(l))}),a=!0,o===i&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(i=>i?B.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new B((r,i)=>{const o=e.length,a=new Array(o);let s=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{a[u]=c,++s,s===o&&r(a)},c=>i(c))}})}static doWhile(e,n){return new B((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new yi,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new uc(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=zw(r.target.error);this.V.reject(new uc(e,i))}}static open(e,n,r,i){try{return new Wm(n,e.transaction(i,r))}catch(o){throw new uc(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Z("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new c9(n)}}class bo{constructor(e,n,r){this.name=e,this.version=n,this.p=r,bo.S(Mt())===12.2&&yn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Z("SimpleDb","Removing database:",e),ia(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!Fm())return!1;if(bo.v())return!0;const e=Mt(),n=bo.S(e),r=0<n&&n<10,i=u2(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(Z("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const a=o.target.result;n(a)},i.onblocked=()=>{r(new uc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const a=o.target.error;a.name==="VersionError"?r(new le(X.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):a.name==="InvalidStateError"?r(new le(X.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+a)):r(new uc(e,a))},i.onupgradeneeded=o=>{Z("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const a=o.target.result;this.p.O(a,i.transaction,o.oldVersion,this.version).next(()=>{Z("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let a=0;for(;;){++a;try{this.db=await this.M(e);const s=Wm.open(this.db,e,o?"readonly":"readwrite",r),l=i(s).next(u=>(s.g(),u)).catch(u=>(s.abort(u),B.reject(u))).toPromise();return l.catch(()=>{}),await s.m,l}catch(s){const l=s,u=l.name!=="FirebaseError"&&a<3;if(Z("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function u2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class u9{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ia(this.B.delete())}}class uc extends le{constructor(e,n){super(X.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function $o(t){return t.name==="IndexedDbTransactionError"}class c9{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Z("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Z("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ia(r)}add(e){return Z("SimpleDb","ADD",this.store.name,e,e),ia(this.store.add(e))}get(e){return ia(this.store.get(e)).next(n=>(n===void 0&&(n=null),Z("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Z("SimpleDb","DELETE",this.store.name,e),ia(this.store.delete(e))}count(){return Z("SimpleDb","COUNT",this.store.name),ia(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new B((a,s)=>{o.onerror=l=>{s(l.target.error)},o.onsuccess=l=>{a(l.target.result)}})}{const o=this.cursor(r),a=[];return this.W(o,(s,l)=>{a.push(l)}).next(()=>a)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new B((i,o)=>{r.onerror=a=>{o(a.target.error)},r.onsuccess=a=>{i(a.target.result)}})}j(e,n){Z("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,a,s)=>s.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new B((r,i)=>{n.onerror=o=>{const a=zw(o.target.error);i(a)},n.onsuccess=o=>{const a=o.target.result;a?e(a.primaryKey,a.value).next(s=>{s?a.continue():r()}):r()}})}W(e,n){const r=[];return new B((i,o)=>{e.onerror=a=>{o(a.target.error)},e.onsuccess=a=>{const s=a.target.result;if(!s)return void i();const l=new u9(s),u=n(s.primaryKey,s.value,l);if(u instanceof B){const c=u.catch(f=>(l.done(),B.reject(f)));r.push(c)}l.isDone?i():l.K===null?s.continue():s.continue(l.K)}}).next(()=>B.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ia(t){return new B((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=zw(r.target.error);n(i)}})}let AS=!1;function zw(t){const e=bo.S(Mt());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return AS||(AS=!0,setTimeout(()=>{throw r},0)),r}}return t}class f9{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Z("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Z("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){$o(n)?Z("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ya(n)}await this.X(6e4)})}}class d9{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return B.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(a=>{if(a!==null&&!r.has(a))return Z("IndexBackfiller",`Processing collection: ${a}`),this.ne(e,a,i).next(s=>{i-=s,r.add(a)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const a=o.changes;return this.localStore.indexManager.updateIndexEntries(e,a).next(()=>this.re(i,o)).next(s=>(Z("IndexBackfiller",`Updating offset: ${s}`),this.localStore.indexManager.updateCollectionGroup(e,n,s))).next(()=>a.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const a=a2(o);Uw(a,r)>0&&(r=a)}),new Kn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}rr.oe=-1;function Hm(t){return t==null}function qc(t){return t===0&&1/t==-1/0}function h9(t){return typeof t=="number"&&Number.isInteger(t)&&!qc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=PS(e)),e=p9(t.get(n),e);return PS(e)}function p9(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function PS(t){return t+""}function Br(t){const e=t.length;if(fe(e>=2),e===2)return fe(t.charAt(0)===""&&t.charAt(1)===""),Ue.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const a=t.indexOf("",o);switch((a<0||a>n)&&ce(),t.charAt(a+1)){case"":const s=t.substring(o,a);let l;i.length===0?l=s:(i+=s,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,a),i+="\0";break;case"":i+=t.substring(o,a+1);break;default:ce()}o=a+2}return new Ue(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Th(t,e){return[t,wn(e)]}function c2(t,e,n){return[t,wn(e),n]}const m9={},g9=["prefixPath","collectionGroup","readTime","documentId"],y9=["prefixPath","collectionGroup","documentId"],v9=["collectionGroup","readTime","prefixPath","documentId"],_9=["canonicalId","targetId"],b9=["targetId","path"],w9=["path","targetId"],x9=["collectionId","parent"],E9=["indexId","uid"],T9=["uid","sequenceNumber"],S9=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],I9=["indexId","uid","orderedDocumentKey"],A9=["userId","collectionPath","documentId"],P9=["userId","collectionPath","largestBatchId"],k9=["userId","collectionGroup","largestBatchId"],f2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],O9=[...f2,"documentOverlays"],d2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],h2=d2,qw=[...h2,"indexConfiguration","indexState","indexEntries"],C9=qw,N9=[...qw,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0 extends l2{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function $t(t,e){const n=xe(t);return bo.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ja(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function p2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=o??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ce();const e=this.left.check();if(e!==this.right.check())throw ce();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw ce()}get value(){throw ce()}get color(){throw ce()}get left(){throw ce()}get right(){throw ce()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new CS(this.data.getIterator())}getIteratorFrom(e){return new CS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class CS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function us(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.fields=e,e.sort(mt.comparator)}static empty(){return new kn([])}unionWith(e){let n=new Ke(mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return il(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new m2("Invalid base64 string: "+o):o}}(e);return new Ct(n)}static fromUint8Array(e){const n=function(i){let o="";for(let a=0;a<i.length;++a)o+=String.fromCharCode(i[a]);return o}(e);return new Ct(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const R9=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pi(t){if(fe(!!t),typeof t=="string"){let e=0;const n=R9.exec(t);if(fe(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Io(t){return typeof t=="string"?Ct.fromBase64String(t):Ct.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Hw(t){const e=t.mapValue.fields.__previous_value__;return Ww(e)?Hw(e):e}function Wc(t){const e=Pi(t.mapValue.fields.__local_write_time__.timestampValue);return new yt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j9{constructor(e,n,r,i,o,a,s,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=a,this.autoDetectLongPolling=s,this.longPollingOptions=l,this.useFetchStreams=u}}class Ra{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ra("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ra&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Sh={nullValue:"NULL_VALUE"};function ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ww(t)?4:g2(t)?9007199254740991:Km(t)?10:11:ce()}function Yr(t,e){if(t===e)return!0;const n=ja(t);if(n!==ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Wc(t).isEqual(Wc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const a=Pi(i.timestampValue),s=Pi(o.timestampValue);return a.seconds===s.seconds&&a.nanos===s.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Io(i.bytesValue).isEqual(Io(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return lt(i.geoPointValue.latitude)===lt(o.geoPointValue.latitude)&&lt(i.geoPointValue.longitude)===lt(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return lt(i.integerValue)===lt(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const a=lt(i.doubleValue),s=lt(o.doubleValue);return a===s?qc(a)===qc(s):isNaN(a)&&isNaN(s)}return!1}(t,e);case 9:return il(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(i,o){const a=i.mapValue.fields||{},s=o.mapValue.fields||{};if(OS(a)!==OS(s))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(s[l]===void 0||!Yr(a[l],s[l])))return!1;return!0}(t,e);default:return ce()}}function Hc(t,e){return(t.values||[]).find(n=>Yr(n,e))!==void 0}function Ao(t,e){if(t===e)return 0;const n=ja(t),r=ja(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,a){const s=lt(o.integerValue||o.doubleValue),l=lt(a.integerValue||a.doubleValue);return s<l?-1:s>l?1:s===l?0:isNaN(s)?isNaN(l)?0:-1:1}(t,e);case 3:return NS(t.timestampValue,e.timestampValue);case 4:return NS(Wc(t),Wc(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,a){const s=Io(o),l=Io(a);return s.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,a){const s=o.split("/"),l=a.split("/");for(let u=0;u<s.length&&u<l.length;u++){const c=Ee(s[u],l[u]);if(c!==0)return c}return Ee(s.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,a){const s=Ee(lt(o.latitude),lt(a.latitude));return s!==0?s:Ee(lt(o.longitude),lt(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return RS(t.arrayValue,e.arrayValue);case 10:return function(o,a){var s,l,u,c;const f=o.fields||{},h=a.fields||{},p=(s=f.value)===null||s===void 0?void 0:s.arrayValue,b=(l=h.value)===null||l===void 0?void 0:l.arrayValue,y=Ee(((u=p?.values)===null||u===void 0?void 0:u.length)||0,((c=b?.values)===null||c===void 0?void 0:c.length)||0);return y!==0?y:RS(p,b)}(t.mapValue,e.mapValue);case 11:return function(o,a){if(o===ao.mapValue&&a===ao.mapValue)return 0;if(o===ao.mapValue)return 1;if(a===ao.mapValue)return-1;const s=o.fields||{},l=Object.keys(s),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Ee(l[f],c[f]);if(h!==0)return h;const p=Ao(s[l[f]],u[c[f]]);if(p!==0)return p}return Ee(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ce()}}function NS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);const n=Pi(t),r=Pi(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function RS(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=Ao(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function ol(t){return z0(t)}function z0(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Io(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return oe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=z0(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${z0(n.fields[a])}`;return i+"}"}(t.mapValue):ce()}function Kw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function q0(t){return!!t&&"integerValue"in t}function Kc(t){return!!t&&"arrayValue"in t}function jS(t){return!!t&&"nullValue"in t}function DS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ih(t){return!!t&&"mapValue"in t}function Km(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ja(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function g2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const y2={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function D9(t){return"nullValue"in t?Sh:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Kw(Ra.empty(),oe.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?Km(t)?y2:{mapValue:{}}:ce()}function M9(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Kw(Ra.empty(),oe.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?y2:"mapValue"in t?Km(t)?{mapValue:{}}:ao:ce()}function MS(t,e){const n=Ao(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function $S(t,e){const n=Ao(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cc(n)}setAll(e){let n=mt.emptyPath(),r={},i=[];e.forEach((a,s)=>{if(!n.isImmediateParentOf(s)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=s.popLast()}a?r[s.lastSegment()]=cc(a):i.push(s.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());Ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ih(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ja(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new fn(cc(this.value))}}function v2(t){const e=[];return Ja(t.fields,(n,r)=>{const i=new mt([n]);if(Ih(r)){const o=v2(r.mapValue).fields;if(o.length===0)e.push(i);else for(const a of o)e.push(i.child(a))}else e.push(i)}),new kn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e,n,r,i,o,a,s){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=a,this.documentState=s}static newInvalidDocument(e){return new Et(e,0,he.min(),he.min(),he.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new Et(e,1,n,he.min(),r,i,0)}static newNoDocument(e,n){return new Et(e,2,n,he.min(),he.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Et(e,3,n,he.min(),he.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(he.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=he.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,n){this.position=e,this.inclusive=n}}function LS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(o.field.isKeyField()?r=oe.comparator(oe.fromName(a.referenceValue),n.key):r=Ao(a,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n="asc"){this.field=e,this.dir=n}}function $9(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _2=class{};class Ce extends _2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new L9(e,n,r):n==="array-contains"?new B9(e,r):n==="in"?new S2(e,r):n==="not-in"?new U9(e,r):n==="array-contains-any"?new z9(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new V9(e,r):new F9(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ao(n,this.value)):n!==null&&ja(this.value)===ja(n)&&this.matchesComparison(Ao(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ce()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class He extends _2{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new He(e,n)}matches(e){return sl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function sl(t){return t.op==="and"}function W0(t){return t.op==="or"}function Gw(t){return b2(t)&&sl(t)}function b2(t){for(const e of t.filters)if(e instanceof He)return!1;return!0}function H0(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+ol(t.value);if(Gw(t))return t.filters.map(e=>H0(e)).join(",");{const e=t.filters.map(n=>H0(n)).join(",");return`${t.op}(${e})`}}function w2(t,e){return t instanceof Ce?function(r,i){return i instanceof Ce&&r.op===i.op&&r.field.isEqual(i.field)&&Yr(r.value,i.value)}(t,e):t instanceof He?function(r,i){return i instanceof He&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,a,s)=>o&&w2(a,i.filters[s]),!0):!1}(t,e):void ce()}function x2(t,e){const n=t.filters.concat(e);return He.create(n,t.op)}function E2(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${ol(n.value)}`}(t):t instanceof He?function(n){return n.op.toString()+" {"+n.getFilters().map(E2).join(" ,")+"}"}(t):"Filter"}class L9 extends Ce{constructor(e,n,r){super(e,n,r),this.key=oe.fromName(r.referenceValue)}matches(e){const n=oe.comparator(e.key,this.key);return this.matchesComparison(n)}}class V9 extends Ce{constructor(e,n){super(e,"in",n),this.keys=T2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class F9 extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=T2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function T2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>oe.fromName(r.referenceValue))}class B9 extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Kc(n)&&Hc(n.arrayValue,this.value)}}class S2 extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hc(this.value.arrayValue,n)}}class U9 extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hc(this.value.arrayValue,n)}}class z9 extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Kc(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Hc(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e,n=null,r=[],i=[],o=null,a=null,s=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=a,this.endAt=s,this.ue=null}}function K0(t,e=null,n=[],r=[],i=null,o=null,a=null){return new q9(t,e,n,r,i,o,a)}function Da(t){const e=xe(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>H0(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ol(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ol(r)).join(",")),e.ue=n}return e.ue}function zf(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$9(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!w2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VS(t.startAt,e.startAt)&&VS(t.endAt,e.endAt)}function dp(t){return oe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function hp(t,e){return t.filters.filter(n=>n instanceof Ce&&n.field.isEqual(e))}function FS(t,e,n){let r=Sh,i=!0;for(const o of hp(t,e)){let a=Sh,s=!0;switch(o.op){case"<":case"<=":a=D9(o.value);break;case"==":case"in":case">=":a=o.value;break;case">":a=o.value,s=!1;break;case"!=":case"not-in":a=Sh}MS({value:r,inclusive:i},{value:a,inclusive:s})<0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];MS({value:r,inclusive:i},{value:a,inclusive:n.inclusive})<0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}function BS(t,e,n){let r=ao,i=!0;for(const o of hp(t,e)){let a=ao,s=!0;switch(o.op){case">=":case">":a=M9(o.value),s=!1;break;case"==":case"in":case"<=":a=o.value;break;case"<":a=o.value,s=!1;break;case"!=":case"not-in":a=ao}$S({value:r,inclusive:i},{value:a,inclusive:s})>0&&(r=a,i=s)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const a=n.position[o];$S({value:r,inclusive:i},{value:a,inclusive:n.inclusive})>0&&(r=a,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,n=null,r=[],i=[],o=null,a="F",s=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=a,this.startAt=s,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function W9(t,e,n,r,i,o,a,s){return new Gm(t,e,n,r,i,o,a,s)}function Qw(t){return new Gm(t)}function US(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function H9(t){return t.collectionGroup!==null}function fc(t){const e=xe(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let s=new Ke(mt.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(s=s.add(u.field))})}),s})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new fp(o,r))}),n.has(mt.keyField().canonicalString())||e.ce.push(new fp(mt.keyField(),r))}return e.ce}function sr(t){const e=xe(t);return e.le||(e.le=K9(e,fc(t))),e.le}function K9(t,e){if(t.limitType==="F")return K0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new fp(i.field,o)});const n=t.endAt?new al(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new al(t.startAt.position,t.startAt.inclusive):null;return K0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function G0(t,e,n){return new Gm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qm(t,e){return zf(sr(t),sr(e))&&t.limitType===e.limitType}function I2(t){return`${Da(sr(t))}|lt:${t.limitType}`}function vs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>E2(i)).join(", ")}]`),Hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ol(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ol(i)).join(",")),`Target(${r})`}(sr(t))}; limitType=${t.limitType})`}function qf(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):oe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of fc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,s,l){const u=LS(a,s,l);return a.inclusive?u<=0:u<0}(r.startAt,fc(r),i)||r.endAt&&!function(a,s,l){const u=LS(a,s,l);return a.inclusive?u>=0:u>0}(r.endAt,fc(r),i))}(t,e)}function G9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function A2(t){return(e,n)=>{let r=!1;for(const i of fc(t)){const o=Q9(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Q9(t,e,n){const r=t.field.isKeyField()?oe.comparator(e.key,n.key):function(o,a,s){const l=a.data.field(o),u=s.data.field(o);return l!==null&&u!==null?Ao(l,u):ce()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ce()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ja(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return p2(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X9=new ft(oe.comparator);function zn(){return X9}const P2=new ft(oe.comparator);function Qu(...t){let e=P2;for(const n of t)e=e.insert(n.key,n);return e}function k2(t){let e=P2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ur(){return dc()}function O2(){return dc()}function dc(){return new Lo(t=>t.toString(),(t,e)=>t.isEqual(e))}const Y9=new ft(oe.comparator),J9=new Ke(oe.comparator);function Se(...t){let e=J9;for(const n of t)e=e.add(n);return e}const Z9=new Ke(Ee);function ez(){return Z9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qc(e)?"-0":e}}function C2(t){return{integerValue:""+t}}function tz(t,e){return h9(e)?C2(e):Xw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(){this._=void 0}}function nz(t,e,n){return t instanceof Gc?function(i,o){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ww(o)&&(o=Hw(o)),o&&(a.fields.__previous_value__=o),{mapValue:a}}(n,e):t instanceof ll?R2(t,e):t instanceof ul?j2(t,e):function(i,o){const a=N2(i,o),s=zS(a)+zS(i.Pe);return q0(a)&&q0(i.Pe)?C2(s):Xw(i.serializer,s)}(t,e)}function rz(t,e,n){return t instanceof ll?R2(t,e):t instanceof ul?j2(t,e):n}function N2(t,e){return t instanceof Qc?function(r){return q0(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Gc extends Xm{}class ll extends Xm{constructor(e){super(),this.elements=e}}function R2(t,e){const n=D2(e);for(const r of t.elements)n.some(i=>Yr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ul extends Xm{constructor(e){super(),this.elements=e}}function j2(t,e){let n=D2(e);for(const r of t.elements)n=n.filter(i=>!Yr(i,r));return{arrayValue:{values:n}}}class Qc extends Xm{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function zS(t){return lt(t.integerValue||t.doubleValue)}function D2(t){return Kc(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,n){this.field=e,this.transform=n}}function oz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ll&&i instanceof ll||r instanceof ul&&i instanceof ul?il(r.elements,i.elements,Yr):r instanceof Qc&&i instanceof Qc?Yr(r.Pe,i.Pe):r instanceof Gc&&i instanceof Gc}(t.transform,e.transform)}class az{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ah(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ym{}function M2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Jm(t.key,vn.none()):new Ul(t.key,t.data,vn.none());{const n=t.data,r=fn.empty();let i=new Ke(mt.comparator);for(let o of e.fields)if(!i.has(o)){let a=n.field(o);a===null&&o.length>1&&(o=o.popLast(),a=n.field(o)),a===null?r.delete(o):r.set(o,a),i=i.add(o)}return new ji(t.key,r,new kn(i.toArray()),vn.none())}}function sz(t,e,n){t instanceof Ul?function(i,o,a){const s=i.value.clone(),l=WS(i.fieldTransforms,o,a.transformResults);s.setAll(l),o.convertToFoundDocument(a.version,s).setHasCommittedMutations()}(t,e,n):t instanceof ji?function(i,o,a){if(!Ah(i.precondition,o))return void o.convertToUnknownDocument(a.version);const s=WS(i.fieldTransforms,o,a.transformResults),l=o.data;l.setAll($2(i)),l.setAll(s),o.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,a){o.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function hc(t,e,n,r){return t instanceof Ul?function(o,a,s,l){if(!Ah(o.precondition,a))return s;const u=o.value.clone(),c=HS(o.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ji?function(o,a,s,l){if(!Ah(o.precondition,a))return s;const u=HS(o.fieldTransforms,l,a),c=a.data;return c.setAll($2(o)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),s===null?null:s.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,a,s){return Ah(o.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):s}(t,e,n)}function lz(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=N2(r.transform,i||null);o!=null&&(n===null&&(n=fn.empty()),n.set(r.field,o))}return n||null}function qS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&il(r,i,(o,a)=>oz(o,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ul extends Ym{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ji extends Ym{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function WS(t,e,n){const r=new Map;fe(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,rz(a,s,n[i]))}return r}function HS(t,e,n){const r=new Map;for(const i of t){const o=i.transform,a=n.data.field(i.field);r.set(i.field,nz(o,a,e))}return r}class Jm extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L2 extends Ym{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&sz(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=O2();return this.mutations.forEach(i=>{const o=e.get(i.key),a=o.overlayedDocument;let s=this.applyToLocalView(a,o.mutatedFields);s=n.has(i.key)?null:s;const l=M2(a,s);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(he.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&il(this.mutations,e.mutations,(n,r)=>qS(n,r))&&il(this.baseMutations,e.baseMutations,(n,r)=>qS(n,r))}}class Jw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){fe(e.mutations.length===r.length);let i=function(){return Y9}();const o=e.mutations;for(let a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new Jw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Ne;function cz(t){switch(t){default:return ce();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function V2(t){if(t===void 0)return yn("GRPC error has no .code"),X.UNKNOWN;switch(t){case At.OK:return X.OK;case At.CANCELLED:return X.CANCELLED;case At.UNKNOWN:return X.UNKNOWN;case At.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case At.INTERNAL:return X.INTERNAL;case At.UNAVAILABLE:return X.UNAVAILABLE;case At.UNAUTHENTICATED:return X.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case At.NOT_FOUND:return X.NOT_FOUND;case At.ALREADY_EXISTS:return X.ALREADY_EXISTS;case At.PERMISSION_DENIED:return X.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case At.ABORTED:return X.ABORTED;case At.OUT_OF_RANGE:return X.OUT_OF_RANGE;case At.UNIMPLEMENTED:return X.UNIMPLEMENTED;case At.DATA_LOSS:return X.DATA_LOSS;default:return ce()}}(Ne=At||(At={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dz=new va([4294967295,4294967295],0);function KS(t){const e=fz().encode(t),n=new YR;return n.update(e),new Uint8Array(n.digest())}function GS(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new va([n,r],0),new va([i,o],0)]}class ex{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xu(`Invalid padding: ${n}`);if(r<0)throw new Xu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=va.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(va.fromNumber(r)));return i.compare(dz)===1&&(i=new va([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=KS(e),[r,i]=GS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);if(!this.de(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),a=new ex(o,i,n);return r.forEach(s=>a.insert(s)),a}insert(e){if(this.Ie===0)return;const n=KS(e),[r,i]=GS(n);for(let o=0;o<this.hashCount;o++){const a=this.Ee(r,i,o);this.Ae(a)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wf.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Zm(he.min(),i,new ft(Ee),zn(),Se())}}class Wf{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wf(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class F2{constructor(e,n){this.targetId=e,this.me=n}}class B2{constructor(e,n,r=Ct.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class QS{constructor(){this.fe=0,this.ge=YS(),this.pe=Ct.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Se(),n=Se(),r=Se();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ce()}}),new Wf(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=YS()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,fe(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class hz{constructor(e){this.Le=e,this.Be=new Map,this.ke=zn(),this.qe=XS(),this.Qe=new ft(Ee)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ce()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(dp(o))if(r===0){const a=new oe(o.path);this.Ue(n,a,Et.newNoDocument(a,he.min()))}else fe(r===1);else{const a=this.Ye(n);if(a!==r){const s=this.Ze(e),l=s?this.Xe(s,e,a):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let a,s;try{a=Io(r).toUint8Array()}catch(l){if(l instanceof m2)return Na("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{s=new ex(a,i,o)}catch(l){return Na(l instanceof Xu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return s.Ie===0?null:s}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const a=this.Le.tt(),s=`projects/${a.projectId}/databases/${a.database}/documents/${o.path.canonicalString()}`;e.mightContain(s)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,a)=>{const s=this.Je(a);if(s){if(o.current&&dp(s.target)){const l=new oe(s.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,Et.newNoDocument(l,e))}o.be&&(n.set(a,o.ve()),o.Ce())}});let r=Se();this.qe.forEach((o,a)=>{let s=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(s=!1,!1)}),s&&(r=r.add(o))}),this.ke.forEach((o,a)=>a.setReadTime(e));const i=new Zm(e,n,this.Qe,this.ke,r);return this.ke=zn(),this.qe=XS(),this.Qe=new ft(Ee),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new QS,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ke(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new QS),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function XS(){return new ft(oe.comparator)}function YS(){return new ft(oe.comparator)}const pz={asc:"ASCENDING",desc:"DESCENDING"},mz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gz={and:"AND",or:"OR"};class yz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Q0(t,e){return t.useProto3Json||Hm(e)?e:{value:e}}function cl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function U2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function vz(t,e){return cl(t,e.toTimestamp())}function xn(t){return fe(!!t),he.fromTimestamp(function(n){const r=Pi(n);return new yt(r.seconds,r.nanos)}(t))}function tx(t,e){return X0(t,e).canonicalString()}function X0(t,e){const n=function(i){return new Ue(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function z2(t){const e=Ue.fromString(t);return fe(J2(e)),e}function pp(t,e){return tx(t.databaseId,e.path)}function _a(t,e){const n=z2(e);if(n.get(1)!==t.databaseId.projectId)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new le(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new oe(H2(n))}function q2(t,e){return tx(t.databaseId,e)}function W2(t){const e=z2(t);return e.length===4?Ue.emptyPath():H2(e)}function Y0(t){return new Ue(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function H2(t){return fe(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function JS(t,e,n){return{name:pp(t,e),fields:n.value.mapValue.fields}}function _z(t,e,n){const r=_a(t,e.name),i=xn(e.updateTime),o=e.createTime?xn(e.createTime):he.min(),a=new fn({mapValue:{fields:e.fields}}),s=Et.newFoundDocument(r,i,o,a);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function bz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ce()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(fe(c===void 0||typeof c=="string"),Ct.fromBase64String(c||"")):(fe(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Ct.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(u){const c=u.code===void 0?X.UNKNOWN:V2(u.code);return new le(c,u.message||"")}(a);n=new B2(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=_a(t,r.document.name),o=xn(r.document.updateTime),a=r.document.createTime?xn(r.document.createTime):he.min(),s=new fn({mapValue:{fields:r.document.fields}}),l=Et.newFoundDocument(i,o,a,s),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Ph(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=_a(t,r.document),o=r.readTime?xn(r.readTime):he.min(),a=Et.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Ph([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=_a(t,r.document),o=r.removedTargetIds||[];n=new Ph([],o,i,null)}else{if(!("filter"in e))return ce();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,a=new uz(i,o),s=r.targetId;n=new F2(s,a)}}return n}function mp(t,e){let n;if(e instanceof Ul)n={update:JS(t,e.key,e.value)};else if(e instanceof Jm)n={delete:pp(t,e.key)};else if(e instanceof ji)n={update:JS(t,e.key,e.data),updateMask:Iz(e.fieldMask)};else{if(!(e instanceof L2))return ce();n={verify:pp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,a){const s=a.transform;if(s instanceof Gc)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(s instanceof ll)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:s.elements}};if(s instanceof ul)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:s.elements}};if(s instanceof Qc)return{fieldPath:a.field.canonicalString(),increment:s.Pe};throw ce()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:vz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ce()}(t,e.precondition)),n}function J0(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?vn.updateTime(xn(o.updateTime)):o.exists!==void 0?vn.exists(o.exists):vn.none()}(e.currentDocument):vn.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,s){let l=null;if("setToServerValue"in s)fe(s.setToServerValue==="REQUEST_TIME"),l=new Gc;else if("appendMissingElements"in s){const c=s.appendMissingElements.values||[];l=new ll(c)}else if("removeAllFromArray"in s){const c=s.removeAllFromArray.values||[];l=new ul(c)}else"increment"in s?l=new Qc(a,s.increment):ce();const u=mt.fromServerFormat(s.fieldPath);return new iz(u,l)}(t,i)):[];if(e.update){e.update.name;const i=_a(t,e.update.name),o=new fn({mapValue:{fields:e.update.fields}});if(e.updateMask){const a=function(l){const u=l.fieldPaths||[];return new kn(u.map(c=>mt.fromServerFormat(c)))}(e.updateMask);return new ji(i,o,a,n,r)}return new Ul(i,o,n,r)}if(e.delete){const i=_a(t,e.delete);return new Jm(i,n)}if(e.verify){const i=_a(t,e.verify);return new L2(i,n)}return ce()}function wz(t,e){return t&&t.length>0?(fe(e!==void 0),t.map(n=>function(i,o){let a=i.updateTime?xn(i.updateTime):xn(o);return a.isEqual(he.min())&&(a=xn(o)),new az(a,i.transformResults||[])}(n,e))):[]}function K2(t,e){return{documents:[q2(t,e.path)]}}function G2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=q2(t,i);const o=function(u){if(u.length!==0)return Y2(He.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const a=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:_s(h.field),direction:Ez(h.dir)}}(c))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const s=Q0(t,e.limit);return s!==null&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function Q2(t){let e=W2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fe(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=X2(f);return h instanceof He&&Gw(h)?h.getFilters():[h]}(n.where));let a=[];n.orderBy&&(a=function(f){return f.map(h=>function(b){return new fp(bs(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(h))}(n.orderBy));let s=null;n.limit&&(s=function(f){let h;return h=typeof f=="object"?f.value:f,Hm(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new al(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new al(p,h)}(n.endAt)),W9(e,i,a,o,s,"F",l,u)}function xz(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ce()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function X2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bs(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bs(n.unaryFilter.field);return Ce.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=bs(n.unaryFilter.field);return Ce.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=bs(n.unaryFilter.field);return Ce.create(a,"!=",{nullValue:"NULL_VALUE"});default:return ce()}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(bs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ce()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return He.create(n.compositeFilter.filters.map(r=>X2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ce()}}(n.compositeFilter.op))}(t):ce()}function Ez(t){return pz[t]}function Tz(t){return mz[t]}function Sz(t){return gz[t]}function _s(t){return{fieldPath:t.canonicalString()}}function bs(t){return mt.fromServerFormat(t.fieldPath)}function Y2(t){return t instanceof Ce?function(n){if(n.op==="=="){if(DS(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NAN"}};if(jS(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(DS(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NAN"}};if(jS(n.value))return{unaryFilter:{field:_s(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_s(n.field),op:Tz(n.op),value:n.value}}}(t):t instanceof He?function(n){const r=n.getFilters().map(i=>Y2(i));return r.length===1?r[0]:{compositeFilter:{op:Sz(n.op),filters:r}}}(t):ce()}function Iz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function J2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,i,o=he.min(),a=he.min(),s=Ct.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=s,this.expectedCount=l}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e){this.ct=e}}function Az(t,e){let n;if(e.document)n=_z(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=oe.fromSegments(e.noDocument.path),i=$a(e.noDocument.readTime);n=Et.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ce();{const r=oe.fromSegments(e.unknownDocument.path),i=$a(e.unknownDocument.version);n=Et.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new yt(i[0],i[1]);return he.fromTimestamp(o)}(e.readTime)),n}function ZS(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gp(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,a){return{name:pp(o,a.key),fields:a.data.value.mapValue.fields,updateTime:cl(o,a.version.toTimestamp()),createTime:cl(o,a.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Ma(e.version)};else{if(!e.isUnknownDocument())return ce();r.unknownDocument={path:n.path.toArray(),version:Ma(e.version)}}return r}function gp(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ma(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function $a(t){const e=new yt(t.seconds,t.nanoseconds);return he.fromTimestamp(e)}function oa(t,e){const n=(e.baseMutations||[]).map(o=>J0(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const a=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const s=e.mutations[o+1];a.updateTransforms=s.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>J0(t.ct,o)),i=yt.fromMillis(e.localWriteTimeMs);return new Yw(e.batchId,i,n,r)}function Yu(t){const e=$a(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?$a(t.lastLimboFreeSnapshotVersion):he.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return fe(o.documents.length===1),sr(Qw(W2(o.documents[0])))}(t.query):function(o){return sr(Q2(o))}(t.query),new fi(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Ct.fromBase64String(t.resumeToken))}function ej(t,e){const n=Ma(e.snapshotVersion),r=Ma(e.lastLimboFreeSnapshotVersion);let i;i=dp(e.target)?K2(t.ct,e.target):G2(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Da(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function tj(t){const e=Q2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?G0(e,e.limit,"L"):e}function ev(t,e){return new Zw(e.largestBatchId,J0(t.ct,e.overlayMutation))}function eI(t,e){const n=e.path.lastSegment();return[t,wn(e.path.popLast()),n]}function tI(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Ma(r.readTime),documentKey:wn(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pz{getBundleMetadata(e,n){return nI(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:$a(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return nI(e).put(function(i){return{bundleId:i.id,createTime:Ma(xn(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return rI(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:tj(o.bundledQuery),readTime:$a(o.readTime)}}(r)})}saveNamedQuery(e,n){return rI(e).put(function(i){return{name:i.name,readTime:Ma(xn(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function nI(t){return $t(t,"bundles")}function rI(t){return $t(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new eg(e,r)}getOverlay(e,n){return Iu(e).get(eI(this.userId,n)).next(r=>r?ev(this.serializer,r):null)}getOverlays(e,n){const r=Ur();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,a)=>{const s=new Zw(n,a);i.push(this.ht(e,s))}),B.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(a=>i.add(wn(a.getCollectionPath())));const o=[];return i.forEach(a=>{const s=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,r+1],!1,!0);o.push(Iu(e).j("collectionPathOverlayIndex",s))}),B.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Ur(),o=wn(n),a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Iu(e).U("collectionPathOverlayIndex",a).next(s=>{for(const l of s){const u=ev(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Ur();let a;const s=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Iu(e).J({index:"collectionGroupOverlayIndex",range:s},(l,u,c)=>{const f=ev(this.serializer,u);o.size()<i||f.largestBatchId===a?(o.set(f.getKey(),f),a=f.largestBatchId):c.done()}).next(()=>o)}ht(e,n){return Iu(e).put(function(i,o,a){const[s,l,u]=eI(o,a.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:mp(i.ct,a.mutation)}}(this.serializer,this.userId,n))}}function Iu(t){return $t(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kz{Pt(e){return $t(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n?.value;return r?Ct.fromUint8Array(r):Ct.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(lt(e.integerValue));else if("doubleValue"in e){const r=lt(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),qc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Pi(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Io(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?g2(e)?this.dt(n,Number.MAX_SAFE_INTEGER):Km(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ce()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const a="value",s=((i=(r=o[a].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(lt(s)),this.Vt(a,n),this.Tt(o[a],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),oe.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}aa.vt=new aa;function Oz(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function iI(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const a=Oz(255&r[o]);if(i+=a,a!==8)break}return i}(t);return Math.ceil(e/8)}class Cz{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=iI(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=iI(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,o,!1),new Uint8Array(a.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Nz{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Rz{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class Au{constructor(){this.jt=new Cz,this.Ht=new Nz(this.jt),this.Jt=new Rz(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new sa(this.indexId,this.documentKey,this.arrayValue,r)}}function zi(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=oI(t.arrayValue,e.arrayValue),n!==0?n:(n=oI(t.directionalValue,e.directionalValue),n!==0?n:oe.comparator(t.documentKey,e.documentKey)))}function oI(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e){this.Xt=new Ke((n,r)=>mt.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(fe(e.collectionGroup===this.collectionId),this.nn)return!1;const n=B0(e);if(n!==void 0&&!this.sn(n))return!1;const r=ea(e);let i=new Set,o=0,a=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const s=this.Xt.getIterator().getNext();if(!i.has(s.field.canonicalString())){const l=r[o];if(!this.on(s,l)||!this._n(this.en[a++],l))return!1}++o}for(;o<r.length;++o){const s=r[o];if(a>=this.en.length||!this._n(this.en[a++],s))return!1}return!0}an(){if(this.nn)return null;let e=new Ke(mt.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Eh(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Eh(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Eh(r.field,r.dir==="asc"?0:1)));return new cp(cp.UNKNOWN_ID,this.collectionId,n,zc.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj(t){var e,n;if(fe(t instanceof Ce||t instanceof He),t instanceof Ce){if(t instanceof S2){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>Ce.create(t.field,"==",o)))||[];return He.create(i,"or")}return t}const r=t.filters.map(i=>nj(i));return He.create(r,t.op)}function jz(t){if(t.getFilters().length===0)return[];const e=t_(nj(t));return fe(rj(e)),Z0(e)||e_(e)?[e]:e.getFilters()}function Z0(t){return t instanceof Ce}function e_(t){return t instanceof He&&Gw(t)}function rj(t){return Z0(t)||e_(t)||function(n){if(n instanceof He&&W0(n)){for(const r of n.getFilters())if(!Z0(r)&&!e_(r))return!1;return!0}return!1}(t)}function t_(t){if(fe(t instanceof Ce||t instanceof He),t instanceof Ce)return t;if(t.filters.length===1)return t_(t.filters[0]);const e=t.filters.map(r=>t_(r));let n=He.create(e,t.op);return n=yp(n),rj(n)?n:(fe(n instanceof He),fe(sl(n)),fe(n.filters.length>1),n.filters.reduce((r,i)=>nx(r,i)))}function nx(t,e){let n;return fe(t instanceof Ce||t instanceof He),fe(e instanceof Ce||e instanceof He),n=t instanceof Ce?e instanceof Ce?function(i,o){return He.create([i,o],"and")}(t,e):sI(t,e):e instanceof Ce?sI(e,t):function(i,o){if(fe(i.filters.length>0&&o.filters.length>0),sl(i)&&sl(o))return x2(i,o.getFilters());const a=W0(i)?i:o,s=W0(i)?o:i,l=a.filters.map(u=>nx(u,s));return He.create(l,"or")}(t,e),yp(n)}function sI(t,e){if(sl(e))return x2(e,t.getFilters());{const n=e.filters.map(r=>nx(t,r));return He.create(n,"or")}}function yp(t){if(fe(t instanceof Ce||t instanceof He),t instanceof Ce)return t;const e=t.getFilters();if(e.length===1)return yp(e[0]);if(b2(t))return t;const n=e.map(i=>yp(i)),r=[];return n.forEach(i=>{i instanceof Ce?r.push(i):i instanceof He&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:He.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dz{constructor(){this.un=new rx}addToCollectionParentIndex(e,n){return this.un.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(Kn.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class rx{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ke(Ue.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ke(Ue.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fd=new Uint8Array(0);class Mz{constructor(e,n){this.databaseId=n,this.cn=new rx,this.ln=new Lo(r=>Da(r),(r,i)=>zf(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:wn(i)};return lI(e).put(o)}return B.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[o2(n),""],!1,!0);return lI(e).U(i).next(o=>{for(const a of o){if(a.collectionId!==n)break;r.push(Br(a.parent))}return r})}addFieldIndex(e,n){const r=Pu(e),i=function(s){return{indexId:s.indexId,collectionGroup:s.collectionGroup,fields:s.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const a=fs(e);return o.next(s=>{a.put(tI(s,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=Pu(e),i=fs(e),o=cs(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Pu(e),r=cs(e),i=fs(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return B.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new aI(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=cs(e);let i=!0;const o=new Map;return B.forEach(this.hn(n),a=>this.Pn(e,a).next(s=>{i&&(i=!!s),o.set(a,s)})).next(()=>{if(i){let a=Se();const s=[];return B.forEach(o,(l,u)=>{Z("IndexedDbIndexManager",`Using index ${function(T){return`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(I=>`${I.fieldPath}:${I.kind}`).join(",")}`}(l)} to execute ${Da(n)}`);const c=function(T,I){const P=B0(I);if(P===void 0)return null;for(const C of hp(T,P.fieldPath))switch(C.op){case"array-contains-any":return C.value.arrayValue.values||[];case"array-contains":return[C.value]}return null}(u,l),f=function(T,I){const P=new Map;for(const C of ea(I))for(const S of hp(T,C.fieldPath))switch(S.op){case"==":case"in":P.set(C.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return P.set(C.fieldPath.canonicalString(),S.value),Array.from(P.values())}return null}(u,l),h=function(T,I){const P=[];let C=!0;for(const S of ea(I)){const g=S.kind===0?FS(T,S.fieldPath,T.startAt):BS(T,S.fieldPath,T.startAt);P.push(g.value),C&&(C=g.inclusive)}return new al(P,C)}(u,l),p=function(T,I){const P=[];let C=!0;for(const S of ea(I)){const g=S.kind===0?BS(T,S.fieldPath,T.endAt):FS(T,S.fieldPath,T.endAt);P.push(g.value),C&&(C=g.inclusive)}return new al(P,C)}(u,l),b=this.In(l,u,h),y=this.In(l,u,p),_=this.Tn(l,u,f),E=this.En(l.indexId,c,b,h.inclusive,y,p.inclusive,_);return B.forEach(E,w=>r.G(w,n.limit).next(T=>{T.forEach(I=>{const P=oe.fromSegments(I.documentKey);a.has(P)||(a=a.add(P),s.push(P))})}))}).next(()=>s)}return B.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=jz(He.create(e.filters,"and")).map(r=>K0(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,a,s){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),c=[];for(let f=0;f<l;++f){const h=n?this.dn(n[f/u]):Fd,p=this.An(e,h,r[f%u],i),b=this.Rn(e,h,o[f%u],a),y=s.map(_=>this.An(e,h,_,!0));c.push(...this.createRange(p,b,y))}return c}An(e,n,r,i){const o=new sa(e,oe.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new sa(e,oe.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new aI(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let a=null;for(const s of o)r.rn(s)&&(!a||s.fields.length>a.fields.length)&&(a=s);return a})}getIndexType(e,n){let r=2;const i=this.hn(n);return B.forEach(i,o=>this.Pn(e,o).next(a=>{a?r!==0&&a.fields.length<function(l){let u=new Ke(mt.comparator),c=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(a){return a.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new Au;for(const i of ea(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const a=r.Yt(i.kind);aa.vt.It(o,a)}return r.zt()}dn(e){const n=new Au;return aa.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new Au;return aa.vt.It(Kw(this.databaseId,n),r.Yt(function(o){const a=ea(o);return a.length===0?0:a[a.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new Au);let o=0;for(const a of ea(e)){const s=r[o++];for(const l of i)if(this.fn(n,a.fieldPath)&&Kc(s))i=this.gn(i,a,s);else{const u=l.Yt(a.kind);aa.vt.It(s,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const a of r.arrayValue.values||[])for(const s of i){const l=new Au;l.seed(s.zt()),aa.vt.It(a,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof Ce&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Pu(e),i=fs(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const a=[];return B.forEach(o,s=>i.get([s.indexId,this.uid]).next(l=>{a.push(function(c,f){const h=f?new zc(f.sequenceNumber,new Kn($a(f.readTime),new oe(Br(f.documentKey)),f.largestBatchId)):zc.empty(),p=c.fields.map(([b,y])=>new Eh(mt.fromServerFormat(b),y));return new cp(c.indexId,c.collectionGroup,p,h)}(s,l))})).next(()=>a)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Ee(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Pu(e),o=fs(e);return this.yn(e).next(a=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(s=>B.forEach(s,l=>o.put(tI(l.indexId,this.uid,a,r)))))}updateIndexEntries(e,n){const r=new Map;return B.forEach(n,(i,o)=>{const a=r.get(i.collectionGroup);return(a?B.resolve(a):this.getFieldIndexes(e,i.collectionGroup)).next(s=>(r.set(i.collectionGroup,s),B.forEach(s,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(o,l);return u.isEqual(c)?B.resolve():this.bn(e,o,l,u,c)}))))})}Dn(e,n,r,i){return cs(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return cs(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=cs(e);let o=new Ke(zi);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(a,s)=>{o=o.add(new sa(r.indexId,n,s.arrayValue,s.directionalValue))}).next(()=>o)}Sn(e,n){let r=new Ke(zi);const i=this.Vn(n,e);if(i==null)return r;const o=B0(n);if(o!=null){const a=e.data.field(o.fieldPath);if(Kc(a))for(const s of a.arrayValue.values||[])r=r.add(new sa(n.indexId,e.key,this.dn(s),i))}else r=r.add(new sa(n.indexId,e.key,Fd,i));return r}bn(e,n,r,i,o){Z("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const a=[];return function(l,u,c,f,h){const p=l.getIterator(),b=u.getIterator();let y=us(p),_=us(b);for(;y||_;){let E=!1,w=!1;if(y&&_){const T=c(y,_);T<0?w=!0:T>0&&(E=!0)}else y!=null?w=!0:E=!0;E?(f(_),_=us(b)):w?(h(y),y=us(p)):(y=us(p),_=us(b))}}(i,o,zi,s=>{a.push(this.Dn(e,n,r,s))},s=>{a.push(this.vn(e,n,r,s))}),B.waitFor(a)}yn(e){let n=1;return fs(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((a,s)=>zi(a,s)).filter((a,s,l)=>!s||zi(a,l[s-1])!==0);const i=[];i.push(e);for(const a of r){const s=zi(a,e),l=zi(a,n);if(s===0)i[0]=e.Zt();else if(s>0&&l<0)i.push(a),i.push(a.Zt());else if(l>0)break}i.push(n);const o=[];for(let a=0;a<i.length;a+=2){if(this.Cn(i[a],i[a+1]))return[];const s=[i[a].indexId,this.uid,i[a].arrayValue,i[a].directionalValue,Fd,[]],l=[i[a+1].indexId,this.uid,i[a+1].arrayValue,i[a+1].directionalValue,Fd,[]];o.push(IDBKeyRange.bound(s,l))}return o}Cn(e,n){return zi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(uI)}getMinOffset(e,n){return B.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||ce())).next(uI)}}function lI(t){return $t(t,"collectionParents")}function cs(t){return $t(t,"indexEntries")}function Pu(t){return $t(t,"indexConfiguration")}function fs(t){return $t(t,"indexState")}function uI(t){fe(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Uw(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Kn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class In{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new In(e,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ij(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],a=IDBKeyRange.only(n.batchId);let s=0;const l=r.J({range:a},(c,f,h)=>(s++,h.delete()));o.push(l.next(()=>{fe(s===1)}));const u=[];for(const c of n.mutations){const f=c2(e,c.key.path,n.batchId);o.push(i.delete(f)),u.push(c.key)}return B.waitFor(o).next(()=>u)}function vp(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ce();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */In.DEFAULT_COLLECTION_PERCENTILE=10,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,In.DEFAULT=new In(41943040,In.DEFAULT_COLLECTION_PERCENTILE,In.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),In.DISABLED=new In(-1,0,0);class tg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){fe(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new tg(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return qi(e).J({index:"userMutationsIndex",range:r},(i,o,a)=>{n=!1,a.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=ws(e),a=qi(e);return a.add({}).next(s=>{fe(typeof s=="number");const l=new Yw(s,n,r,i),u=function(p,b,y){const _=y.baseMutations.map(w=>mp(p.ct,w)),E=y.mutations.map(w=>mp(p.ct,w));return{userId:b,batchId:y.batchId,localWriteTimeMs:y.localWriteTime.toMillis(),baseMutations:_,mutations:E}}(this.serializer,this.userId,l),c=[];let f=new Ke((h,p)=>Ee(h.canonicalString(),p.canonicalString()));for(const h of i){const p=c2(this.userId,h.key.path,s);f=f.add(h.key.path.popLast()),c.push(a.put(u)),c.push(o.put(p,m9))}return f.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[s]=l.keys()}),B.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return qi(e).get(n).next(r=>r?(fe(r.userId===this.userId),oa(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?B.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return qi(e).J({index:"userMutationsIndex",range:i},(a,s,l)=>{s.userId===this.userId&&(fe(s.batchId>=r),o=oa(this.serializer,s)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return qi(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,a)=>{r=o.batchId,a.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return qi(e).U("userMutationsIndex",n).next(r=>r.map(i=>oa(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Th(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return ws(e).J({range:i},(a,s,l)=>{const[u,c,f]=a,h=Br(c);if(u===this.userId&&n.path.isEqual(h))return qi(e).get(f).next(p=>{if(!p)throw ce();fe(p.userId===this.userId),o.push(oa(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(Ee);const i=[];return n.forEach(o=>{const a=Th(this.userId,o.path),s=IDBKeyRange.lowerBound(a),l=ws(e).J({range:s},(u,c,f)=>{const[h,p,b]=u,y=Br(p);h===this.userId&&o.path.isEqual(y)?r=r.add(b):f.done()});i.push(l)}),B.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=Th(this.userId,r),a=IDBKeyRange.lowerBound(o);let s=new Ke(Ee);return ws(e).J({range:a},(l,u,c)=>{const[f,h,p]=l,b=Br(h);f===this.userId&&r.isPrefixOf(b)?b.length===i&&(s=s.add(p)):c.done()}).next(()=>this.xn(e,s))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(qi(e).get(o).next(a=>{if(a===null)throw ce();fe(a.userId===this.userId),r.push(oa(this.serializer,a))}))}),B.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return ij(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),B.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return B.resolve();const r=IDBKeyRange.lowerBound(function(a){return[a]}(this.userId)),i=[];return ws(e).J({range:r},(o,a,s)=>{if(o[0]===this.userId){const l=Br(o[1]);i.push(l)}else s.done()}).next(()=>{fe(i.length===0)})})}containsKey(e,n){return oj(e,this.userId,n)}Nn(e){return aj(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function oj(t,e,n){const r=Th(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let a=!1;return ws(t).J({range:o,H:!0},(s,l,u)=>{const[c,f,h]=s;c===e&&f===i&&(a=!0),u.done()}).next(()=>a)}function qi(t){return $t(t,"mutations")}function ws(t){return $t(t,"documentMutations")}function aj(t){return $t(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new La(0)}static kn(){return new La(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $z{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new La(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>he.fromTimestamp(new yt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ds(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(fe(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return ds(e).J((a,s)=>{const l=Yu(s);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>B.waitFor(o)).next(()=>i)}forEachTarget(e,n){return ds(e).J((r,i)=>{const o=Yu(i);n(o)})}qn(e){return fI(e).get("targetGlobalKey").next(n=>(fe(n!==null),n))}Qn(e,n){return fI(e).put("targetGlobalKey",n)}Kn(e,n){return ds(e).put(ej(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=Da(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return ds(e).J({range:i,index:"queryTargetsIndex"},(a,s,l)=>{const u=Yu(s);zf(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=eo(e);return n.forEach(a=>{const s=wn(a.path);i.push(o.put({targetId:r,path:s})),i.push(this.referenceDelegate.addReference(e,r,a))}),B.waitFor(i)}removeMatchingKeys(e,n,r){const i=eo(e);return B.forEach(n,o=>{const a=wn(o.path);return B.waitFor([i.delete([r,a]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=eo(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=eo(e);let o=Se();return i.J({range:r,H:!0},(a,s,l)=>{const u=Br(a[1]),c=new oe(u);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=wn(n.path),i=IDBKeyRange.bound([r],[o2(r)],!1,!0);let o=0;return eo(e).J({index:"documentTargetsIndex",H:!0,range:i},([a,s],l,u)=>{a!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return ds(e).get(n).next(r=>r?Yu(r):null)}}function ds(t){return $t(t,"targets")}function fI(t){return $t(t,"targetGlobal")}function eo(t){return $t(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI([t,e],[n,r]){const i=Ee(t,n);return i===0?Ee(e,r):i}class Lz{constructor(e){this.Un=e,this.buffer=new Ke(dI),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();dI(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Vz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Z("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){$o(n)?Z("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ya(n)}await this.Hn(3e5)})}}class Fz{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(rr.oe);const r=new Lz(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Z("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(cI)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Z("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cI):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,a,s,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Z("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,s=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),ys()<=ke.DEBUG&&Z("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-c}ms
	Determined least recently used ${i} in `+(s-a)+`ms
	Removed ${o} targets in `+(l-s)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function Bz(t,e){return new Fz(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(e,n){this.db=e,this.garbageCollector=Bz(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return Bd(e,r)}removeReference(e,n,r){return Bd(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return Bd(e,n)}nr(e,n){return function(i,o){let a=!1;return aj(i).Y(s=>oj(i,s,o).next(l=>(l&&(a=!0),B.resolve(!l)))).next(()=>a)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(a,s)=>{if(s<=n){const l=this.nr(e,a).next(u=>{if(!u)return o++,r.getEntry(e,a).next(()=>(r.removeEntry(a,he.min()),eo(e).delete(function(f){return[0,wn(f.path)]}(a))))});i.push(l)}}).next(()=>B.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return Bd(e,n)}tr(e,n){const r=eo(e);let i,o=rr.oe;return r.J({index:"documentTargetsIndex"},([a,s],{path:l,sequenceNumber:u})=>{a===0?(o!==rr.oe&&n(new oe(Br(i)),o),o=u,i=l):o=rr.oe}).next(()=>{o!==rr.oe&&n(new oe(Br(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Bd(t,e){return eo(t).put(function(r,i){return{targetId:0,path:wn(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.changes=new Lo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zz{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Qo(e).put(r)}removeEntry(e,n,r){return Qo(e).delete(function(o,a){const s=o.path.toArray();return[s.slice(0,s.length-2),s[s.length-2],gp(a),s[s.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Et.newInvalidDocument(n);return Qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ku(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:Et.newInvalidDocument(n)};return Qo(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ku(n))},(i,o)=>{r={document:this.ir(n,o),size:vp(o)}}).next(()=>r)}getEntries(e,n){let r=zn();return this._r(e,n,(i,o)=>{const a=this.ir(i,o);r=r.insert(i,a)}).next(()=>r)}ar(e,n){let r=zn(),i=new ft(oe.comparator);return this._r(e,n,(o,a)=>{const s=this.ir(o,a);r=r.insert(o,s),i=i.insert(o,vp(a))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return B.resolve();let i=new Ke(mI);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(ku(i.first()),ku(i.last())),a=i.getIterator();let s=a.getNext();return Qo(e).J({index:"documentKeyIndex",range:o},(l,u,c)=>{const f=oe.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;s&&mI(s,f)<0;)r(s,null),s=a.getNext();s&&s.isEqual(f)&&(r(s,u),s=a.hasNext()?a.getNext():null),s?c.$(ku(s)):c.done()}).next(()=>{for(;s;)r(s,null),s=a.hasNext()?a.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const a=n.path,s=[a.popLast().toArray(),a.lastSegment(),gp(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[a.popLast().toArray(),a.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Qo(e).U(IDBKeyRange.bound(s,l,!0)).next(u=>{o?.incrementDocumentReadCount(u.length);let c=zn();for(const f of u){const h=this.ir(oe.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(qf(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=zn();const a=pI(n,r),s=pI(n,Kn.max());return Qo(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(a,s,!0)},(l,u,c)=>{const f=this.ir(oe.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new qz(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return hI(e).get("remoteDocumentGlobalKey").next(n=>(fe(!!n),n))}rr(e,n){return hI(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=Az(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(he.min())))return r}return Et.newInvalidDocument(e)}}function lj(t){return new zz(t)}class qz extends sj{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Lo(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Ke((o,a)=>Ee(o.canonicalString(),a.canonicalString()));return this.changes.forEach((o,a)=>{const s=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,s.readTime)),a.isValidDocument()){const l=ZS(this.cr.serializer,a);i=i.add(o.path.popLast());const u=vp(l);r+=u-s.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=s.size,this.trackRemovals){const l=ZS(this.cr.serializer,a.convertToNoDocument(he.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),B.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,a)=>{this.lr.set(o,{size:a,readTime:r.get(o).readTime})}),r))}}function hI(t){return $t(t,"remoteDocumentGlobal")}function Qo(t){return $t(t,"remoteDocumentsV14")}function ku(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function pI(t,e){const n=e.documentKey.path.toArray();return[t,gp(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function mI(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Ee(n[o],r[o]),i)return i;return i=Ee(n.length,r.length),i||(i=Ee(n[n.length-2],r[r.length-2]),i||Ee(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uj{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hc(r.mutation,i,kn.empty(),yt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=Ur();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let a=Qu();return o.forEach((s,l)=>{a=a.insert(s,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=Ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((a,s)=>{n.set(a,s)})})}computeViews(e,n,r,i){let o=zn();const a=dc(),s=function(){return dc()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ji)?o=o.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),hc(c.mutation,u,c.mutation.getFieldMask(),yt.now())):a.set(u.key,kn.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>a.set(u,c)),n.forEach((u,c)=>{var f;return s.set(u,new Wz(c,(f=a.get(u))!==null&&f!==void 0?f:null))}),s))}recalculateAndSaveOverlays(e,n){const r=dc();let i=new ft((a,s)=>a-s),o=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const s of a)s.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||kn.empty();c=s.applyToLocalView(u,c),r.set(l,c);const f=(i.get(s.batchId)||Se()).add(l);i=i.insert(s.batchId,f)})}).next(()=>{const a=[],s=i.getReverseIterator();for(;s.hasNext();){const l=s.getNext(),u=l.key,c=l.value,f=O2();c.forEach(h=>{if(!o.has(h)){const p=M2(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return B.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return oe.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):H9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const a=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):B.resolve(Ur());let s=-1,l=o;return a.next(u=>B.forEach(u,(c,f)=>(s<f.largestBatchId&&(s=f.largestBatchId),o.get(c)?B.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,Se())).next(c=>({batchId:s,changes:k2(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new oe(n)).next(r=>{let i=Qu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let a=Qu();return this.indexManager.getCollectionParents(e,o).next(s=>B.forEach(s,l=>{const u=function(f,h){return new Gm(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{a=a.insert(f,h)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(o=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(a=>{o.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,Et.newInvalidDocument(c)))});let s=Qu();return a.forEach((l,u)=>{const c=o.get(l);c!==void 0&&hc(c.mutation,u,kn.empty(),yt.now()),qf(n,u)&&(s=s.insert(l,u))}),s})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hz{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return B.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:xn(i.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:tj(i.bundledQuery),readTime:xn(i.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(){this.overlays=new ft(oe.comparator),this.Ir=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ur();return B.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const i=Ur(),o=n.length+1,a=new oe(n.child("")),s=this.overlays.getIteratorFrom(a);for(;s.hasNext();){const l=s.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return B.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new ft((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Ur(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const s=Ur(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>s.set(u,c)),!(s.size()>=i)););return B.resolve(s)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new Zw(n,r));let o=this.Ir.get(n);o===void 0&&(o=Se(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(){this.sessionToken=Ct.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.Tr=new Ke(Bt.Er),this.dr=new Ke(Bt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new Bt(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Bt(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new oe(new Ue([])),r=new Bt(n,e),i=new Bt(n,e+1),o=[];return this.dr.forEachInRange([r,i],a=>{this.Vr(a),o.push(a.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new oe(new Ue([])),r=new Bt(n,e),i=new Bt(n,e+1);let o=Se();return this.dr.forEachInRange([r,i],a=>{o=o.add(a.key)}),o}containsKey(e){const n=new Bt(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Bt{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return oe.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||oe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ke(Bt.Er)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new Yw(o,n,r,i);this.mutationQueue.push(a);for(const s of i)this.br=this.br.add(new Bt(s.key,o)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return B.resolve(a)}lookupMutationBatch(e,n){return B.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return B.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Bt(n,0),i=new Bt(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],a=>{const s=this.Dr(a.wr);o.push(s)}),B.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(Ee);return n.forEach(i=>{const o=new Bt(i,0),a=new Bt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,a],s=>{r=r.add(s.wr)})}),B.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;oe.isDocumentKey(o)||(o=o.child(""));const a=new Bt(new oe(o),0);let s=new Ke(Ee);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(s=s.add(l.wr)),!0)},a),B.resolve(this.Cr(s))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){fe(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return B.forEach(n.mutations,i=>{const o=new Bt(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new Bt(n,0),i=this.br.firstAfterOrEqual(r);return B.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(e){this.Mr=e,this.docs=function(){return new ft(oe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,a=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(n))}getEntries(e,n){let r=zn();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Et.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=zn();const a=n.path,s=new oe(a.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Uw(a2(c),r)<=0||(i.has(c.key)||qf(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return B.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ce()}Or(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Yz(this)}getSize(e){return B.resolve(this.size)}}class Yz extends sj{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(e){this.persistence=e,this.Nr=new Lo(n=>Da(n),zf),this.lastRemoteSnapshotVersion=he.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ix,this.targetCount=0,this.kr=La.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),B.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new La(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.Kn(n),B.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((a,s)=>{s.sequenceNumber<=n&&r.get(s.targetId)===null&&(this.Nr.delete(a),o.push(this.removeMatchingKeysForTargetId(e,s.targetId)),i++)}),B.waitFor(o).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(a=>{o.push(i.markPotentiallyOrphaned(e,a))}),B.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cj{constructor(e,n){this.qr={},this.overlays={},this.Qr=new rr(0),this.Kr=!1,this.Kr=!0,this.$r=new Gz,this.referenceDelegate=e(this),this.Ur=new Jz(this),this.indexManager=new Dz,this.remoteDocumentCache=function(i){return new Xz(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Z2(n),this.Gr=new Hz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Kz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Qz(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Z("MemoryPersistence","Starting transaction:",e);const i=new Zz(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return B.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class Zz extends l2{constructor(e){super(),this.currentSequenceNumber=e}}class ng{constructor(e){this.persistence=e,this.Jr=new ix,this.Yr=null}static Zr(e){return new ng(e)}get Xr(){if(this.Yr)return this.Yr;throw ce()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),B.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.Xr,r=>{const i=oe.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,he.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return B.or([()=>B.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e){this.serializer=e}O(e,n,r,i){const o=new Wm("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kS,{unique:!0}),l.createObjectStore("documentMutations")}(e),gI(e),function(l){l.createObjectStore("remoteDocuments")}(e));let a=B.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),gI(e)),a=a.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:he.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(o))),r<4&&i>=4&&(r!==0&&(a=a.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",kS,{unique:!0});const f=u.store("mutations"),h=c.map(p=>f.put(p));return B.waitFor(h)})}(e,o))),a=a.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(a=a.next(()=>this.ni(o))),r<6&&i>=6&&(a=a.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(a=a.next(()=>this.ii(o))),r<8&&i>=8&&(a=a.next(()=>this.si(e,o))),r<9&&i>=9&&(a=a.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(a=a.next(()=>this.oi(o))),r<11&&i>=11&&(a=a.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(a=a.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:A9});u.createIndex("collectionPathOverlayIndex",P9,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",k9,{unique:!1})})(e)})),r<13&&i>=13&&(a=a.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:g9});u.createIndex("documentKeyIndex",y9),u.createIndex("collectionGroupIndex",v9)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(a=a.next(()=>this.ai(e,o))),r<15&&i>=15&&(a=a.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:E9}).createIndex("sequenceNumberIndex",T9,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:S9}).createIndex("documentKeyIndex",I9,{unique:!1})}(e))),r<16&&i>=16&&(a=a.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(a=a.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),a}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=vp(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>B.forEach(i,o=>{const a=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",a).next(s=>B.forEach(s,l=>{fe(l.userId===o.userId);const u=oa(this.serializer,l);return ij(e,o.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((a,s)=>{const l=new Ue(a),u=function(f){return[0,wn(f)]}(l);o.push(n.get(u).next(c=>c?B.resolve():(f=>n.put({targetId:0,path:wn(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>B.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:x9});const r=n.store("collectionParents"),i=new rx,o=a=>{if(i.add(a)){const s=a.lastSegment(),l=a.popLast();return r.put({collectionId:s,parent:wn(l)})}};return n.store("remoteDocuments").J({H:!0},(a,s)=>{const l=new Ue(a);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([a,s,l],u)=>{const c=Br(s);return o(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=Yu(i),a=ej(this.serializer,o);return n.put(a)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,a)=>{const s=n.store("remoteDocumentsV14"),l=function(f){return f.document?new oe(Ue.fromString(f.document.name).popFirst(5)):f.noDocument?oe.fromSegments(f.noDocument.path):f.unknownDocument?oe.fromSegments(f.unknownDocument.path):ce()}(a).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:a.readTime||[0,0],unknownDocument:a.unknownDocument,noDocument:a.noDocument,document:a.document,hasCommittedMutations:!!a.hasCommittedMutations};i.push(s.put(u))}).next(()=>B.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=lj(this.serializer),o=new cj(ng.Zr,this.serializer.ct);return r.U().next(a=>{const s=new Map;return a.forEach(l=>{var u;let c=(u=s.get(l.userId))!==null&&u!==void 0?u:Se();oa(this.serializer,l).keys().forEach(f=>c=c.add(f)),s.set(l.userId,c)}),B.forEach(s,(l,u)=>{const c=new Xt(u),f=eg.lt(this.serializer,c),h=o.getIndexManager(c),p=tg.lt(c,this.serializer,h,o.referenceDelegate);return new uj(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new U0(n,rr.oe),l).next()})})}}function gI(t){t.createObjectStore("targetDocuments",{keyPath:b9}).createIndex("documentTargetsIndex",w9,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",_9,{unique:!0}),t.createObjectStore("targetGlobal")}const tv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class ox{constructor(e,n,r,i,o,a,s,l,u,c,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=a,this.document=s,this.ci=u,this.li=c,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!ox.D())throw new le(X.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Uz(this,i),this.Ai=n+"main",this.serializer=new Z2(l),this.Ri=new bo(this.Ai,this.hi,new e8(this.serializer)),this.$r=new kz,this.Ur=new $z(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lj(this.serializer),this.Gr=new Pz,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&yn("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new le(X.FAILED_PRECONDITION,tv);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new rr(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Ud(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if($o(e))return Z("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Z("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return Ou(e).get("owner").next(n=>B.resolve(this.vi(n)))}Ci(e){return Ud(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=$t(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),a=i.filter(s=>o.indexOf(s)===-1);return B.forEach(a,s=>r.delete(s.clientId)).next(()=>a)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?B.resolve(!0):Ou(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new le(X.FAILED_PRECONDITION,tv);return!1}}return!(!this.networkEnabled||!this.inForeground)||Ud(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,a=!this.inForeground&&i.inForeground,s=this.networkEnabled===i.networkEnabled;if(o||a&&s)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Z("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new U0(e,rr.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>Ud(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return tg.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Mz(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return eg.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){Z("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?N9:l===16?C9:l===15?qw:l===14?h2:l===13?d2:l===12?O9:l===11?f2:void ce()}(this.hi);let a;return this.Ri.runTransaction(e,i,o,s=>(a=new U0(s,this.Qr?this.Qr.next():rr.oe),n==="readwrite-primary"?this.wi(a).next(l=>!!l||this.Si(a)).next(l=>{if(!l)throw yn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new le(X.FAILED_PRECONDITION,s2);return r(a)}).next(l=>this.Di(a).next(()=>l)):this.Ki(a).next(()=>r(a)))).then(s=>(a.raiseOnCommittedEvent(),s))}Ki(e){return Ou(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new le(X.FAILED_PRECONDITION,tv)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Ou(e).put("owner",n)}static D(){return bo.D()}bi(e){const n=Ou(e);return n.get("owner").next(r=>this.vi(r)?(Z("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):B.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(yn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;sR()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return Z("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return yn("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){yn("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Ou(t){return $t(t,"owner")}function Ud(t){return $t(t,"clientMetadata")}function t8(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=Se(),i=Se();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new ax(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return sR()?8:u2(Mt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(a=>{o.result=a}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(a=>{o.result=a})}).next(()=>{if(o.result)return;const a=new n8;return this.Xi(e,n,a).next(s=>{if(o.result=s,this.zi)return this.es(e,n,a,s.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ys()<=ke.DEBUG&&Z("QueryEngine","SDK will not create cache indexes for query:",vs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),B.resolve()):(ys()<=ke.DEBUG&&Z("QueryEngine","Query:",vs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ys()<=ke.DEBUG&&Z("QueryEngine","The SDK decides to create cache indexes for query:",vs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,sr(n))):B.resolve())}Yi(e,n){if(US(n))return B.resolve(null);let r=sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=G0(n,null,"F"),r=sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const a=Se(...o);return this.Ji.getDocuments(e,a).next(s=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,s);return this.ns(n,u,a,l.readTime)?this.Yi(e,G0(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return US(n)||i.isEqual(he.min())?B.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const a=this.ts(n,o);return this.ns(n,a,r,i)?B.resolve(null):(ys()<=ke.DEBUG&&Z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vs(n)),this.rs(e,a,n,l9(i,-1)).next(s=>s))})}ts(e,n){let r=new Ke(A2(e));return n.forEach((i,o)=>{qf(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return ys()<=ke.DEBUG&&Z("QueryEngine","Using full collection scan to execute query:",vs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Kn.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(a=>{o=o.insert(a.key,a)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new ft(Ee),this._s=new Lo(o=>Da(o),zf),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new uj(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function dj(t,e,n,r){return new r8(t,e,n,r)}async function hj(t,e){const n=xe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const a=[],s=[];let l=Se();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:s}))})})}function i8(t,e){const n=xe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(s,l,u,c){const f=u.batch,h=f.keys();let p=B.resolve();return h.forEach(b=>{p=p.next(()=>c.getEntry(l,b)).next(y=>{const _=u.docVersions.get(b);fe(_!==null),y.version.compareTo(_)<0&&(f.applyToRemoteDocument(y,u),y.isValidDocument()&&(y.setReadTime(u.commitVersion),c.addEntry(y)))})}),p.next(()=>s.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(s){let l=Se();for(let u=0;u<s.mutationResults.length;++u)s.mutationResults[u].transformResults.length>0&&(l=l.add(s.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function pj(t){const e=xe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function o8(t,e){const n=xe(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const a=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const s=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;s.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Ct.EMPTY_BYTE_STRING,he.min()).withLastLimboFreeSnapshotVersion(he.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(y,_,E){return y.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(h,p,c)&&s.push(n.Ur.updateTargetData(o,p))});let l=zn(),u=Se();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),s.push(a8(o,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(he.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));s.push(c)}return B.waitFor(s).next(()=>a.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function a8(t,e,n){let r=Se(),i=Se();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let a=zn();return n.forEach((s,l)=>{const u=o.get(s);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(s)),l.isNoDocument()&&l.version.isEqual(he.min())?(e.removeEntry(s,l.readTime),a=a.insert(s,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(s,l)):Z("LocalStore","Ignoring outdated watch update for ",s,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function s8(t,e){const n=xe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function l8(t,e){const n=xe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,B.resolve(i)):n.Ur.allocateTargetId(r).next(a=>(i=new fi(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function n_(t,e,n){const r=xe(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!$o(a))throw a;Z("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function yI(t,e,n){const r=xe(t);let i=he.min(),o=Se();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const f=xe(l),h=f._s.get(c);return h!==void 0?B.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,a,sr(e)).next(s=>{if(s)return i=s.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(a,s.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(a,e,n?i:he.min(),n?o:Se())).next(s=>(u8(r,G9(e),s),{documents:s,Ts:o})))}function u8(t,e,n){let r=t.us.get(e)||he.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}class vI{constructor(){this.activeTargetIds=ez()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mj{constructor(){this.so=new vI,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new vI,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function nv(){return zd===null?zd=function(){return 268435456+Math.round(2147483648*Math.random())}():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class h8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,a){const s=nv(),l=this.xo(n,r.toUriEncodedString());Z("RestConnection",`Sending RPC '${n}' ${s}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,a),this.No(n,l,u,i).then(c=>(Z("RestConnection",`Received RPC '${n}' ${s}: `,c),c),c=>{throw Na("RestConnection",`RPC '${n}' ${s} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,a,s){return this.Mo(n,r,i,o,a)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bl}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,a)=>n[a]=o),i&&i.headers.forEach((o,a)=>n[a]=o)}xo(n,r){const i=f8[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=nv();return new Promise((a,s)=>{const l=new JR;l.setWithCredentials(!0),l.listenOnce(ZR.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xh.NO_ERROR:const c=l.getResponseJson();Z(an,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),a(c);break;case xh.TIMEOUT:Z(an,`RPC '${e}' ${o} timed out`),s(new le(X.DEADLINE_EXCEEDED,"Request time out"));break;case xh.HTTP_ERROR:const f=l.getStatus();if(Z(an,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h?.error;if(p&&p.status&&p.message){const b=function(_){const E=_.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(E)>=0?E:X.UNKNOWN}(p.status);s(new le(b,p.message))}else s(new le(X.UNKNOWN,"Server responded with status "+l.getStatus()))}else s(new le(X.UNAVAILABLE,"Connection failed."));break;default:ce()}}finally{Z(an,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Z(an,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=nv(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=n2(),s=t2(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Z(an,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=a.createWebChannel(c,l);let h=!1,p=!1;const b=new d8({Io:_=>{p?Z(an,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(Z(an,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Z(an,`RPC '${e}' stream ${i} sending:`,_),f.send(_))},To:()=>f.close()}),y=(_,E,w)=>{_.listen(E,T=>{try{w(T)}catch(I){setTimeout(()=>{throw I},0)}})};return y(f,Gu.EventType.OPEN,()=>{p||(Z(an,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),y(f,Gu.EventType.CLOSE,()=>{p||(p=!0,Z(an,`RPC '${e}' stream ${i} transport closed`),b.So())}),y(f,Gu.EventType.ERROR,_=>{p||(p=!0,Na(an,`RPC '${e}' stream ${i} transport errored:`,_),b.So(new le(X.UNAVAILABLE,"The operation could not be completed")))}),y(f,Gu.EventType.MESSAGE,_=>{var E;if(!p){const w=_.data[0];fe(!!w);const T=w,I=T.error||((E=T[0])===null||E===void 0?void 0:E.error);if(I){Z(an,`RPC '${e}' stream ${i} received error:`,I);const P=I.status;let C=function(x){const k=At[x];if(k!==void 0)return V2(k)}(P),S=I.message;C===void 0&&(C=X.INTERNAL,S="Unknown error status: "+P+" with message "+I.message),p=!0,b.So(new le(C,S)),f.close()}else Z(an,`RPC '${e}' stream ${i} received:`,w),b.bo(w)}}),y(s,e2.STAT_EVENT,_=>{_.stat===F0.PROXY?Z(an,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===F0.NOPROXY&&Z(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p8(){return typeof window<"u"?window:null}function kh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(t){return new yz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gj{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yj{constructor(e,n,r,i,o,a,s,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=s,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new gj(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(yn(n.toString()),yn("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new le(X.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class m8 extends yj{constructor(e,n,r,i,o,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=bz(this.serializer,e),r=function(o){if(!("targetChange"in o))return he.min();const a=o.targetChange;return a.targetIds&&a.targetIds.length?he.min():a.readTime?xn(a.readTime):he.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=Y0(this.serializer),n.addTarget=function(o,a){let s;const l=a.target;if(s=dp(l)?{documents:K2(o,l)}:{query:G2(o,l)._t},s.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){s.resumeToken=U2(o,a.resumeToken);const u=Q0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}else if(a.snapshotVersion.compareTo(he.min())>0){s.readTime=cl(o,a.snapshotVersion.toTimestamp());const u=Q0(o,a.expectedCount);u!==null&&(s.expectedCount=u)}return s}(this.serializer,e);const r=xz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=Y0(this.serializer),n.removeTarget=e,this.a_(n)}}class g8 extends yj{constructor(e,n,r,i,o,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return fe(!!e.streamToken),this.lastStreamToken=e.streamToken,fe(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){fe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=wz(e.writeResults,e.commitTime),r=xn(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=Y0(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>mp(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Mo(e,X0(n,r),i,o,a)).catch(o=>{throw o.name==="FirebaseError"?(o.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new le(X.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Lo(e,X0(n,r),i,a,s,o)).catch(a=>{throw a.name==="FirebaseError"?(a.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new le(X.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class v8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(yn(n),this.D_=!1):Z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _8{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(a=>{r.enqueueAndForget(async()=>{Za(this)&&(Z("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=xe(l);u.L_.add(4),await Hf(u),u.q_.set("Unknown"),u.L_.delete(4),await ig(u)}(this))})}),this.q_=new v8(r,i)}}async function ig(t){if(Za(t))for(const e of t.B_)await e(!0)}async function Hf(t){for(const e of t.B_)await e(!1)}function vj(t,e){const n=xe(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),cx(n)?ux(n):zl(n).r_()&&lx(n,e))}function sx(t,e){const n=xe(t),r=zl(n);n.N_.delete(e),r.r_()&&_j(n,e),n.N_.size===0&&(r.r_()?r.o_():Za(n)&&n.q_.set("Unknown"))}function lx(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(he.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}zl(t).A_(e)}function _j(t,e){t.Q_.xe(e),zl(t).R_(e)}function ux(t){t.Q_=new hz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),zl(t).start(),t.q_.v_()}function cx(t){return Za(t)&&!zl(t).n_()&&t.N_.size>0}function Za(t){return xe(t).L_.size===0}function bj(t){t.Q_=void 0}async function b8(t){t.q_.set("Online")}async function w8(t){t.N_.forEach((e,n)=>{lx(t,e)})}async function x8(t,e){bj(t),cx(t)?(t.q_.M_(e),ux(t)):t.q_.set("Unknown")}async function E8(t,e,n){if(t.q_.set("Online"),e instanceof B2&&e.state===2&&e.cause)try{await async function(i,o){const a=o.cause;for(const s of o.targetIds)i.N_.has(s)&&(await i.remoteSyncer.rejectListen(s,a),i.N_.delete(s),i.Q_.removeTarget(s))}(t,e)}catch(r){Z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await _p(t,r)}else if(e instanceof Ph?t.Q_.Ke(e):e instanceof F2?t.Q_.He(e):t.Q_.We(e),!n.isEqual(he.min()))try{const r=await pj(t.localStore);n.compareTo(r)>=0&&await function(o,a){const s=o.Q_.rt(a);return s.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),s.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Ct.EMPTY_BYTE_STRING,c.snapshotVersion)),_j(o,l);const f=new fi(c.target,l,u,c.sequenceNumber);lx(o,f)}),o.remoteSyncer.applyRemoteEvent(s)}(t,n)}catch(r){Z("RemoteStore","Failed to raise snapshot:",r),await _p(t,r)}}async function _p(t,e,n){if(!$o(e))throw e;t.L_.add(1),await Hf(t),t.q_.set("Offline"),n||(n=()=>pj(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Z("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await ig(t)})}function wj(t,e){return e().catch(n=>_p(t,n,e))}async function Kf(t){const e=xe(t),n=Po(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;T8(e);)try{const i=await s8(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,S8(e,i)}catch(i){await _p(e,i)}xj(e)&&Ej(e)}function T8(t){return Za(t)&&t.O_.length<10}function S8(t,e){t.O_.push(e);const n=Po(t);n.r_()&&n.V_&&n.m_(e.mutations)}function xj(t){return Za(t)&&!Po(t).n_()&&t.O_.length>0}function Ej(t){Po(t).start()}async function I8(t){Po(t).p_()}async function A8(t){const e=Po(t);for(const n of t.O_)e.m_(n.mutations)}async function P8(t,e,n){const r=t.O_.shift(),i=Jw.from(r,e,n);await wj(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kf(t)}async function k8(t,e){e&&Po(t).V_&&await async function(r,i){if(function(a){return cz(a)&&a!==X.ABORTED}(i.code)){const o=r.O_.shift();Po(r).s_(),await wj(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await Kf(r)}}(t,e),xj(t)&&Ej(t)}async function bI(t,e){const n=xe(t);n.asyncQueue.verifyOperationInProgress(),Z("RemoteStore","RemoteStore received new credentials");const r=Za(n);n.L_.add(3),await Hf(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await ig(n)}async function O8(t,e){const n=xe(t);e?(n.L_.delete(2),await ig(n)):e||(n.L_.add(2),await Hf(n),n.q_.set("Unknown"))}function zl(t){return t.K_||(t.K_=function(n,r,i){const o=xe(n);return o.w_(),new m8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:b8.bind(null,t),Ro:w8.bind(null,t),mo:x8.bind(null,t),d_:E8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),cx(t)?ux(t):t.q_.set("Unknown")):(await t.K_.stop(),bj(t))})),t.K_}function Po(t){return t.U_||(t.U_=function(n,r,i){const o=xe(n);return o.w_(),new g8(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:I8.bind(null,t),mo:k8.bind(null,t),f_:A8.bind(null,t),g_:P8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Kf(t)):(await t.U_.stop(),t.O_.length>0&&(Z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new yi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const a=Date.now()+r,s=new fx(e,n,a,i,o);return s.start(r),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dx(t,e){if(yn("AsyncQueue",`${e}: ${t}`),$o(t))return new le(X.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.comparator=e?(n,r)=>e(n,r)||oe.comparator(n.key,r.key):(n,r)=>oe.comparator(n.key,r.key),this.keyedMap=Qu(),this.sortedSet=new ft(this.comparator)}static emptySet(e){return new Hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Hs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Hs;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.W_=new ft(oe.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ce():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class fl{constructor(e,n,r,i,o,a,s,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=a,this.syncStateChanged=s,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const a=[];return n.forEach(s=>{a.push({type:0,doc:s})}),new fl(e,n,Hs.emptySet(n),a,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class N8{constructor(){this.queries=xI(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=xe(n),o=i.queries;i.queries=xI(),o.forEach((a,s)=>{for(const l of s.j_)l.onError(r)})})(this,new le(X.ABORTED,"Firestore shutting down"))}}function xI(){return new Lo(t=>I2(t),Qm)}async function R8(t,e){const n=xe(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new C8,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const s=dx(a,`Initialization of query '${vs(e.query)}' failed`);return void e.onError(s)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&hx(n)}async function j8(t,e){const n=xe(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const a=o.j_.indexOf(e);a>=0&&(o.j_.splice(a,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function D8(t,e){const n=xe(t);let r=!1;for(const i of e){const o=i.query,a=n.queries.get(o);if(a){for(const s of a.j_)s.X_(i)&&(r=!0);a.z_=i}}r&&hx(n)}function M8(t,e,n){const r=xe(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function hx(t){t.Y_.forEach(e=>{e.next()})}var r_,EI;(EI=r_||(r_={})).ea="default",EI.Cache="cache";class $8{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new fl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=fl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==r_.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj{constructor(e){this.key=e}}class Sj{constructor(e){this.key=e}}class L8{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Se(),this.mutatedKeys=Se(),this.Aa=A2(e),this.Ra=new Hs(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new wI,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,a=i,s=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=qf(this.query,f)?f:null,b=!!h&&this.mutatedKeys.has(h.key),y=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let _=!1;h&&p?h.data.isEqual(p.data)?b!==y&&(r.track({type:3,doc:p}),_=!0):this.ga(h,p)||(r.track({type:2,doc:p}),_=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(s=!0)):!h&&p?(r.track({type:0,doc:p}),_=!0):h&&!p&&(r.track({type:1,doc:h}),_=!0,(l||u)&&(s=!0)),_&&(p?(a=a.add(p),o=y?o.add(c):o.delete(c)):(a=a.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:a,fa:r,ns:s,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,f)=>function(p,b){const y=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ce()}};return y(p)-y(b)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const s=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new fl(this.query,e.Ra,o,a,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:s}:{wa:s}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wI,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Se(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Sj(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Tj(r))}),n}ba(e){this.Ta=e.Ts,this.da=Se();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return fl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class V8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class F8{constructor(e){this.key=e,this.va=!1}}class B8{constructor(e,n,r,i,o,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new Lo(s=>I2(s),Qm),this.Ma=new Map,this.xa=new Set,this.Oa=new ft(oe.comparator),this.Na=new Map,this.La=new ix,this.Ba={},this.ka=new Map,this.qa=La.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function U8(t,e,n=!0){const r=Cj(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await Ij(r,e,n,!0),i}async function z8(t,e){const n=Cj(t);await Ij(n,e,!0,!1)}async function Ij(t,e,n,r){const i=await l8(t.localStore,sr(e)),o=i.targetId,a=t.sharedClientState.addLocalQueryTarget(o,n);let s;return r&&(s=await q8(t,e,o,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&vj(t.remoteStore,i),s}async function q8(t,e,n,r,i){t.Ka=(f,h,p)=>async function(y,_,E,w){let T=_.view.ma(E);T.ns&&(T=await yI(y.localStore,_.query,!1).then(({documents:S})=>_.view.ma(S,T)));const I=w&&w.targetChanges.get(_.targetId),P=w&&w.targetMismatches.get(_.targetId)!=null,C=_.view.applyChanges(T,y.isPrimaryClient,I,P);return SI(y,_.targetId,C.wa),C.snapshot}(t,f,h,p);const o=await yI(t.localStore,e,!0),a=new L8(e,o.Ts),s=a.ma(o.documents),l=Wf.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=a.applyChanges(s,t.isPrimaryClient,l);SI(t,n,u.wa);const c=new V8(e,n,a);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function W8(t,e,n){const r=xe(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(a=>!Qm(a,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await n_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&sx(r.remoteStore,i.targetId),i_(r,i.targetId)}).catch(Ya)):(i_(r,i.targetId),await n_(r.localStore,i.targetId,!0))}async function H8(t,e){const n=xe(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),sx(n.remoteStore,r.targetId))}async function K8(t,e,n){const r=Nj(t);try{const i=await function(a,s){const l=xe(a),u=yt.now(),c=s.reduce((p,b)=>p.add(b.key),Se());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let b=zn(),y=Se();return l.cs.getEntries(p,c).next(_=>{b=_,b.forEach((E,w)=>{w.isValidDocument()||(y=y.add(E))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,b)).next(_=>{f=_;const E=[];for(const w of s){const T=lz(w,f.get(w.key).overlayedDocument);T!=null&&E.push(new ji(w.key,T,v2(T.value.mapValue),vn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,E,s)}).next(_=>{h=_;const E=_.applyToLocalDocumentSet(f,y);return l.documentOverlayCache.saveOverlays(p,_.batchId,E)})}).then(()=>({batchId:h.batchId,changes:k2(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,s,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new ft(Ee)),u=u.insert(s,l),a.Ba[a.currentUser.toKey()]=u}(r,i.batchId,n),await Gf(r,i.changes),await Kf(r.remoteStore)}catch(i){const o=dx(i,"Failed to persist write");n.reject(o)}}async function Aj(t,e){const n=xe(t);try{const r=await o8(n.localStore,e);e.targetChanges.forEach((i,o)=>{const a=n.Na.get(o);a&&(fe(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?fe(a.va):i.removedDocuments.size>0&&(fe(a.va),a.va=!1))}),await Gf(n,r,e)}catch(r){await Ya(r)}}function TI(t,e,n){const r=xe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,a)=>{const s=a.view.Z_(e);s.snapshot&&i.push(s.snapshot)}),function(a,s){const l=xe(a);l.onlineState=s;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(s)&&(u=!0)}),u&&hx(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function G8(t,e,n){const r=xe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let a=new ft(oe.comparator);a=a.insert(o,Et.newNoDocument(o,he.min()));const s=Se().add(o),l=new Zm(he.min(),new Map,new ft(Ee),a,s);await Aj(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),px(r)}else await n_(r.localStore,e,!1).then(()=>i_(r,e,n)).catch(Ya)}async function Q8(t,e){const n=xe(t),r=e.batch.batchId;try{const i=await i8(n.localStore,e);kj(n,r,null),Pj(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Gf(n,i)}catch(i){await Ya(i)}}async function X8(t,e,n){const r=xe(t);try{const i=await function(a,s){const l=xe(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,s).next(f=>(fe(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,s)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);kj(r,e,n),Pj(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Gf(r,i)}catch(i){await Ya(i)}}function Pj(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function kj(t,e,n){const r=xe(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function i_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Oj(t,r)})}function Oj(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(sx(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),px(t))}function SI(t,e,n){for(const r of n)r instanceof Tj?(t.La.addReference(r.key,e),Y8(t,r)):r instanceof Sj?(Z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Oj(t,r.key)):ce()}function Y8(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Z("SyncEngine","New document in limbo: "+n),t.xa.add(r),px(t))}function px(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new oe(Ue.fromString(e)),r=t.qa.next();t.Na.set(r,new F8(n)),t.Oa=t.Oa.insert(n,r),vj(t.remoteStore,new fi(sr(Qw(n.path)),r,"TargetPurposeLimboResolution",rr.oe))}}async function Gf(t,e,n){const r=xe(t),i=[],o=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach((s,l)=>{a.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n?.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=ax.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(a),r.Ca.d_(i),await async function(l,u){const c=xe(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>B.forEach(u,h=>B.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>B.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!$o(f))throw f;Z("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),b=p.snapshotVersion,y=p.withLastLimboFreeSnapshotVersion(b);c.os=c.os.insert(h,y)}}}(r.localStore,o))}async function J8(t,e){const n=xe(t);if(!n.currentUser.isEqual(e)){Z("SyncEngine","User change. New user:",e.toKey());const r=await hj(n.localStore,e);n.currentUser=e,function(o,a){o.ka.forEach(s=>{s.forEach(l=>{l.reject(new le(X.CANCELLED,a))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Gf(n,r.hs)}}function Z8(t,e){const n=xe(t),r=n.Na.get(e);if(r&&r.va)return Se().add(r.key);{let i=Se();const o=n.Ma.get(e);if(!o)return i;for(const a of o){const s=n.Fa.get(a);i=i.unionWith(s.view.Va)}return i}}function Cj(t){const e=xe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Aj.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Z8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G8.bind(null,e),e.Ca.d_=D8.bind(null,e.eventManager),e.Ca.$a=M8.bind(null,e.eventManager),e}function Nj(t){const e=xe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Q8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X8.bind(null,e),e}class Xc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rg(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return dj(this.persistence,new fj,e.initialUser,this.serializer)}Ga(e){return new cj(ng.Zr,this.serializer)}Wa(e){return new mj}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xc.provider={build:()=>new Xc};class eq extends Xc{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await Nj(this.Ja.syncEngine),await Kf(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return dj(this.persistence,new fj,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Vz(r,e.asyncQueue,n)}Ha(e,n){const r=new d9(n,this.persistence);return new f9(e.asyncQueue,r)}Ga(e){const n=t8(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?In.withCacheSize(this.cacheSizeBytes):In.DEFAULT;return new ox(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,p8(),kh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new mj}}class bp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>TI(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=J8.bind(null,this.syncEngine),await O8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new N8}()}createDatastore(e){const n=rg(e.databaseInfo.databaseId),r=function(o){return new h8(o)}(e.databaseInfo);return function(o,a,s,l){return new y8(o,a,s,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,a,s){return new _8(r,i,o,a,s)}(this.localStore,this.datastore,e.asyncQueue,n=>TI(this.syncEngine,n,0),function(){return _I.D()?new _I:new c8}())}createSyncEngine(e,n){return function(i,o,a,s,l,u,c){const f=new B8(i,o,a,s,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=xe(i);Z("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await Hf(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}bp.provider={build:()=>new bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tq{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):yn("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nq{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Xt.UNAUTHENTICATED,this.clientId=i2.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async a=>{Z("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(Z("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new yi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=dx(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function rv(t,e){t.asyncQueue.verifyOperationInProgress(),Z("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await hj(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function II(t,e){t.asyncQueue.verifyOperationInProgress();const n=await rq(t);Z("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>bI(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>bI(e.remoteStore,i)),t._onlineComponents=e}async function rq(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Z("FirestoreClient","Using user provided OfflineComponentProvider");try{await rv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===X.FAILED_PRECONDITION||i.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Na("Error using user provided cache. Falling back to memory cache: "+n),await rv(t,new Xc)}}else Z("FirestoreClient","Using default OfflineComponentProvider"),await rv(t,new Xc);return t._offlineComponents}async function Rj(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Z("FirestoreClient","Using user provided OnlineComponentProvider"),await II(t,t._uninitializedComponentsProvider._online)):(Z("FirestoreClient","Using default OnlineComponentProvider"),await II(t,new bp))),t._onlineComponents}function iq(t){return Rj(t).then(e=>e.syncEngine)}async function oq(t){const e=await Rj(t),n=e.eventManager;return n.onListen=U8.bind(null,e.syncEngine),n.onUnlisten=W8.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=z8.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=H8.bind(null,e.syncEngine),n}function aq(t,e,n={}){const r=new yi;return t.asyncQueue.enqueueAndForget(async()=>function(o,a,s,l,u){const c=new tq({next:h=>{c.Za(),a.enqueueAndForget(()=>j8(o,f)),h.fromCache&&l.source==="server"?u.reject(new le(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new $8(s,c,{includeMetadataChanges:!0,_a:!0});return R8(o,f)}(await oq(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jj(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dj(t,e,n){if(!n)throw new le(X.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sq(t,e,n,r){if(e===!0&&r===!0)throw new le(X.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function PI(t){if(!oe.isDocumentKey(t))throw new le(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kI(t){if(oe.isDocumentKey(t))throw new le(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mx(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ce()}function ko(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new le(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mx(t);throw new le(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new le(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new le(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jj((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new le(X.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class og{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new OI({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new OI(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Z6;switch(r.type){case"firstParty":return new r9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new le(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=AI.get(n);r&&(Z("ComponentProvider","Removing Datastore"),AI.delete(n),r.terminate())}(this),Promise.resolve()}}function lq(t,e,n,r={}){var i;const o=(t=ko(t,og))._getSettings(),a=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==a&&Na("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let s,l;if(typeof r.mockUserToken=="string")s=r.mockUserToken,l=Xt.MOCK_USER;else{s=uB(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new le(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Xt(u)}t._authCredentials=new e9(new r2(s,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ag(this.firestore,e,this._query)}}class lr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new lr(this.firestore,e,this._key)}}class wo extends ag{constructor(e,n,r){super(e,n,Qw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new lr(this.firestore,null,new oe(e))}withConverter(e){return new wo(this.firestore,e,this._path)}}function Mj(t,e,...n){if(t=_t(t),Dj("collection","path",e),t instanceof og){const r=Ue.fromString(e,...n);return kI(r),new wo(t,null,r)}{if(!(t instanceof lr||t instanceof wo))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return kI(r),new wo(t.firestore,null,r)}}function gx(t,e,...n){if(t=_t(t),arguments.length===1&&(e=i2.newId()),Dj("doc","path",e),t instanceof og){const r=Ue.fromString(e,...n);return PI(r),new lr(t,null,new oe(r))}{if(!(t instanceof lr||t instanceof wo))throw new le(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ue.fromString(e,...n));return PI(r),new lr(t.firestore,t instanceof wo?t.converter:null,new oe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new gj(this,"async_queue_retry"),this.Vu=()=>{const r=kh();r&&Z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=kh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=kh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new yi;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!$o(e))throw e;Z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(a){let s=a.message||"";return a.stack&&(s=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),s}(r);throw yn("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=fx.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ce()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ql extends og{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new CI,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new CI(e),this._firestoreClient=void 0,await e}}}function uq(t,e){const n=typeof t=="object"?t:Cw(),r=typeof t=="string"?t:"(default)",i=Ga(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=sB("firestore");o&&lq(i,...o)}return i}function $j(t){if(t._terminated)throw new le(X.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Lj(t),t._firestoreClient}function Lj(t){var e,n,r;const i=t._freezeSettings(),o=function(s,l,u,c){return new j9(s,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,jj(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new nq(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(s){const l=s?._online.build();return{_offline:s?._offline.build(l),_online:l}}(t._componentsProvider))}function cq(t,e){Na("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return fq(t,bp.provider,{build:r=>new eq(r,n.cacheSizeBytes,void 0)}),Promise.resolve()}function fq(t,e,n){if((t=ko(t,ql))._firestoreClient||t._terminated)throw new le(X.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new le(X.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},Lj(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dl(Ct.fromBase64String(e))}catch(n){throw new le(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dl(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dq=/^__.*__$/;class hq{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ji(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ul(e,this.data,n,this.fieldTransforms)}}class Vj{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ji(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fj(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ce()}}class bx{constructor(e,n,r,i,o,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new bx(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return wp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Fj(this.Cu)&&dq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class pq{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||rg(e)}Qu(e,n,r,i=!1){return new bx({Cu:e,methodName:n,qu:r,path:mt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bj(t){const e=t._freezeSettings(),n=rg(t._databaseId);return new pq(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mq(t,e,n,r,i,o={}){const a=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);wx("Data must be an object, but it was:",a,r);const s=Uj(r,a);let l,u;if(o.merge)l=new kn(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=o_(e,f,n);if(!a.contains(h))throw new le(X.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);qj(c,h)||c.push(h)}l=new kn(c),u=a.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=a.fieldTransforms;return new hq(new fn(s),l,u)}class lg extends yx{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof lg}}function gq(t,e,n,r){const i=t.Qu(1,e,n);wx("Data must be an object, but it was:",i,r);const o=[],a=fn.empty();Ja(r,(l,u)=>{const c=xx(e,l,n);u=_t(u);const f=i.Nu(c);if(u instanceof lg)o.push(c);else{const h=ug(u,f);h!=null&&(o.push(c),a.set(c,h))}});const s=new kn(o);return new Vj(a,s,i.fieldTransforms)}function yq(t,e,n,r,i,o){const a=t.Qu(1,e,n),s=[o_(e,r,n)],l=[i];if(o.length%2!=0)throw new le(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)s.push(o_(e,o[h])),l.push(o[h+1]);const u=[],c=fn.empty();for(let h=s.length-1;h>=0;--h)if(!qj(u,s[h])){const p=s[h];let b=l[h];b=_t(b);const y=a.Nu(p);if(b instanceof lg)u.push(p);else{const _=ug(b,y);_!=null&&(u.push(p),c.set(p,_))}}const f=new kn(u);return new Vj(c,f,a.fieldTransforms)}function ug(t,e){if(zj(t=_t(t)))return wx("Unsupported field value:",e,t),Uj(t,e);if(t instanceof yx)return function(r,i){if(!Fj(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let a=0;for(const s of r){let l=ug(s,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),a++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=_t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return tz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=yt.fromDate(r);return{timestampValue:cl(i.serializer,o)}}if(r instanceof yt){const o=new yt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:cl(i.serializer,o)}}if(r instanceof vx)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof dl)return{bytesValue:U2(i.serializer,r._byteString)};if(r instanceof lr){const o=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(o))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:tx(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _x)return function(a,s){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw s.Bu("VectorValues must only contain numeric values.");return Xw(s.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${mx(r)}`)}(t,e)}function Uj(t,e){const n={};return p2(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ja(t,(r,i)=>{const o=ug(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function zj(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof yt||t instanceof vx||t instanceof dl||t instanceof lr||t instanceof yx||t instanceof _x)}function wx(t,e,n){if(!zj(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=mx(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function o_(t,e,n){if((e=_t(e))instanceof sg)return e._internalPath;if(typeof e=="string")return xx(t,e);throw wp("Field path arguments must be of type string or ",t,!1,void 0,n)}const vq=new RegExp("[~\\*/\\[\\]]");function xx(t,e,n){if(e.search(vq)>=0)throw wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sg(...e.split("."))._internalPath}catch{throw wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wp(t,e,n,r,i){const o=r&&!r.isEmpty(),a=i!==void 0;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let l="";return(o||a)&&(l+=" (found",o&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new le(X.INVALID_ARGUMENT,s+t+l)}function qj(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wj{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new lr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _q(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hj("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _q extends Wj{data(){return super.data()}}function Hj(t,e){return typeof e=="string"?xx(t,e):e instanceof sg?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bq(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new le(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wq{convertValue(e,n="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ce()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ja(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(a=>lt(a.doubleValue));return new _x(o)}convertGeoPoint(e){return new vx(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Hw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Wc(e));default:return null}}convertTimestamp(e){const n=Pi(e);return new yt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ue.fromString(e);fe(J2(r));const i=new Ra(r.get(1),r.get(3)),o=new oe(r.popFirst(5));return i.isEqual(n)||yn(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xq(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Eq extends Wj{constructor(e,n,r,i,o,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Oh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hj("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Oh extends Eq{data(e={}){return super.data(e)}}class Tq{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new qd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oh(this._firestore,this._userDataWriter,r.key,r,new qd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(s=>{const l=new Oh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new qd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);return s.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(s=>o||s.type!==3).map(s=>{const l=new Oh(i._firestore,i._userDataWriter,s.doc.key,s.doc,new qd(i._snapshot.mutatedKeys.has(s.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return s.type!==0&&(u=a.indexOf(s.doc.key),a=a.delete(s.doc.key)),s.type!==1&&(a=a.add(s.doc),c=a.indexOf(s.doc.key)),{type:Sq(s.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Sq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ce()}}class Iq extends wq{constructor(e){super(),this.firestore=e}convertBytes(e){return new dl(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new lr(this.firestore,null,n)}}function Aq(t){t=ko(t,ag);const e=ko(t.firestore,ql),n=$j(e),r=new Iq(e);return bq(t._query),aq(n,t._query).then(i=>new Tq(e,r,t,i))}function Pq(t,e,n,...r){t=ko(t,lr);const i=ko(t.firestore,ql),o=Bj(i);let a;return a=typeof(e=_t(e))=="string"||e instanceof sg?yq(o,"updateDoc",t._key,e,n,r):gq(o,"updateDoc",t._key,e),Ex(i,[a.toMutation(t._key,vn.exists(!0))])}function kq(t){return Ex(ko(t.firestore,ql),[new Jm(t._key,vn.none())])}function Oq(t,e){const n=ko(t.firestore,ql),r=gx(t),i=xq(t.converter,e);return Ex(n,[mq(Bj(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,vn.exists(!1))]).then(()=>r)}function Ex(t,e){return function(r,i){const o=new yi;return r.asyncQueue.enqueueAndForget(async()=>K8(await iq(r),i,o)),o.promise}($j(t),e)}(function(e,n=!0){(function(i){Bl=i})(Fl),Xr(new Or("firestore",(r,{instanceIdentifier:i,options:o})=>{const a=r.getProvider("app").getImmediate(),s=new ql(new t9(r.getProvider("auth-internal")),new o9(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new le(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ra(u.options.projectId,c)}(a,i),a);return o=Object.assign({useFetchStreams:n},o),s._setSettings(o),s},"PUBLIC").setMultipleInstances(!0)),ar(IS,"4.7.3",e),ar(IS,"4.7.3","esm2017")})();const Kj="@firebase/installations",Tx="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gj=1e4,Qj=`w:${Tx}`,Xj="FIS_v2",Cq="https://firebaseinstallations.googleapis.com/v1",Nq=60*60*1e3,Rq="installations",jq="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Va=new Ka(Rq,jq,Dq);function Yj(t){return t instanceof Nr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jj({projectId:t}){return`${Cq}/projects/${t}/installations`}function Zj(t){return{token:t.token,requestStatus:2,expiresIn:$q(t.expiresIn),creationTime:Date.now()}}async function eD(t,e){const r=(await e.json()).error;return Va.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function tD({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Mq(t,{refreshToken:e}){const n=tD(t);return n.append("Authorization",Lq(e)),n}async function nD(t){const e=await t();return e.status>=500&&e.status<600?t():e}function $q(t){return Number(t.replace("s","000"))}function Lq(t){return`${Xj} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vq({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Jj(t),i=tD(t),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={fid:n,authVersion:Xj,appId:t.appId,sdkVersion:Qj},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await nD(()=>fetch(r,s));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Zj(u.authToken)}}else throw await eD("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fq(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=/^[cdef][\w-]{21}$/,a_="";function Uq(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=zq(t);return Bq.test(n)?n:a_}catch{return a_}}function zq(t){return Fq(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cg(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iD=new Map;function oD(t,e){const n=cg(t);aD(n,e),qq(n,e)}function aD(t,e){const n=iD.get(t);if(n)for(const r of n)r(e)}function qq(t,e){const n=Wq();n&&n.postMessage({key:t,fid:e}),Hq()}let fa=null;function Wq(){return!fa&&"BroadcastChannel"in self&&(fa=new BroadcastChannel("[Firebase] FID Change"),fa.onmessage=t=>{aD(t.data.key,t.data.fid)}),fa}function Hq(){iD.size===0&&fa&&(fa.close(),fa=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kq="firebase-installations-database",Gq=1,Fa="firebase-installations-store";let iv=null;function Sx(){return iv||(iv=fR(Kq,Gq,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Fa)}}})),iv}async function xp(t,e){const n=cg(t),i=(await Sx()).transaction(Fa,"readwrite"),o=i.objectStore(Fa),a=await o.get(n);return await o.put(e,n),await i.done,(!a||a.fid!==e.fid)&&oD(t,e.fid),e}async function sD(t){const e=cg(t),r=(await Sx()).transaction(Fa,"readwrite");await r.objectStore(Fa).delete(e),await r.done}async function fg(t,e){const n=cg(t),i=(await Sx()).transaction(Fa,"readwrite"),o=i.objectStore(Fa),a=await o.get(n),s=e(a);return s===void 0?await o.delete(n):await o.put(s,n),await i.done,s&&(!a||a.fid!==s.fid)&&oD(t,s.fid),s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ix(t){let e;const n=await fg(t.appConfig,r=>{const i=Qq(r),o=Xq(t,i);return e=o.registrationPromise,o.installationEntry});return n.fid===a_?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Qq(t){const e=t||{fid:Uq(),registrationStatus:0};return lD(e)}function Xq(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Va.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=Yq(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Jq(t)}:{installationEntry:e}}async function Yq(t,e){try{const n=await Vq(t,e);return xp(t.appConfig,n)}catch(n){throw Yj(n)&&n.customData.serverCode===409?await sD(t.appConfig):await xp(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Jq(t){let e=await NI(t.appConfig);for(;e.registrationStatus===1;)await rD(100),e=await NI(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Ix(t);return r||n}return e}function NI(t){return fg(t,e=>{if(!e)throw Va.create("installation-not-found");return lD(e)})}function lD(t){return Zq(t)?{fid:t.fid,registrationStatus:0}:t}function Zq(t){return t.registrationStatus===1&&t.registrationTime+Gj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e7({appConfig:t,heartbeatServiceProvider:e},n){const r=t7(t,n),i=Mq(t,n),o=e.getImmediate({optional:!0});if(o){const u=await o.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const a={installation:{sdkVersion:Qj,appId:t.appId}},s={method:"POST",headers:i,body:JSON.stringify(a)},l=await nD(()=>fetch(r,s));if(l.ok){const u=await l.json();return Zj(u)}else throw await eD("Generate Auth Token",l)}function t7(t,{fid:e}){return`${Jj(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ax(t,e=!1){let n;const r=await fg(t.appConfig,o=>{if(!uD(o))throw Va.create("not-registered");const a=o.authToken;if(!e&&i7(a))return o;if(a.requestStatus===1)return n=n7(t,e),o;{if(!navigator.onLine)throw Va.create("app-offline");const s=a7(o);return n=r7(t,s),s}});return n?await n:r.authToken}async function n7(t,e){let n=await RI(t.appConfig);for(;n.authToken.requestStatus===1;)await rD(100),n=await RI(t.appConfig);const r=n.authToken;return r.requestStatus===0?Ax(t,e):r}function RI(t){return fg(t,e=>{if(!uD(e))throw Va.create("not-registered");const n=e.authToken;return s7(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function r7(t,e){try{const n=await e7(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await xp(t.appConfig,r),n}catch(n){if(Yj(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await sD(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await xp(t.appConfig,r)}throw n}}function uD(t){return t!==void 0&&t.registrationStatus===2}function i7(t){return t.requestStatus===2&&!o7(t)}function o7(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Nq}function a7(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function s7(t){return t.requestStatus===1&&t.requestTime+Gj<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l7(t){const e=t,{installationEntry:n,registrationPromise:r}=await Ix(e);return r?r.catch(console.error):Ax(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u7(t,e=!1){const n=t;return await c7(n),(await Ax(n,e)).token}async function c7(t){const{registrationPromise:e}=await Ix(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){if(!t||!t.options)throw ov("App Configuration");if(!t.name)throw ov("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ov(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ov(t){return Va.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cD="installations",d7="installations-internal",h7=t=>{const e=t.getProvider("app").getImmediate(),n=f7(e),r=Ga(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},p7=t=>{const e=t.getProvider("app").getImmediate(),n=Ga(e,cD).getImmediate();return{getId:()=>l7(n),getToken:i=>u7(n,i)}};function m7(){Xr(new Or(cD,h7,"PUBLIC")),Xr(new Or(d7,p7,"PRIVATE"))}m7();ar(Kj,Tx);ar(Kj,Tx,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="analytics",g7="firebase_id",y7="origin",v7=60*1e3,_7="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Px="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jn=new Bm("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Wn=new Ka("analytics","Analytics",b7);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w7(t){if(!t.startsWith(Px)){const e=Wn.create("invalid-gtag-resource",{gtagURL:t});return jn.warn(e.message),""}return t}function fD(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function x7(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function E7(t,e){const n=x7("firebase-js-sdk-policy",{createScriptURL:w7}),r=document.createElement("script"),i=`${Px}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function T7(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function S7(t,e,n,r,i,o){const a=r[i];try{if(a)await e[a];else{const l=(await fD(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(s){jn.error(s)}t("config",i,o)}async function I7(t,e,n,r,i){try{let o=[];if(i&&i.send_to){let a=i.send_to;Array.isArray(a)||(a=[a]);const s=await fD(n);for(const l of a){const u=s.find(f=>f.measurementId===l),c=u&&e[u.appId];if(c)o.push(c);else{o=[];break}}}o.length===0&&(o=Object.values(e)),await Promise.all(o),t("event",r,i||{})}catch(o){jn.error(o)}}function A7(t,e,n,r){async function i(o,...a){try{if(o==="event"){const[s,l]=a;await I7(t,e,n,s,l)}else if(o==="config"){const[s,l]=a;await S7(t,e,n,r,s,l)}else if(o==="consent"){const[s,l]=a;t("consent",s,l)}else if(o==="get"){const[s,l,u]=a;t("get",s,l,u)}else if(o==="set"){const[s]=a;t("set",s)}else t(o,...a)}catch(s){jn.error(s)}}return i}function P7(t,e,n,r,i){let o=function(...a){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(o=window[i]),window[i]=A7(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}function k7(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Px)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O7=30,C7=1e3;class N7{constructor(e={},n=C7){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const dD=new N7;function R7(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function j7(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:R7(r)},o=_7.replace("{app-id}",n),a=await fetch(o,i);if(a.status!==200&&a.status!==304){let s="";try{const l=await a.json();!((e=l.error)===null||e===void 0)&&e.message&&(s=l.error.message)}catch{}throw Wn.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function D7(t,e=dD,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw Wn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw Wn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},s=new L7;return setTimeout(async()=>{s.abort()},v7),hD({appId:r,apiKey:i,measurementId:o},a,s,e)}async function hD(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=dD){var o;const{appId:a,measurementId:s}=t;try{await M7(r,e)}catch(l){if(s)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:a,measurementId:s};throw l}try{const l=await j7(t);return i.deleteThrottleMetadata(a),l}catch(l){const u=l;if(!$7(u)){if(i.deleteThrottleMetadata(a),s)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${u?.message}]`),{appId:a,measurementId:s};throw l}const c=Number((o=u?.customData)===null||o===void 0?void 0:o.httpStatus)===503?XT(n,i.intervalMillis,O7):XT(n,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(a,f),jn.debug(`Calling attemptFetch again in ${c} millis`),hD(t,f,r,i)}}function M7(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(o),r(Wn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function $7(t){if(!(t instanceof Nr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class L7{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function V7(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const o=await e,a=Object.assign(Object.assign({},r),{send_to:o});t("event",n,a)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F7(){if(Fm())try{await kw()}catch(t){return jn.warn(Wn.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return jn.warn(Wn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function B7(t,e,n,r,i,o,a){var s;const l=D7(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>jn.error(p)),e.push(l);const u=F7().then(p=>{if(p)return r.getId()}),[c,f]=await Promise.all([l,u]);k7(o)||E7(o,c.measurementId),i("js",new Date);const h=(s=a?.config)!==null&&s!==void 0?s:{};return h[y7]="firebase",h.update=!0,f!=null&&(h[g7]=f),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U7{constructor(e){this.app=e}_delete(){return delete pc[this.app.options.appId],Promise.resolve()}}let pc={},jI=[];const DI={};let av="dataLayer",z7="gtag",MI,pD,$I=!1;function q7(){const t=[];if(Pw()&&t.push("This is a browser extension environment."),lR()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Wn.create("invalid-analytics-context",{errorInfo:e});jn.warn(n.message)}}function W7(t,e,n){q7();const r=t.options.appId;if(!r)throw Wn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Wn.create("no-api-key");if(pc[r]!=null)throw Wn.create("already-exists",{id:r});if(!$I){T7(av);const{wrappedGtag:o,gtagCore:a}=P7(pc,jI,DI,av,z7);pD=o,MI=a,$I=!0}return pc[r]=B7(t,jI,DI,e,MI,av,n),new U7(t)}function H7(t=Cw()){t=_t(t);const e=Ga(t,Ep);return e.isInitialized()?e.getImmediate():K7(t)}function K7(t,e={}){const n=Ga(t,Ep);if(n.isInitialized()){const i=n.getImmediate();if(Vc(e,n.getOptions()))return i;throw Wn.create("already-initialized")}return n.initialize({options:e})}async function G7(){if(Pw()||!lR()||!Fm())return!1;try{return await kw()}catch{return!1}}function Q7(t,e,n,r){t=_t(t),V7(pD,pc[t.app.options.appId],e,n,r).catch(i=>jn.error(i))}const LI="@firebase/analytics",VI="0.10.8";function X7(){Xr(new Or(Ep,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return W7(r,i,n)},"PUBLIC")),Xr(new Or("analytics-internal",t,"PRIVATE")),ar(LI,VI),ar(LI,VI,"esm2017");function t(e){try{const n=e.getProvider(Ep).getImmediate();return{logEvent:(r,i,o)=>Q7(n,r,i,o)}}catch(n){throw Wn.create("interop-component-reg-failed",{reason:n})}}}X7();const Y7={apiKey:"AIzaSyC2wz3iqq2Vav3oHlNnuqHEMMCQWN8FGJ4",authDomain:"saaslister.firebaseapp.com",projectId:"saaslister",storageBucket:"saaslister.firebasestorage.app",messagingSenderId:"1049699342423",appId:"1:1049699342423:web:2b6f9a931a72e2b25aeb12",measurementId:"G-YQTKD4Y90P"},kx=dR(Y7),Qf=uq(kx),Wd=Q6(kx);cq(Qf).catch(t=>{t.code==="failed-precondition"?console.warn("Multiple tabs open, persistence enabled in first tab only"):t.code==="unimplemented"&&console.warn("Browser doesn't support persistence")});G7().then(t=>t&&H7(kx));const mD=D.createContext(null);function J7({children:t}){const[e,n]=D.useState(null),[r,i]=D.useState(!0);D.useEffect(()=>$5(Wd,f=>{n(f),i(!1)}),[]);const o=async(c,f,h)=>{try{const p=await O5(Wd,c,f);await FR(p.user,{displayName:h}),await mS(p.user),n(p.user)}catch(p){throw p}},a=async(c,f)=>{try{const h=await C5(Wd,c,f);n(h.user)}catch(h){throw h}},s=async()=>{try{await L5(Wd),n(null)}catch(c){throw c}},l=async()=>{if(!e)throw new Error("No user logged in");await mS(e)},u=async c=>{if(!e||!e.email)throw new Error("No user logged in");const f=Xa.credential(e.email,c);await k5(e,f)};return m.jsx(mD.Provider,{value:{user:e,loading:r,signUp:o,login:a,logout:s,sendVerificationEmail:l,reauthenticate:u},children:!r&&t})}function Wl(){const t=D.useContext(mD);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t}const gD=D.createContext(null);function Z7({children:t}){const[e,n]=D.useState(()=>{const i=localStorage.getItem("darkMode");return i?JSON.parse(i):!1});D.useEffect(()=>{localStorage.setItem("darkMode",JSON.stringify(e)),e?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[e]);const r=()=>{n(i=>!i)};return m.jsx(gD.Provider,{value:{isDark:e,toggleTheme:r},children:t})}function eW(){const t=D.useContext(gD);if(!t)throw new Error("useTheme must be used within a ThemeProvider");return t}const yD=D.createContext(null);function tW({children:t}){const[e,n]=D.useState(()=>localStorage.getItem("colorTheme")||"emerald");return D.useEffect(()=>{localStorage.setItem("colorTheme",e),document.documentElement.classList.remove("theme-emerald","theme-blue","theme-violet","theme-rose","theme-amber"),document.documentElement.classList.add(`theme-${e}`)},[e]),m.jsx(yD.Provider,{value:{color:e,setColor:n},children:t})}function nW(){const t=D.useContext(yD);if(!t)throw new Error("useColor must be used within a ColorProvider");return t}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var rW={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iW=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ie=(t,e)=>{const n=D.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:o=2,absoluteStrokeWidth:a,className:s="",children:l,...u},c)=>D.createElement("svg",{ref:c,...rW,width:i,height:i,stroke:r,strokeWidth:a?Number(o)*24/Number(i):o,className:["lucide",`lucide-${iW(t)}`,s].join(" "),...u},[...e.map(([f,h])=>D.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xf=Ie("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oW=Ie("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aW=Ie("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sW=Ie("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lW=Ie("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=Ie("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uW=Ie("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cW=Ie("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fW=Ie("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dg=Ie("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dW=Ie("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hW=Ie("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pW=Ie("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mW=Ie("Grid2x2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M12 3v18",key:"108xh3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gW=Ie("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yW=Ie("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=Ie("ListFilter",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M7 12h10",key:"b7w52i"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vW=Ie("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _W=Ie("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sv=Ie("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=Ie("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bW=Ie("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wW=Ie("MonitorPlay",[["path",{d:"m10 7 5 3-5 3Z",key:"29ljg6"}],["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xW=Ie("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EW=Ie("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TW=Ie("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=Ie("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=Ie("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hg=Ie("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SW=Ie("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IW=Ie("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s_=Ie("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=Ie("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=Ie("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=Ie("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=Ie("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=Ie("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AW=Ie("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Cx(){const{isDark:t,toggleTheme:e}=eW();return m.jsx("button",{onClick:e,className:"rounded-full bg-gray-100 p-2 text-gray-400 hover:text-gray-500 dark:bg-gray-800 dark:text-gray-500 dark:hover:text-gray-400",title:t?"Switch to light mode":"Switch to dark mode",children:t?m.jsx(IW,{className:"h-6 w-6"}):m.jsx(xW,{className:"h-6 w-6"})})}const PW=[{name:"emerald",class:"bg-emerald-500"},{name:"blue",class:"bg-blue-500"},{name:"violet",class:"bg-violet-500"},{name:"rose",class:"bg-rose-500"},{name:"amber",class:"bg-amber-500"}];function AD(){const{color:t,setColor:e}=nW(),[n,r]=D.useState(!1),i=D.useRef(null);return D.useEffect(()=>{function o(a){i.current&&!i.current.contains(a.target)&&r(!1)}return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[]),m.jsxs("div",{className:"relative",ref:i,children:[m.jsx("button",{onClick:()=>r(!n),className:"rounded-full bg-gray-100 p-2 text-gray-400 hover:text-gray-500 dark:bg-gray-800 dark:text-gray-500 dark:hover:text-gray-400",title:"Change theme color",children:m.jsx(TW,{className:"h-6 w-6"})}),n&&m.jsx("div",{className:"absolute right-0 mt-2 w-48 rounded-md bg-white dark:bg-gray-800 shadow-lg ring-1 ring-black ring-opacity-5 p-2 z-50",children:m.jsx("div",{className:"grid grid-cols-5 gap-2",children:PW.map(o=>m.jsx("button",{onClick:()=>{e(o.name),r(!1)},className:`
                  w-8 h-8 rounded-full ${o.class}
                  ${t===o.name?"ring-2 ring-offset-2 ring-gray-400":""}
                  hover:scale-110 transition-transform
                `,title:`${o.name} theme`},o.name))})})]})}function kW(){const{user:t,logout:e}=Wl();return m.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"flex justify-between items-center h-16",children:[m.jsx("div",{className:"flex items-center",children:m.jsx(oo,{to:"/",className:"text-xl font-bold text-gray-900 dark:text-white",children:"Directory List"})}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(AD,{}),m.jsx(Cx,{})]}),t?m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsxs(oo,{to:"/profile",className:"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[m.jsx(TD,{className:"h-4 w-4"}),t.displayName]}),m.jsxs("button",{onClick:()=>e(),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:[m.jsx(bD,{className:"h-4 w-4"}),"Logout"]})]}):m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(oo,{to:"/login",className:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white",children:"Login"}),m.jsx(oo,{to:"/signup",className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 rounded-md",children:"Sign Up"})]})]})]})})})}function OW(){const[t,e]=D.useState({email:"",password:""}),[n,r]=D.useState(""),[i,o]=D.useState(!1),a=Lm(),{login:s}=Wl(),l=async u=>{u.preventDefault(),r("");try{o(!0),await s(t.email,t.password),a("/")}catch{r("Invalid email or password")}finally{o(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Sign in to your account"}),m.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",m.jsx(oo,{to:"/signup",className:"font-medium text-primary-600 hover:text-primary-500",children:"create a new account"})]})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:l,children:[n&&m.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/30 p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx(Xf,{className:"h-5 w-5 text-red-400"}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:n})})]})}),m.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),m.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm dark:bg-gray-800",placeholder:"Email address",value:t.email,onChange:u=>e({...t,email:u.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),m.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm dark:bg-gray-800",placeholder:"Password",value:t.password,onChange:u=>e({...t,password:u.target.value})})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in...":"Sign in"})})]})]})})}function CW(){const[t,e]=D.useState({name:"",email:"",password:"",confirmPassword:""}),[n,r]=D.useState(""),[i,o]=D.useState(""),[a,s]=D.useState(!1),l=Lm(),{signUp:u}=Wl(),c=async f=>{if(f.preventDefault(),r(""),o(""),t.password!==t.confirmPassword){r("Passwords do not match");return}if(t.password.length<6){r("Password must be at least 6 characters");return}try{s(!0),await u(t.email,t.password,t.name),o("Account created successfully. Please check your email for verification."),setTimeout(()=>{l("/")},3e3)}catch(h){r(h.message||"Failed to create account")}finally{s(!1)}};return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-gray-900 py-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-md w-full space-y-8",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900 dark:text-white",children:"Create your account"}),m.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600 dark:text-gray-400",children:["Or"," ",m.jsx(oo,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"sign in to your account"})]})]}),m.jsxs("form",{className:"mt-8 space-y-6",onSubmit:c,children:[n&&m.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/30 p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx(Xf,{className:"h-5 w-5 text-red-400"}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:n})})]})}),i&&m.jsx("div",{className:"rounded-md bg-green-50 dark:bg-green-900/30 p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx(vD,{className:"h-5 w-5 text-green-400"}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-green-700 dark:text-green-200",children:i})})]})}),m.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"sr-only",children:"Full Name"}),m.jsx("input",{id:"name",name:"name",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm dark:bg-gray-800",placeholder:"Full Name",value:t.name,onChange:f=>e({...t,name:f.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),m.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm dark:bg-gray-800",placeholder:"Email address",value:t.email,onChange:f=>e({...t,email:f.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),m.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm dark:bg-gray-800",placeholder:"Password",value:t.password,onChange:f=>e({...t,password:f.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),m.jsx("input",{id:"confirm-password",name:"confirm-password",type:"password",autoComplete:"new-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 placeholder-gray-500 dark:placeholder-gray-400 text-gray-900 dark:text-white rounded-b-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm dark:bg-gray-800",placeholder:"Confirm Password",value:t.confirmPassword,onChange:f=>e({...t,confirmPassword:f.target.value})})]})]}),m.jsx("div",{children:m.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Creating Account...":"Sign Up"})})]})]})})}function FI({children:t}){const{user:e,loading:n}=Wl();return n?m.jsx("div",{className:"min-h-screen flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e?m.jsx(m.Fragment,{children:t}):m.jsx(U3,{to:"/login"})}function NW(){const[t,e]=D.useState(!1),[n,r]=D.useState(""),[i,o]=D.useState(!1),[a,s]=D.useState(null),[l,u]=D.useState(null),c=p=>{try{return new URL(p),!0}catch{return!1}},f=async()=>{if(!c(n)){u("Please enter a valid URL");return}u(null),o(!0);try{await new Promise(p=>setTimeout(p,2e3)),s({da:Math.floor(Math.random()*100),pa:Math.floor(Math.random()*100),dr:Math.floor(Math.random()*100),traffic:Math.floor(Math.random()*1e6),isAccessible:!0})}catch{u("Failed to analyze URL. Please try again."),s(null)}finally{o(!1)}},h=async()=>{if(a)try{await new Promise(p=>setTimeout(p,1e3)),e(!1),r(""),s(null)}catch{u("Failed to submit directory. Please try again.")}};return m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>e(!0),className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Submit Directory"}),t&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg max-w-lg w-full p-6 relative",children:[m.jsxs("button",{onClick:()=>e(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-500",children:[m.jsx("span",{className:"sr-only",children:"Close"}),m.jsx("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]}),m.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-4",children:"Submit Your Directory"}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"url",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Website URL"}),m.jsxs("div",{className:"mt-1 relative rounded-md shadow-sm",children:[m.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:m.jsx(dg,{className:"h-5 w-5 text-gray-400"})}),m.jsx("input",{type:"url",id:"url",value:n,onChange:p=>r(p.target.value),className:"block w-full pl-10 pr-12 py-2 border border-gray-300 rounded-md focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white",placeholder:"https://example.com"}),m.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:m.jsx("button",{onClick:f,disabled:i||!n,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?m.jsx(_W,{className:"h-4 w-4 animate-spin"}):"Analyze"})})]})]}),l&&m.jsx("div",{className:"rounded-md bg-red-50 dark:bg-red-900/30 p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx(Xf,{className:"h-5 w-5 text-red-400"}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:l})})]})}),a&&m.jsxs("div",{className:"rounded-lg bg-gray-50 dark:bg-gray-700 p-4",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"Analysis Results"}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[m.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Domain Authority"}),m.jsx("div",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white",children:a.da})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[m.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Page Authority"}),m.jsx("div",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white",children:a.pa})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[m.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Domain Rating"}),m.jsx("div",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white",children:a.dr})]}),m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow",children:[m.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Monthly Traffic"}),m.jsx("div",{className:"mt-1 text-2xl font-semibold text-gray-900 dark:text-white",children:a.traffic.toLocaleString()})]})]}),m.jsxs("div",{className:"mt-4 flex items-center",children:[m.jsx(lW,{className:"h-5 w-5 text-green-500"}),m.jsx("span",{className:"ml-2 text-sm text-gray-600 dark:text-gray-300",children:"Website is accessible and ready for submission"})]}),m.jsx("button",{onClick:h,className:"mt-4 w-full inline-flex justify-center items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Submit Directory"})]})]})]})})]})}function RW(){return m.jsx("div",{className:"relative bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-800 dark:to-primary-900 py-16",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[m.jsxs("div",{className:"lg:col-span-2",children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsx("h1",{className:"text-4xl font-bold text-white",children:"High Authority Directory Listings"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(AD,{}),m.jsx(Cx,{})]})]}),m.jsx("p",{className:"text-xl text-primary-100 mb-8",children:"Find the perfect high DR directories to boost your online presence"}),m.jsxs("div",{className:"relative mb-6",children:[m.jsx("input",{type:"text",placeholder:"Search directories...",className:"w-full px-4 py-3 rounded-lg pl-12 bg-white/10 border border-white/20 text-white placeholder-primary-200 focus:outline-none focus:ring-2 focus:ring-white/50"}),m.jsx(hg,{className:"absolute left-4 top-3.5 h-5 w-5 text-primary-200"})]}),m.jsx(NW,{})]}),m.jsx("div",{className:"hidden lg:block",children:m.jsxs("div",{className:"bg-white/10 backdrop-blur-sm rounded-lg p-6 border border-white/20",children:[m.jsx("h3",{className:"text-xl font-semibold text-white mb-4",children:"Advertise Here"}),m.jsx("p",{className:"text-primary-100",children:"Reach thousands of potential customers looking for high-quality directory listings."}),m.jsx("button",{className:"mt-4 px-6 py-2 bg-white text-primary-600 rounded-lg font-medium hover:bg-primary-50 transition-colors dark:bg-gray-800 dark:text-white dark:hover:bg-gray-700",children:"Contact Us"})]})})]})})})}const jW=[{id:"category",label:"Category",options:["Product Hunt","Difficult Subreddits","Top DR Directories","Directories","Subreddits easy","Indie Hackers","Publication","Discord & Slack","LinkedIn & FB","Investor","Launch Services","Exit Platforms"]},{id:"linkType",label:"Link Type",options:["Dofollow","Nofollow","UGC","Sponsored"]},{id:"pricing",label:"Pricing",options:["Free","Paid"]}];function DW({activeFilters:t,onFilterChange:e}){const[n,r]=D.useState(null),i=D.useRef(null);D.useEffect(()=>{function l(u){i.current&&!i.current.contains(u.target)&&r(null)}return document.addEventListener("mousedown",l),()=>document.removeEventListener("mousedown",l)},[]);const o=(l,u)=>{e(c=>{const f=c[l]||[],h=f.includes(u)?f.filter(p=>p!==u):[...f,u];return{...c,[l]:h}})},a=()=>{e({})},s=l=>(t[l]||[]).length;return m.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b border-gray-200 dark:border-gray-700",children:m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:m.jsxs("div",{className:"flex flex-wrap items-center gap-4",ref:i,children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(pW,{className:"h-5 w-5 text-gray-500 dark:text-gray-400"}),m.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Filters:"})]}),jW.map(l=>m.jsxs("div",{className:"relative",children:[m.jsxs("button",{onClick:()=>r(n===l.id?null:l.id),className:"px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 flex items-center gap-2 text-gray-700 dark:text-gray-200",children:[l.label,s(l.id)>0&&m.jsx("span",{className:"ml-1 px-2 py-0.5 bg-blue-100 dark:bg-blue-900 text-blue-600 dark:text-blue-200 rounded-full text-xs",children:s(l.id)}),m.jsx(uW,{className:"h-4 w-4"})]}),n===l.id&&m.jsx("div",{className:"absolute z-10 mt-2 w-56 rounded-md bg-white dark:bg-gray-700 shadow-lg ring-1 ring-black ring-opacity-5 dark:ring-gray-600",children:m.jsx("div",{className:"p-2",children:l.options.map(u=>m.jsxs("label",{className:"flex items-center px-3 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 rounded-md cursor-pointer",children:[m.jsx("input",{type:"checkbox",className:"h-4 w-4 text-blue-600 rounded border-gray-300 dark:border-gray-500 dark:bg-gray-600",checked:(t[l.id]||[]).includes(u),onChange:()=>o(l.id,u)}),m.jsx("span",{className:"ml-3 text-sm text-gray-700 dark:text-gray-200",children:u})]},u))})})]},l.id)),Object.values(t).some(l=>l.length>0)&&m.jsxs("button",{onClick:a,className:"px-4 py-2 text-sm text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white flex items-center gap-1",children:[m.jsx(ID,{className:"h-4 w-4"}),"Clear"]})]})})})}function MW({view:t,onViewChange:e}){return m.jsxs("div",{className:"flex items-center gap-2 bg-gray-100 p-1 rounded-lg",children:[m.jsx("button",{onClick:()=>e("grid"),className:`p-2 rounded ${t==="grid"?"bg-white shadow":"hover:bg-white/50"}`,children:m.jsx(mW,{className:"h-5 w-5 text-gray-700"})}),m.jsx("button",{onClick:()=>e("list"),className:`p-2 rounded ${t==="list"?"bg-white shadow":"hover:bg-white/50"}`,children:m.jsx(vW,{className:"h-5 w-5 text-gray-700"})})]})}const $W={blue:"text-blue-500 dark:text-blue-400",green:"text-green-500 dark:text-green-400",orange:"text-orange-500 dark:text-orange-400",primary:"text-primary-500 dark:text-primary-400"};function vi({value:t,label:e,size:n=60,strokeWidth:r=4,color:i="primary",animate:o=!1,hideLabel:a=!1}){const[s,l]=D.useState(0),u=(n-r)/2,c=u*2*Math.PI,f=c-s/100*c;return D.useEffect(()=>{if(o){const h=setTimeout(()=>{l(t)},100);return()=>clearTimeout(h)}else l(t)},[t,o]),m.jsxs("div",{className:"relative inline-flex items-center justify-center",children:[m.jsxs("svg",{width:n,height:n,className:"transform -rotate-90",children:[m.jsx("circle",{className:"text-gray-200 dark:text-gray-700",strokeWidth:r,stroke:"currentColor",fill:"transparent",r:u,cx:n/2,cy:n/2}),m.jsx("circle",{className:`${$W[i]} transition-all duration-1000 ease-out`,strokeWidth:r,strokeDasharray:c,strokeDashoffset:f,strokeLinecap:"round",stroke:"currentColor",fill:"transparent",r:u,cx:n/2,cy:n/2})]}),!a&&m.jsxs("div",{className:"absolute flex flex-col items-center justify-center",children:[m.jsx("span",{className:"text-xs font-semibold dark:text-white",children:t}),e&&m.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:e})]}),a&&m.jsx("div",{className:"absolute flex items-center justify-center",children:m.jsx("span",{className:"text-xs font-semibold dark:text-white",children:t})})]})}const pg="directories";async function Nx(){try{return(await Aq(Mj(Qf,pg))).docs.map(e=>({id:e.id,...e.data()}))}catch(t){return console.error("Error getting directories:",t),[]}}async function BI(t){try{return{id:(await Oq(Mj(Qf,pg),{...t,createdAt:new Date().toISOString()})).id,...t}}catch(e){throw console.error("Error creating directory:",e),new Error("Failed to create directory")}}async function LW(t,e){try{const n=gx(Qf,pg,t);await Pq(n,{...e,updatedAt:new Date().toISOString()})}catch(n){throw console.error("Error updating directory:",n),new Error("Failed to update directory")}}async function UI(t){try{const e=gx(Qf,pg,t);await kq(e)}catch(e){throw console.error("Error deleting directory:",e),new Error("Failed to delete directory")}}function VW({directories:t}){const[e,n]=D.useState([]),[r,i]=D.useState(!0);return D.useEffect(()=>{async function o(){try{if(t)n(t);else{const a=await Nx();n(a)}}catch(a){console.error("Error loading directories:",a)}finally{i(!1)}}o()},[t]),r?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):e.length===0?m.jsx("div",{className:"text-center py-12",children:m.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"No directories found."})}):m.jsx("div",{className:"w-full",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-1/4",children:"Website URL"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-16",children:"DA"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-16",children:"PA"}),m.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-16",children:"DR"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-1/5",children:"Niche"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-1/6",children:"Traffic"}),m.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider w-1/6",children:"Type"}),m.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider",children:"Action"})]})}),m.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:e.map(o=>m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[m.jsx("td",{className:"px-4 py-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:m.jsx("img",{className:"h-10 w-10 rounded-full object-cover",src:o.logo,alt:o.name})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:o.name}),m.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.url})]})]})}),m.jsx("td",{className:"px-4 py-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx(vi,{value:o.da,size:40,color:"blue",animate:!0,hideLabel:!0})})}),m.jsx("td",{className:"px-4 py-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx(vi,{value:o.pa,size:40,color:"green",animate:!0,hideLabel:!0})})}),m.jsx("td",{className:"px-4 py-4",children:m.jsx("div",{className:"flex justify-center",children:m.jsx(vi,{value:o.dr,size:40,color:"orange",animate:!0,hideLabel:!0})})}),m.jsx("td",{className:"px-4 py-4",children:m.jsx("div",{className:"text-sm text-gray-900 dark:text-gray-200 line-clamp-2",children:o.niches.join(", ")})}),m.jsx("td",{className:"px-4 py-4",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ox,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),m.jsx("span",{className:"text-sm text-gray-900 dark:text-gray-200",children:o.traffic.toLocaleString()})]})}),m.jsx("td",{className:"px-4 py-4",children:m.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.isPaid?"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-200":"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200"}`,children:o.isPaid?"Paid":"Free"})}),m.jsx("td",{className:"px-4 py-4 text-right",children:m.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 whitespace-nowrap",children:[m.jsx(dg,{className:"h-4 w-4"}),"Submit Link"]})})]},o.id))})]})})}function FW({directories:t}){const[e,n]=D.useState([]),[r,i]=D.useState(!0);return D.useEffect(()=>{async function o(){try{if(t)n(t);else{const a=await Nx();n(a)}}catch(a){console.error("Error loading directories:",a)}finally{i(!1)}}o()},[t]),r?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(o=>m.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 hover:shadow-md transition-shadow",children:m.jsxs("div",{className:"p-6",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[m.jsx("img",{src:o.logo,alt:o.name,className:"w-12 h-12 rounded-lg object-cover"}),m.jsxs("div",{children:[m.jsx("h3",{className:"font-medium text-gray-900 dark:text-white",children:o.name}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:o.niches[0]})]})]}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:o.description||`High-quality directory with DA ${o.da} and DR ${o.dr}`}),m.jsxs("div",{className:"flex justify-between items-center mb-4",children:[m.jsx(vi,{value:o.da,label:"DA",color:"blue",animate:!0}),m.jsx(vi,{value:o.pa,label:"PA",color:"green",animate:!0}),m.jsx(vi,{value:o.dr,label:"DR",color:"orange",animate:!0})]}),m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Ox,{className:"h-4 w-4 text-gray-400 dark:text-gray-500"}),m.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-300",children:[(o.traffic/1e6).toFixed(1),"M"]})]}),m.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o.isPaid?"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-200":"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200"}`,children:o.isPaid?"Paid":"Free"})]}),m.jsxs("a",{href:o.url,target:"_blank",rel:"noopener noreferrer",className:"w-full px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors flex items-center justify-center gap-2 text-sm whitespace-nowrap",children:[m.jsx(dg,{className:"h-4 w-4"}),"Submit Link"]})]})},o.id))})}function BW(){return m.jsxs("div",{className:"relative mt-8 rounded-xl bg-gradient-to-r from-primary-600 to-primary-700 dark:from-primary-800 dark:to-primary-900 p-8 shadow-lg",children:[m.jsx("div",{className:"absolute inset-0 bg-white/10 rounded-xl backdrop-blur-sm"}),m.jsxs("div",{className:"relative",children:[m.jsxs("div",{className:"sm:flex sm:items-center sm:justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-xl font-semibold text-white sm:text-2xl",children:"Unlock Full Directory Access"}),m.jsx("p",{className:"mt-2 text-white/80 max-w-2xl",children:"Get access to our complete database of high-authority directories, including exclusive paid listings and detailed metrics."})]}),m.jsx("div",{className:"mt-4 sm:mt-0 sm:ml-8",children:m.jsxs("button",{onClick:()=>window.location.href="/pricing",className:"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg text-primary-700 bg-white hover:bg-primary-50 dark:hover:bg-white/90 transition-colors shadow-sm",children:[m.jsx(AW,{className:"h-5 w-5 mr-2"}),"Upgrade Now"]})})]}),m.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[m.jsxs("div",{className:"flex items-center text-white/90",children:[m.jsx(sv,{className:"h-5 w-5 mr-2 text-white/70"}),m.jsx("span",{children:"100+ Premium Directories"})]}),m.jsxs("div",{className:"flex items-center text-white/90",children:[m.jsx(sv,{className:"h-5 w-5 mr-2 text-white/70"}),m.jsx("span",{children:"Detailed Metrics & Analytics"})]}),m.jsxs("div",{className:"flex items-center text-white/90",children:[m.jsx(sv,{className:"h-5 w-5 mr-2 text-white/70"}),m.jsx("span",{children:"Priority Support"})]})]})]})]})}function UW(){const[t,e]=D.useState("list"),[n,r]=D.useState({});return m.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[m.jsx(RW,{}),m.jsx(DW,{activeFilters:n,onFilterChange:r}),m.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[m.jsx("div",{className:"flex justify-between items-center mb-6",children:m.jsx(MW,{view:t,onViewChange:e})}),t==="grid"?m.jsx(FW,{}):m.jsx(VW,{}),m.jsx(BW,{})]})]})}function zW({navigation:t,currentView:e,onViewChange:n}){const i=Vl().pathname.split("/").pop()||"";return m.jsx("div",{className:"hidden lg:fixed lg:inset-y-0 lg:z-50 lg:flex lg:w-72 lg:flex-col",children:m.jsxs("div",{className:"flex grow flex-col gap-y-5 overflow-y-auto border-r border-gray-200 bg-white px-6 pb-4",children:[m.jsx("div",{className:"flex h-16 shrink-0 items-center",children:m.jsx("h1",{className:"text-xl font-semibold",children:"Directory Admin"})}),m.jsx("nav",{className:"flex flex-1 flex-col",children:m.jsx("ul",{role:"list",className:"flex flex-1 flex-col gap-y-7",children:m.jsx("li",{children:m.jsx("ul",{role:"list",className:"-mx-2 space-y-1",children:t.map(o=>{const a=i===o.path||i===""&&o.path==="";return m.jsx("li",{children:m.jsxs(oo,{to:`/admin/${o.path}`,onClick:()=>n(o.path||"dashboard"),className:`
                          group flex gap-x-3 rounded-md p-2 text-sm leading-6 font-semibold w-full
                          ${a?"bg-gray-50 text-primary-600":"text-gray-700 hover:text-primary-600 hover:bg-gray-50"}
                        `,children:[m.jsx(o.icon,{className:"h-6 w-6 shrink-0"}),o.name]})},o.name)})})})})})]})})}function qW(){const{logout:t,user:e}=Wl();return m.jsx("header",{className:"sticky top-0 z-40 flex h-16 shrink-0 items-center gap-x-4 border-b border-gray-200 bg-white px-4 shadow-sm sm:gap-x-6 sm:px-6 lg:px-8 dark:bg-gray-800 dark:border-gray-700",children:m.jsx("div",{className:"flex flex-1 gap-x-4 self-stretch items-center justify-end",children:m.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[m.jsx(Cx,{}),m.jsx("button",{className:"rounded-full bg-gray-100 p-2 text-gray-400 hover:text-gray-500 dark:bg-gray-700 dark:text-gray-400 dark:hover:text-gray-300",children:m.jsx(sW,{className:"h-6 w-6"})}),m.jsx("div",{className:"hidden lg:block lg:h-6 lg:w-px lg:bg-gray-200 dark:bg-gray-700"}),m.jsxs("div",{className:"flex items-center gap-x-4 lg:gap-x-6",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"hidden lg:flex lg:items-center",children:[m.jsx("span",{className:"text-sm font-semibold leading-6 text-gray-900 dark:text-white",children:e?.name}),m.jsxs("span",{className:"ml-2 text-sm text-gray-500 dark:text-gray-400",children:["(",e?.role,")"]})]}),m.jsx(TD,{className:"h-8 w-8 text-gray-400 dark:text-gray-300"})]}),m.jsx("button",{onClick:t,className:"flex items-center gap-2 text-gray-400 hover:text-gray-500 dark:text-gray-400 dark:hover:text-gray-300",children:m.jsx(bD,{className:"h-6 w-6"})})]})]})})})}const WW=[{name:"Total Users",value:"2,543",icon:SD,change:"+12%",changeType:"positive"},{name:"Active Listings",value:"854",icon:_D,change:"+8%",changeType:"positive"},{name:"Monthly Traffic",value:"45.2K",icon:Ox,change:"+3%",changeType:"positive"},{name:"Revenue",value:"$12,545",icon:cW,change:"+23%",changeType:"positive"}];function zI(){return m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-8",children:"Dashboard Overview"}),m.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:WW.map(t=>m.jsx("div",{className:"bg-white overflow-hidden rounded-lg shadow",children:m.jsx("div",{className:"p-5",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx(t.icon,{className:"h-6 w-6 text-gray-400"})}),m.jsx("div",{className:"ml-5 w-0 flex-1",children:m.jsxs("dl",{children:[m.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:t.name}),m.jsxs("dd",{className:"flex items-baseline",children:[m.jsx("div",{className:"text-2xl font-semibold text-gray-900",children:t.value}),m.jsx("div",{className:`ml-2 flex items-baseline text-sm font-semibold ${t.changeType==="positive"?"text-green-600":"text-red-600"}`,children:t.change})]})]})})]})})},t.name))})]})}function HW({directory:t,onSubmit:e,onCancel:n}){const[r,i]=D.useState({name:"",url:"",da:0,pa:0,dr:0,niches:[],traffic:0,isPaid:!1,logo:"",description:"",linkType:"Dofollow"}),[o,a]=D.useState(""),[s,l]=D.useState(!1);D.useEffect(()=>{t&&i({name:t.name,url:t.url,da:t.da,pa:t.pa,dr:t.dr,niches:t.niches,traffic:t.traffic,isPaid:t.isPaid,logo:t.logo||"",description:t.description||"",linkType:t.linkType||"Dofollow"})},[t]);const u=async h=>{h.preventDefault(),l(!0);try{await e(r)}finally{l(!1)}},c=()=>{o&&!r.niches.includes(o)&&(i(h=>({...h,niches:[...h.niches,o]})),a(""))},f=h=>{i(p=>({...p,niches:p.niches.filter(b=>b!==h)}))};return m.jsxs("form",{onSubmit:u,className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Name"}),m.jsx("input",{type:"text",required:!0,value:r.name,onChange:h=>i(p=>({...p,name:h.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"URL"}),m.jsx("input",{type:"url",required:!0,value:r.url,onChange:h=>i(p=>({...p,url:h.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Domain Authority (DA)"}),m.jsx("input",{type:"number",required:!0,min:"0",max:"100",value:r.da,onChange:h=>i(p=>({...p,da:Number(h.target.value)})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Page Authority (PA)"}),m.jsx("input",{type:"number",required:!0,min:"0",max:"100",value:r.pa,onChange:h=>i(p=>({...p,pa:Number(h.target.value)})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Domain Rating (DR)"}),m.jsx("input",{type:"number",required:!0,min:"0",max:"100",value:r.dr,onChange:h=>i(p=>({...p,dr:Number(h.target.value)})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Monthly Traffic"}),m.jsx("input",{type:"number",required:!0,min:"0",value:r.traffic,onChange:h=>i(p=>({...p,traffic:Number(h.target.value)})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Logo URL"}),m.jsx("input",{type:"url",value:r.logo,onChange:h=>i(p=>({...p,logo:h.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Link Type"}),m.jsxs("select",{value:r.linkType,onChange:h=>i(p=>({...p,linkType:h.target.value})),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600",children:[m.jsx("option",{value:"Dofollow",children:"Dofollow"}),m.jsx("option",{value:"Nofollow",children:"Nofollow"}),m.jsx("option",{value:"UGC",children:"UGC"}),m.jsx("option",{value:"Sponsored",children:"Sponsored"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Description"}),m.jsx("textarea",{value:r.description,onChange:h=>i(p=>({...p,description:h.target.value})),rows:3,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Niches"}),m.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:r.niches.map(h=>m.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:[h,m.jsx("button",{type:"button",onClick:()=>f(h),className:"ml-1 inline-flex items-center p-0.5 rounded-full hover:bg-blue-200 dark:hover:bg-blue-800",children:m.jsx(ID,{className:"h-3 w-3"})})]},h))}),m.jsxs("div",{className:"mt-2 flex gap-2",children:[m.jsx("input",{type:"text",value:o,onChange:h=>a(h.target.value),placeholder:"Add a niche",className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600"}),m.jsx("button",{type:"button",onClick:c,className:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Add"})]})]}),m.jsx("div",{children:m.jsxs("label",{className:"flex items-center",children:[m.jsx("input",{type:"checkbox",checked:r.isPaid,onChange:h=>i(p=>({...p,isPaid:h.target.checked})),className:"rounded border-gray-300 text-primary-600 shadow-sm focus:border-primary-500 focus:ring-primary-500"}),m.jsx("span",{className:"ml-2 text-sm text-gray-700 dark:text-gray-300",children:"This is a paid listing"})]})}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 dark:bg-gray-800 dark:border-gray-600 dark:text-gray-300 dark:hover:bg-gray-700",children:"Cancel"}),m.jsx("button",{type:"submit",disabled:s,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:s?"Saving...":t?"Update Directory":"Add Directory"})]})]})}var PD={exports:{}};/* @license
Papa Parse
v5.4.1
https://github.com/mholt/PapaParse
License: MIT
*/(function(t,e){(function(n,r){t.exports=r()})(Bu,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},s=0,l={parse:function(g,x){var k=(x=x||{}).dynamicTyping||!1;if(S(k)&&(x.dynamicTypingFunction=k,k={}),x.dynamicTyping=k,x.transform=!!S(x.transform)&&x.transform,x.worker&&l.WORKERS_SUPPORTED){var O=function(){if(!l.WORKERS_SUPPORTED)return!1;var N=(K=r.URL||r.webkitURL||null,W=n.toString(),l.BLOB_URL||(l.BLOB_URL=K.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",W,")();"],{type:"text/javascript"})))),V=new r.Worker(N),K,W;return V.onmessage=w,V.id=s++,a[V.id]=V}();return O.userStep=x.step,O.userChunk=x.chunk,O.userComplete=x.complete,O.userError=x.error,x.step=S(x.step),x.chunk=S(x.chunk),x.complete=S(x.complete),x.error=S(x.error),delete x.worker,void O.postMessage({input:g,config:x,workerId:O.id})}var R=null;return l.NODE_STREAM_INPUT,typeof g=="string"?(g=function(N){return N.charCodeAt(0)===65279?N.slice(1):N}(g),R=x.download?new f(x):new p(x)):g.readable===!0&&S(g.read)&&S(g.on)?R=new b(x):(r.File&&g instanceof File||g instanceof Object)&&(R=new h(x)),R.stream(g)},unparse:function(g,x){var k=!1,O=!0,R=",",N=`\r
`,V='"',K=V+V,W=!1,F=null,$=!1;(function(){if(typeof x=="object"){if(typeof x.delimiter!="string"||l.BAD_DELIMITERS.filter(function(z){return x.delimiter.indexOf(z)!==-1}).length||(R=x.delimiter),(typeof x.quotes=="boolean"||typeof x.quotes=="function"||Array.isArray(x.quotes))&&(k=x.quotes),typeof x.skipEmptyLines!="boolean"&&typeof x.skipEmptyLines!="string"||(W=x.skipEmptyLines),typeof x.newline=="string"&&(N=x.newline),typeof x.quoteChar=="string"&&(V=x.quoteChar),typeof x.header=="boolean"&&(O=x.header),Array.isArray(x.columns)){if(x.columns.length===0)throw new Error("Option columns is empty");F=x.columns}x.escapeChar!==void 0&&(K=x.escapeChar+V),(typeof x.escapeFormulae=="boolean"||x.escapeFormulae instanceof RegExp)&&($=x.escapeFormulae instanceof RegExp?x.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var U=new RegExp(_(V),"g");if(typeof g=="string"&&(g=JSON.parse(g)),Array.isArray(g)){if(!g.length||Array.isArray(g[0]))return Y(null,g,W);if(typeof g[0]=="object")return Y(F||Object.keys(g[0]),g,W)}else if(typeof g=="object")return typeof g.data=="string"&&(g.data=JSON.parse(g.data)),Array.isArray(g.data)&&(g.fields||(g.fields=g.meta&&g.meta.fields||F),g.fields||(g.fields=Array.isArray(g.data[0])?g.fields:typeof g.data[0]=="object"?Object.keys(g.data[0]):[]),Array.isArray(g.data[0])||typeof g.data[0]=="object"||(g.data=[g.data])),Y(g.fields||[],g.data||[],W);throw new Error("Unable to serialize unrecognized input");function Y(z,te,pe){var ge="";typeof z=="string"&&(z=JSON.parse(z)),typeof te=="string"&&(te=JSON.parse(te));var Ae=Array.isArray(z)&&0<z.length,be=!Array.isArray(te[0]);if(Ae&&O){for(var $e=0;$e<z.length;$e++)0<$e&&(ge+=R),ge+=J(z[$e],$e);0<te.length&&(ge+=N)}for(var Q=0;Q<te.length;Q++){var re=Ae?z.length:te[Q].length,ae=!1,G=Ae?Object.keys(te[Q]).length===0:te[Q].length===0;if(pe&&!Ae&&(ae=pe==="greedy"?te[Q].join("").trim()==="":te[Q].length===1&&te[Q][0].length===0),pe==="greedy"&&Ae){for(var me=[],de=0;de<re;de++){var we=be?z[de]:de;me.push(te[Q][we])}ae=me.join("").trim()===""}if(!ae){for(var ye=0;ye<re;ye++){0<ye&&!G&&(ge+=R);var Qe=Ae&&be?z[ye]:ye;ge+=J(te[Q][Qe],ye)}Q<te.length-1&&(!pe||0<re&&!G)&&(ge+=N)}}return ge}function J(z,te){if(z==null)return"";if(z.constructor===Date)return JSON.stringify(z).slice(1,25);var pe=!1;$&&typeof z=="string"&&$.test(z)&&(z="'"+z,pe=!0);var ge=z.toString().replace(U,K);return(pe=pe||k===!0||typeof k=="function"&&k(z,te)||Array.isArray(k)&&k[te]||function(Ae,be){for(var $e=0;$e<be.length;$e++)if(-1<Ae.indexOf(be[$e]))return!0;return!1}(ge,l.BAD_DELIMITERS)||-1<ge.indexOf(R)||ge.charAt(0)===" "||ge.charAt(ge.length-1)===" ")?V+ge+V:ge}}};if(l.RECORD_SEP="",l.UNIT_SEP="",l.BYTE_ORDER_MARK="\uFEFF",l.BAD_DELIMITERS=["\r",`
`,'"',l.BYTE_ORDER_MARK],l.WORKERS_SUPPORTED=!i&&!!r.Worker,l.NODE_STREAM_INPUT=1,l.LocalChunkSize=10485760,l.RemoteChunkSize=5242880,l.DefaultDelimiter=",",l.Parser=E,l.ParserHandle=y,l.NetworkStreamer=f,l.FileStreamer=h,l.StringStreamer=p,l.ReadableStreamStreamer=b,r.jQuery){var u=r.jQuery;u.fn.parse=function(g){var x=g.config||{},k=[];return this.each(function(N){if(!(u(this).prop("tagName").toUpperCase()==="INPUT"&&u(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var V=0;V<this.files.length;V++)k.push({file:this.files[V],inputElem:this,instanceConfig:u.extend({},x)})}),O(),this;function O(){if(k.length!==0){var N,V,K,W,F=k[0];if(S(g.before)){var $=g.before(F.file,F.inputElem);if(typeof $=="object"){if($.action==="abort")return N="AbortError",V=F.file,K=F.inputElem,W=$.reason,void(S(g.error)&&g.error({name:N},V,K,W));if($.action==="skip")return void R();typeof $.config=="object"&&(F.instanceConfig=u.extend(F.instanceConfig,$.config))}else if($==="skip")return void R()}var U=F.instanceConfig.complete;F.instanceConfig.complete=function(Y){S(U)&&U(Y,F.file,F.inputElem),R()},l.parse(F.file,F.instanceConfig)}else S(g.complete)&&g.complete()}function R(){k.splice(0,1),O()}}}function c(g){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(x){var k=P(x);k.chunkSize=parseInt(k.chunkSize),x.step||x.chunk||(k.chunkSize=null),this._handle=new y(k),(this._handle.streamer=this)._config=k}.call(this,g),this.parseChunk=function(x,k){if(this.isFirstChunk&&S(this._config.beforeFirstChunk)){var O=this._config.beforeFirstChunk(x);O!==void 0&&(x=O)}this.isFirstChunk=!1,this._halted=!1;var R=this._partialLine+x;this._partialLine="";var N=this._handle.parse(R,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var V=N.meta.cursor;this._finished||(this._partialLine=R.substring(V-this._baseIndex),this._baseIndex=V),N&&N.data&&(this._rowCount+=N.data.length);var K=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(o)r.postMessage({results:N,workerId:l.WORKER_ID,finished:K});else if(S(this._config.chunk)&&!k){if(this._config.chunk(N,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);N=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(N.data),this._completeResults.errors=this._completeResults.errors.concat(N.errors),this._completeResults.meta=N.meta),this._completed||!K||!S(this._config.complete)||N&&N.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),K||N&&N.meta.paused||this._nextChunk(),N}this._halted=!0},this._sendError=function(x){S(this._config.error)?this._config.error(x):o&&this._config.error&&r.postMessage({workerId:l.WORKER_ID,error:x,finished:!1})}}function f(g){var x;(g=g||{}).chunkSize||(g.chunkSize=l.RemoteChunkSize),c.call(this,g),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(k){this._input=k,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(x=new XMLHttpRequest,this._config.withCredentials&&(x.withCredentials=this._config.withCredentials),i||(x.onload=C(this._chunkLoaded,this),x.onerror=C(this._chunkError,this)),x.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var k=this._config.downloadRequestHeaders;for(var O in k)x.setRequestHeader(O,k[O])}if(this._config.chunkSize){var R=this._start+this._config.chunkSize-1;x.setRequestHeader("Range","bytes="+this._start+"-"+R)}try{x.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}i&&x.status===0&&this._chunkError()}},this._chunkLoaded=function(){x.readyState===4&&(x.status<200||400<=x.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:x.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(k){var O=k.getResponseHeader("Content-Range");return O===null?-1:parseInt(O.substring(O.lastIndexOf("/")+1))}(x),this.parseChunk(x.responseText)))},this._chunkError=function(k){var O=x.statusText||k;this._sendError(new Error(O))}}function h(g){var x,k;(g=g||{}).chunkSize||(g.chunkSize=l.LocalChunkSize),c.call(this,g);var O=typeof FileReader<"u";this.stream=function(R){this._input=R,k=R.slice||R.webkitSlice||R.mozSlice,O?((x=new FileReader).onload=C(this._chunkLoaded,this),x.onerror=C(this._chunkError,this)):x=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var R=this._input;if(this._config.chunkSize){var N=Math.min(this._start+this._config.chunkSize,this._input.size);R=k.call(R,this._start,N)}var V=x.readAsText(R,this._config.encoding);O||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(R){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(R.target.result)},this._chunkError=function(){this._sendError(x.error)}}function p(g){var x;c.call(this,g=g||{}),this.stream=function(k){return x=k,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var k,O=this._config.chunkSize;return O?(k=x.substring(0,O),x=x.substring(O)):(k=x,x=""),this._finished=!x,this.parseChunk(k)}}}function b(g){c.call(this,g=g||{});var x=[],k=!0,O=!1;this.pause=function(){c.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){c.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(R){this._input=R,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){O&&x.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),x.length?this.parseChunk(x.shift()):k=!0},this._streamData=C(function(R){try{x.push(typeof R=="string"?R:R.toString(this._config.encoding)),k&&(k=!1,this._checkIsFinished(),this.parseChunk(x.shift()))}catch(N){this._streamError(N)}},this),this._streamError=C(function(R){this._streamCleanUp(),this._sendError(R)},this),this._streamEnd=C(function(){this._streamCleanUp(),O=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function y(g){var x,k,O,R=Math.pow(2,53),N=-R,V=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,K=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,W=this,F=0,$=0,U=!1,Y=!1,J=[],z={data:[],errors:[],meta:{}};if(S(g.step)){var te=g.step;g.step=function(Q){if(z=Q,Ae())ge();else{if(ge(),z.data.length===0)return;F+=Q.data.length,g.preview&&F>g.preview?k.abort():(z.data=z.data[0],te(z,W))}}}function pe(Q){return g.skipEmptyLines==="greedy"?Q.join("").trim()==="":Q.length===1&&Q[0].length===0}function ge(){return z&&O&&($e("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+l.DefaultDelimiter+"'"),O=!1),g.skipEmptyLines&&(z.data=z.data.filter(function(Q){return!pe(Q)})),Ae()&&function(){if(!z)return;function Q(ae,G){S(g.transformHeader)&&(ae=g.transformHeader(ae,G)),J.push(ae)}if(Array.isArray(z.data[0])){for(var re=0;Ae()&&re<z.data.length;re++)z.data[re].forEach(Q);z.data.splice(0,1)}else z.data.forEach(Q)}(),function(){if(!z||!g.header&&!g.dynamicTyping&&!g.transform)return z;function Q(ae,G){var me,de=g.header?{}:[];for(me=0;me<ae.length;me++){var we=me,ye=ae[me];g.header&&(we=me>=J.length?"__parsed_extra":J[me]),g.transform&&(ye=g.transform(ye,we)),ye=be(we,ye),we==="__parsed_extra"?(de[we]=de[we]||[],de[we].push(ye)):de[we]=ye}return g.header&&(me>J.length?$e("FieldMismatch","TooManyFields","Too many fields: expected "+J.length+" fields but parsed "+me,$+G):me<J.length&&$e("FieldMismatch","TooFewFields","Too few fields: expected "+J.length+" fields but parsed "+me,$+G)),de}var re=1;return!z.data.length||Array.isArray(z.data[0])?(z.data=z.data.map(Q),re=z.data.length):z.data=Q(z.data,0),g.header&&z.meta&&(z.meta.fields=J),$+=re,z}()}function Ae(){return g.header&&J.length===0}function be(Q,re){return ae=Q,g.dynamicTypingFunction&&g.dynamicTyping[ae]===void 0&&(g.dynamicTyping[ae]=g.dynamicTypingFunction(ae)),(g.dynamicTyping[ae]||g.dynamicTyping)===!0?re==="true"||re==="TRUE"||re!=="false"&&re!=="FALSE"&&(function(G){if(V.test(G)){var me=parseFloat(G);if(N<me&&me<R)return!0}return!1}(re)?parseFloat(re):K.test(re)?new Date(re):re===""?null:re):re;var ae}function $e(Q,re,ae,G){var me={type:Q,code:re,message:ae};G!==void 0&&(me.row=G),z.errors.push(me)}this.parse=function(Q,re,ae){var G=g.quoteChar||'"';if(g.newline||(g.newline=function(we,ye){we=we.substring(0,1048576);var Qe=new RegExp(_(ye)+"([^]*?)"+_(ye),"gm"),st=(we=we.replace(Qe,"")).split("\r"),Vt=we.split(`
`),Tt=1<Vt.length&&Vt[0].length<st[0].length;if(st.length===1||Tt)return`
`;for(var dt=0,Be=0;Be<st.length;Be++)st[Be][0]===`
`&&dt++;return dt>=st.length/2?`\r
`:"\r"}(Q,G)),O=!1,g.delimiter)S(g.delimiter)&&(g.delimiter=g.delimiter(Q),z.meta.delimiter=g.delimiter);else{var me=function(we,ye,Qe,st,Vt){var Tt,dt,Be,Xe;Vt=Vt||[",","	","|",";",l.RECORD_SEP,l.UNIT_SEP];for(var Sn=0;Sn<Vt.length;Sn++){var Le=Vt[Sn],ht=0,tt=0,Xn=0;Be=void 0;for(var mr=new E({comments:st,delimiter:Le,newline:ye,preview:10}).parse(we),gr=0;gr<mr.data.length;gr++)if(Qe&&pe(mr.data[gr]))Xn++;else{var Dr=mr.data[gr].length;tt+=Dr,Be!==void 0?0<Dr&&(ht+=Math.abs(Dr-Be),Be=Dr):Be=Dr}0<mr.data.length&&(tt/=mr.data.length-Xn),(dt===void 0||ht<=dt)&&(Xe===void 0||Xe<tt)&&1.99<tt&&(dt=ht,Tt=Le,Xe=tt)}return{successful:!!(g.delimiter=Tt),bestDelimiter:Tt}}(Q,g.newline,g.skipEmptyLines,g.comments,g.delimitersToGuess);me.successful?g.delimiter=me.bestDelimiter:(O=!0,g.delimiter=l.DefaultDelimiter),z.meta.delimiter=g.delimiter}var de=P(g);return g.preview&&g.header&&de.preview++,x=Q,k=new E(de),z=k.parse(x,re,ae),ge(),U?{meta:{paused:!0}}:z||{meta:{paused:!1}}},this.paused=function(){return U},this.pause=function(){U=!0,k.abort(),x=S(g.chunk)?"":x.substring(k.getCharIndex())},this.resume=function(){W.streamer._halted?(U=!1,W.streamer.parseChunk(x,!0)):setTimeout(W.resume,3)},this.aborted=function(){return Y},this.abort=function(){Y=!0,k.abort(),z.meta.aborted=!0,S(g.complete)&&g.complete(z),x=""}}function _(g){return g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function E(g){var x,k=(g=g||{}).delimiter,O=g.newline,R=g.comments,N=g.step,V=g.preview,K=g.fastMode,W=x=g.quoteChar===void 0||g.quoteChar===null?'"':g.quoteChar;if(g.escapeChar!==void 0&&(W=g.escapeChar),(typeof k!="string"||-1<l.BAD_DELIMITERS.indexOf(k))&&(k=","),R===k)throw new Error("Comment character same as delimiter");R===!0?R="#":(typeof R!="string"||-1<l.BAD_DELIMITERS.indexOf(R))&&(R=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var F=0,$=!1;this.parse=function(U,Y,J){if(typeof U!="string")throw new Error("Input must be a string");var z=U.length,te=k.length,pe=O.length,ge=R.length,Ae=S(N),be=[],$e=[],Q=[],re=F=0;if(!U)return Ft();if(g.header&&!Y){var ae=U.split(O)[0].split(k),G=[],me={},de=!1;for(var we in ae){var ye=ae[we];S(g.transformHeader)&&(ye=g.transformHeader(ye,we));var Qe=ye,st=me[ye]||0;for(0<st&&(de=!0,Qe=ye+"_"+st),me[ye]=st+1;G.includes(Qe);)Qe=Qe+"_"+st;G.push(Qe)}if(de){var Vt=U.split(O);Vt[0]=G.join(k),U=Vt.join(O)}}if(K||K!==!1&&U.indexOf(x)===-1){for(var Tt=U.split(O),dt=0;dt<Tt.length;dt++){if(Q=Tt[dt],F+=Q.length,dt!==Tt.length-1)F+=O.length;else if(J)return Ft();if(!R||Q.substring(0,ge)!==R){if(Ae){if(be=[],Xn(Q.split(k)),qo(),$)return Ft()}else Xn(Q.split(k));if(V&&V<=dt)return be=be.slice(0,V),Ft(!0)}}return Ft()}for(var Be=U.indexOf(k,F),Xe=U.indexOf(O,F),Sn=new RegExp(_(W)+_(x),"g"),Le=U.indexOf(x,F);;)if(U[F]!==x)if(R&&Q.length===0&&U.substring(F,F+ge)===R){if(Xe===-1)return Ft();F=Xe+pe,Xe=U.indexOf(O,F),Be=U.indexOf(k,F)}else if(Be!==-1&&(Be<Xe||Xe===-1))Q.push(U.substring(F,Be)),F=Be+te,Be=U.indexOf(k,F);else{if(Xe===-1)break;if(Q.push(U.substring(F,Xe)),Dr(Xe+pe),Ae&&(qo(),$))return Ft();if(V&&be.length>=V)return Ft(!0)}else for(Le=F,F++;;){if((Le=U.indexOf(x,Le+1))===-1)return J||$e.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:be.length,index:F}),gr();if(Le===z-1)return gr(U.substring(F,Le).replace(Sn,x));if(x!==W||U[Le+1]!==W){if(x===W||Le===0||U[Le-1]!==W){Be!==-1&&Be<Le+1&&(Be=U.indexOf(k,Le+1)),Xe!==-1&&Xe<Le+1&&(Xe=U.indexOf(O,Le+1));var ht=mr(Xe===-1?Be:Math.min(Be,Xe));if(U.substr(Le+1+ht,te)===k){Q.push(U.substring(F,Le).replace(Sn,x)),U[F=Le+1+ht+te]!==x&&(Le=U.indexOf(x,F)),Be=U.indexOf(k,F),Xe=U.indexOf(O,F);break}var tt=mr(Xe);if(U.substring(Le+1+tt,Le+1+tt+pe)===O){if(Q.push(U.substring(F,Le).replace(Sn,x)),Dr(Le+1+tt+pe),Be=U.indexOf(k,F),Le=U.indexOf(x,F),Ae&&(qo(),$))return Ft();if(V&&be.length>=V)return Ft(!0);break}$e.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:be.length,index:F}),Le++}}else Le++}return gr();function Xn(hn){be.push(hn),re=F}function mr(hn){var rs=0;if(hn!==-1){var ou=U.substring(Le+1,hn);ou&&ou.trim()===""&&(rs=ou.length)}return rs}function gr(hn){return J||(hn===void 0&&(hn=U.substring(F)),Q.push(hn),F=z,Xn(Q),Ae&&qo()),Ft()}function Dr(hn){F=hn,Xn(Q),Q=[],Xe=U.indexOf(O,F)}function Ft(hn){return{data:be,errors:$e,meta:{delimiter:k,linebreak:O,aborted:$,truncated:!!hn,cursor:re+(Y||0)}}}function qo(){N(Ft()),be=[],$e=[]}},this.abort=function(){$=!0},this.getCharIndex=function(){return F}}function w(g){var x=g.data,k=a[x.workerId],O=!1;if(x.error)k.userError(x.error,x.file);else if(x.results&&x.results.data){var R={abort:function(){O=!0,T(x.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:I,resume:I};if(S(k.userStep)){for(var N=0;N<x.results.data.length&&(k.userStep({data:x.results.data[N],errors:x.results.errors,meta:x.results.meta},R),!O);N++);delete x.results}else S(k.userChunk)&&(k.userChunk(x.results,R,x.file),delete x.results)}x.finished&&!O&&T(x.workerId,x.results)}function T(g,x){var k=a[g];S(k.userComplete)&&k.userComplete(x),k.terminate(),delete a[g]}function I(){throw new Error("Not implemented.")}function P(g){if(typeof g!="object"||g===null)return g;var x=Array.isArray(g)?[]:{};for(var k in g)x[k]=P(g[k]);return x}function C(g,x){return function(){g.apply(x,arguments)}}function S(g){return typeof g=="function"}return o&&(r.onmessage=function(g){var x=g.data;if(l.WORKER_ID===void 0&&x&&(l.WORKER_ID=x.workerId),typeof x.input=="string")r.postMessage({workerId:l.WORKER_ID,results:l.parse(x.input,x.config),finished:!0});else if(r.File&&x.input instanceof File||x.input instanceof Object){var k=l.parse(x.input,x.config);k&&r.postMessage({workerId:l.WORKER_ID,results:k,finished:!0})}}),(f.prototype=Object.create(c.prototype)).constructor=f,(h.prototype=Object.create(c.prototype)).constructor=h,(p.prototype=Object.create(p.prototype)).constructor=p,(b.prototype=Object.create(c.prototype)).constructor=b,l})})(PD);var KW=PD.exports;const GW=Ge(KW),QW=()=>{const t=i=>{const o=String(i);return o.includes(",")||o.includes('"')||o.includes(`
`)?`"${o.replace(/"/g,'""')}"`:o},e=["name","url","da","pa","dr","niches","traffic","isPaid","logo","description","linkType"],r=[{name:"Example Directory",url:"https://example.com",da:85,pa:70,dr:82,niches:"Tech, Marketing, SEO",traffic:5e4,isPaid:!0,logo:"https://example.com/logo.png",description:"A comprehensive business directory",linkType:"Dofollow"},{name:"Business Listings",url:"https://business-listings.com",da:75,pa:65,dr:78,niches:"Business, Finance, Startups",traffic:3e4,isPaid:!1,logo:"https://business-listings.com/logo.png",description:"Premium business listing directory",linkType:"Nofollow"}].map(i=>[i.name,i.url,i.da,i.pa,i.dr,i.niches,i.traffic,i.isPaid,i.logo,i.description,i.linkType].map(t).join(","));return`${e.join(",")}
${r.join(`
`)}`};function XW({onUpload:t,onCancel:e}){const[n,r]=D.useState(null),[i,o]=D.useState(!1),[a,s]=D.useState(null),l=D.useRef(null),u=(y,_)=>{const E=[];y.name||E.push("name is required"),y.url||E.push("url is required"),(!y.da||isNaN(Number(y.da)))&&E.push("da must be a valid number"),(!y.pa||isNaN(Number(y.pa)))&&E.push("pa must be a valid number"),(!y.dr||isNaN(Number(y.dr)))&&E.push("dr must be a valid number");const w=Number(y.traffic);if((isNaN(w)||w<0)&&E.push("traffic must be a valid positive number"),E.length>0)throw new Error(`Row ${_+1}: ${E.join(", ")}`);return{name:y.name.trim(),url:y.url.trim(),da:parseInt(y.da),pa:parseInt(y.pa),dr:parseInt(y.dr),niches:y.niches?y.niches.split(",").map(T=>T.trim()).filter(Boolean):[],traffic:w,isPaid:String(y.isPaid).toLowerCase()==="true",logo:y.logo?y.logo.trim():"",description:y.description?y.description.trim():"",linkType:y.linkType?.trim()||"Dofollow"}},c=y=>{const _=y.target.files?.[0];if(_){if(_.type!=="text/csv"&&!_.name.endsWith(".csv")){r("Please upload a valid CSV file");return}s(_),r(null)}},f=y=>{y.preventDefault();const _=y.dataTransfer.files[0];if(_){if(_.type!=="text/csv"&&!_.name.endsWith(".csv")){r("Please upload a valid CSV file");return}s(_),r(null)}},h=y=>{y.preventDefault()},p=()=>{const y=QW(),_=new Blob([y],{type:"text/csv;charset=utf-8;"}),E=document.createElement("a"),w=URL.createObjectURL(_);E.setAttribute("href",w),E.setAttribute("download","sample-directories.csv"),document.body.appendChild(E),E.click(),document.body.removeChild(E),URL.revokeObjectURL(w)},b=async()=>{if(!a){r("Please select a file first");return}o(!0),r(null),GW.parse(a,{header:!0,skipEmptyLines:!0,complete:async y=>{try{if(y.errors.length>0){r("Error parsing CSV file: "+y.errors[0].message),o(!1);return}if(y.data.length===0){r("CSV file is empty"),o(!1);return}const E=["name","url","da","pa","dr","traffic"].filter(T=>!y.meta.fields?.includes(T));if(E.length>0){r(`Missing required columns: ${E.join(", ")}`),o(!1);return}const w=y.data.map((T,I)=>{try{return u(T,I)}catch(P){throw P}});await t(w)}catch(_){r(_ instanceof Error?_.message:"Failed to process CSV file")}finally{o(!1)}},error:y=>{r("Failed to read CSV file: "+y.message),o(!1)}})};return m.jsx("div",{className:"max-w-2xl mx-auto",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 p-6 rounded-lg shadow",children:[m.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-4",children:"Bulk Import Directories"}),m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-2",children:[m.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Required CSV Columns:"}),m.jsxs("button",{onClick:p,className:"inline-flex items-center gap-2 px-3 py-1.5 text-sm font-medium text-primary-600 dark:text-primary-400 hover:text-primary-700 dark:hover:text-primary-300",children:[m.jsx(fW,{className:"h-4 w-4"}),"Download Sample CSV"]})]}),m.jsx("div",{className:"bg-gray-50 dark:bg-gray-700 p-4 rounded-md",children:m.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[m.jsxs("p",{children:[m.jsx("code",{className:"text-primary-600 dark:text-primary-400",children:"name"})," - Directory name (required)"]}),m.jsxs("p",{children:[m.jsx("code",{className:"text-primary-600 dark:text-primary-400",children:"url"})," - Website URL (required)"]}),m.jsxs("p",{children:[m.jsx("code",{className:"text-primary-600 dark:text-primary-400",children:"da"})," - Domain Authority, 0-100 (required)"]}),m.jsxs("p",{children:[m.jsx("code",{className:"text-primary-600 dark:text-primary-400",children:"pa"})," - Page Authority, 0-100 (required)"]}),m.jsxs("p",{children:[m.jsx("code",{className:"text-primary-600 dark:text-primary-400",children:"dr"})," - Domain Rating, 0-100 (required)"]}),m.jsxs("p",{children:[m.jsx("code",{className:"text-primary-600 dark:text-primary-400",children:"traffic"})," - Monthly traffic (required)"]}),m.jsxs("p",{children:[m.jsx("code",{children:"niches"})," - Comma-separated niches (optional)"]}),m.jsxs("p",{children:[m.jsx("code",{children:"isPaid"})," - true/false (optional, defaults to false)"]}),m.jsxs("p",{children:[m.jsx("code",{children:"logo"})," - Logo URL (optional)"]}),m.jsxs("p",{children:[m.jsx("code",{children:"description"})," - Directory description (optional)"]}),m.jsxs("p",{children:[m.jsx("code",{children:"linkType"})," - Dofollow/Nofollow/UGC/Sponsored (optional)"]})]})})]}),n&&m.jsxs("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/30 rounded-md flex items-start gap-2 text-red-600 dark:text-red-400",children:[m.jsx(Xf,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),m.jsx("p",{children:n})]}),m.jsxs("div",{className:"mt-4 relative",onDrop:f,onDragOver:h,children:[m.jsx("input",{ref:l,type:"file",accept:".csv",onChange:c,className:"hidden"}),m.jsx("div",{onClick:()=>l.current?.click(),className:`
              cursor-pointer
              mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-dashed rounded-lg
              ${a?"border-primary-500 dark:border-primary-400":"border-gray-300 dark:border-gray-600"}
              ${i?"opacity-50 cursor-not-allowed":"hover:border-primary-500 dark:hover:border-primary-400"}
              transition-colors
            `,children:m.jsxs("div",{className:"space-y-2 text-center",children:[a?m.jsxs(m.Fragment,{children:[m.jsx(hW,{className:"mx-auto h-12 w-12 text-primary-500 dark:text-primary-400"}),m.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Selected: ",a.name]})]}):m.jsxs(m.Fragment,{children:[m.jsx(ED,{className:"mx-auto h-12 w-12 text-gray-400"}),m.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[m.jsx("span",{className:"font-medium text-primary-600 dark:text-primary-400",children:"Click to upload"})," ","or drag and drop"]})]}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"CSV up to 10MB"})]})})]}),m.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[m.jsx("button",{type:"button",onClick:e,disabled:i,className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),m.jsx("button",{type:"button",onClick:b,disabled:!a||i,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Uploading...":"Upload CSV"})]})]})})}function YW(){const[t,e]=D.useState([]),[n,r]=D.useState(""),[i,o]=D.useState(!1),[a,s]=D.useState(!1),[l,u]=D.useState(),[c,f]=D.useState(!0),[h,p]=D.useState(null),[b,y]=D.useState([]);D.useEffect(()=>{_()},[]);const _=async()=>{try{p(null);const x=await Nx();e(x)}catch(x){console.error("Failed to load directories:",x),p("Failed to load directories. Please try again.")}finally{f(!1)}},E=t.filter(x=>x.name.toLowerCase().includes(n.toLowerCase())||x.url.toLowerCase().includes(n.toLowerCase())),w=async x=>{try{p(null),await BI(x),await _(),o(!1)}catch(k){console.error("Failed to add directory:",k),p("Failed to add directory. Please try again.")}},T=async x=>{if(l)try{p(null),await LW(l.id,x),await _(),u(void 0),o(!1)}catch(k){console.error("Failed to update directory:",k),p("Failed to update directory. Please try again.")}},I=async x=>{if(window.confirm("Are you sure you want to delete this directory?"))try{p(null),await UI(x),await _()}catch(k){console.error("Failed to delete directory:",k),p("Failed to delete directory. Please try again.")}},P=async()=>{if(window.confirm(`Are you sure you want to delete ${b.length} directories?`))try{p(null);for(const x of b)await UI(x);y([]),await _()}catch(x){console.error("Failed to delete directories:",x),p("Failed to delete directories. Please try again.")}},C=async x=>{try{p(null);for(const k of x)await BI(k);await _(),s(!1)}catch(k){console.error("Failed to bulk upload directories:",k),p("Failed to upload directories. Please try again.")}},S=x=>{y(k=>k.includes(x)?k.filter(O=>O!==x):[...k,x])},g=()=>{b.length===E.length?y([]):y(E.map(x=>x.id))};return a?m.jsx(XW,{onUpload:C,onCancel:()=>s(!1)}):i?m.jsxs("div",{className:"max-w-4xl mx-auto",children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white mb-6",children:l?"Edit Directory":"Add New Directory"}),m.jsx(HW,{directory:l,onSubmit:l?T:w,onCancel:()=>{o(!1),u(void 0)}})]}):c?m.jsx("div",{className:"flex items-center justify-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-900 dark:text-white",children:"Manage Listings"}),m.jsxs("div",{className:"flex gap-3",children:[b.length>0&&m.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50 dark:bg-red-900 dark:border-red-800 dark:text-red-200 dark:hover:bg-red-800",children:[m.jsx(s_,{className:"h-4 w-4"}),"Delete Selected (",b.length,")"]}),m.jsxs("button",{onClick:()=>s(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 dark:bg-gray-800 dark:border-gray-600 dark:text-white dark:hover:bg-gray-700",children:[m.jsx(ED,{className:"h-4 w-4"}),"Bulk Import"]}),m.jsxs("button",{onClick:()=>o(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700",children:[m.jsx(xD,{className:"h-4 w-4"}),"Add New Listing"]})]})]}),h&&m.jsx("div",{className:"mb-4 p-4 bg-red-50 dark:bg-red-900/50 border border-red-200 dark:border-red-800 rounded-lg text-red-600 dark:text-red-200",children:h}),m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(hg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search listings...",value:n,onChange:x=>r(x.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-primary-500 focus:border-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"})]})}),m.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm rounded-lg overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left",children:m.jsx("input",{type:"checkbox",checked:b.length===E.length,onChange:g,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-800"})}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Directory"}),m.jsx("th",{className:"px-6 py-3 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Metrics"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Niches"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:E.map(x=>m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[m.jsx("td",{className:"px-6 py-4",children:m.jsx("input",{type:"checkbox",checked:b.includes(x.id),onChange:()=>S(x.id),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500 dark:border-gray-600 dark:bg-gray-800"})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:m.jsx("img",{className:"h-10 w-10 rounded-lg object-cover",src:x.logo,alt:x.name})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:x.name}),m.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:x.url})]})]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsxs("div",{className:"flex justify-center items-center gap-4",children:[m.jsx(vi,{value:x.da,label:"DA",size:40,color:"blue"}),m.jsx(vi,{value:x.pa,label:"PA",size:40,color:"green"}),m.jsx(vi,{value:x.dr,label:"DR",size:40,color:"orange"})]})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("div",{className:"flex flex-wrap gap-1",children:x.niches.map(k=>m.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200",children:k},k))})}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${x.isPaid?"bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-200":"bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200"}`,children:x.isPaid?"Paid":"Free"})}),m.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[m.jsx("button",{onClick:()=>{u(x),o(!0)},className:"text-primary-600 hover:text-primary-900 dark:text-primary-400 dark:hover:text-primary-300",children:m.jsx(wD,{className:"h-4 w-4"})}),m.jsx("button",{onClick:()=>I(x.id),className:"text-red-600 hover:text-red-900 dark:text-red-400 dark:hover:text-red-300",children:m.jsx(s_,{className:"h-4 w-4"})}),m.jsx("a",{href:x.url,target:"_blank",rel:"noopener noreferrer",className:"text-gray-600 hover:text-gray-900 dark:text-gray-400 dark:hover:text-gray-300",children:m.jsx(dg,{className:"h-4 w-4"})})]})]},x.id))})]})})})]})}const JW=[{id:"1",name:"John Doe",email:"john@example.com",role:"Admin",status:"Active",lastLogin:"2024-03-15"}];function ZW(){const[t,e]=D.useState(""),n=JW.filter(r=>r.name.toLowerCase().includes(t.toLowerCase())||r.email.toLowerCase().includes(t.toLowerCase()));return m.jsxs("div",{children:[m.jsx("div",{className:"flex justify-between items-center mb-8",children:m.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"User Management"})}),m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(hg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search users...",value:t,onChange:r=>e(r.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})}),m.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"User"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Role"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Last Login"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(r=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"flex items-center",children:[m.jsx("div",{className:"flex-shrink-0 h-10 w-10",children:m.jsx("div",{className:"h-10 w-10 rounded-full bg-gray-200 flex items-center justify-center",children:m.jsx("span",{className:"text-lg font-medium text-gray-600",children:r.name.charAt(0)})})}),m.jsxs("div",{className:"ml-4",children:[m.jsx("div",{className:"text-sm font-medium text-gray-900",children:r.name}),m.jsx("div",{className:"text-sm text-gray-500",children:r.email})]})]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:r.role})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-green-100 text-green-800",children:r.status})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:r.lastLogin}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:m.jsx("button",{className:"text-gray-400 hover:text-gray-500",children:m.jsx(EW,{className:"h-5 w-5"})})})]},r.id))})]})})]})}function kD(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=kD(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Fe(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=kD(t))&&(r&&(r+=" "),r+=e);return r}var eH=Array.isArray,Dn=eH,tH=typeof Bu=="object"&&Bu&&Bu.Object===Object&&Bu,OD=tH,nH=OD,rH=typeof self=="object"&&self&&self.Object===Object&&self,iH=nH||rH||Function("return this")(),ei=iH,oH=ei,aH=oH.Symbol,Yf=aH,qI=Yf,CD=Object.prototype,sH=CD.hasOwnProperty,lH=CD.toString,Cu=qI?qI.toStringTag:void 0;function uH(t){var e=sH.call(t,Cu),n=t[Cu];try{t[Cu]=void 0;var r=!0}catch{}var i=lH.call(t);return r&&(e?t[Cu]=n:delete t[Cu]),i}var cH=uH,fH=Object.prototype,dH=fH.toString;function hH(t){return dH.call(t)}var pH=hH,WI=Yf,mH=cH,gH=pH,yH="[object Null]",vH="[object Undefined]",HI=WI?WI.toStringTag:void 0;function _H(t){return t==null?t===void 0?vH:yH:HI&&HI in Object(t)?mH(t):gH(t)}var Di=_H;function bH(t){return t!=null&&typeof t=="object"}var Mi=bH,wH=Di,xH=Mi,EH="[object Symbol]";function TH(t){return typeof t=="symbol"||xH(t)&&wH(t)==EH}var Hl=TH,SH=Dn,IH=Hl,AH=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,PH=/^\w*$/;function kH(t,e){if(SH(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||IH(t)?!0:PH.test(t)||!AH.test(t)||e!=null&&t in Object(e)}var Rx=kH;function OH(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Vo=OH;const Kl=Ge(Vo);var CH=Di,NH=Vo,RH="[object AsyncFunction]",jH="[object Function]",DH="[object GeneratorFunction]",MH="[object Proxy]";function $H(t){if(!NH(t))return!1;var e=CH(t);return e==jH||e==DH||e==RH||e==MH}var jx=$H;const Oe=Ge(jx);var LH=ei,VH=LH["__core-js_shared__"],FH=VH,lv=FH,KI=function(){var t=/[^.]+$/.exec(lv&&lv.keys&&lv.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function BH(t){return!!KI&&KI in t}var UH=BH,zH=Function.prototype,qH=zH.toString;function WH(t){if(t!=null){try{return qH.call(t)}catch{}try{return t+""}catch{}}return""}var ND=WH,HH=jx,KH=UH,GH=Vo,QH=ND,XH=/[\\^$.*+?()[\]{}|]/g,YH=/^\[object .+?Constructor\]$/,JH=Function.prototype,ZH=Object.prototype,eK=JH.toString,tK=ZH.hasOwnProperty,nK=RegExp("^"+eK.call(tK).replace(XH,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function rK(t){if(!GH(t)||KH(t))return!1;var e=HH(t)?nK:YH;return e.test(QH(t))}var iK=rK;function oK(t,e){return t?.[e]}var aK=oK,sK=iK,lK=aK;function uK(t,e){var n=lK(t,e);return sK(n)?n:void 0}var es=uK,cK=es,fK=cK(Object,"create"),mg=fK,GI=mg;function dK(){this.__data__=GI?GI(null):{},this.size=0}var hK=dK;function pK(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var mK=pK,gK=mg,yK="__lodash_hash_undefined__",vK=Object.prototype,_K=vK.hasOwnProperty;function bK(t){var e=this.__data__;if(gK){var n=e[t];return n===yK?void 0:n}return _K.call(e,t)?e[t]:void 0}var wK=bK,xK=mg,EK=Object.prototype,TK=EK.hasOwnProperty;function SK(t){var e=this.__data__;return xK?e[t]!==void 0:TK.call(e,t)}var IK=SK,AK=mg,PK="__lodash_hash_undefined__";function kK(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=AK&&e===void 0?PK:e,this}var OK=kK,CK=hK,NK=mK,RK=wK,jK=IK,DK=OK;function Gl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Gl.prototype.clear=CK;Gl.prototype.delete=NK;Gl.prototype.get=RK;Gl.prototype.has=jK;Gl.prototype.set=DK;var MK=Gl;function $K(){this.__data__=[],this.size=0}var LK=$K;function VK(t,e){return t===e||t!==t&&e!==e}var Dx=VK,FK=Dx;function BK(t,e){for(var n=t.length;n--;)if(FK(t[n][0],e))return n;return-1}var gg=BK,UK=gg,zK=Array.prototype,qK=zK.splice;function WK(t){var e=this.__data__,n=UK(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():qK.call(e,n,1),--this.size,!0}var HK=WK,KK=gg;function GK(t){var e=this.__data__,n=KK(e,t);return n<0?void 0:e[n][1]}var QK=GK,XK=gg;function YK(t){return XK(this.__data__,t)>-1}var JK=YK,ZK=gg;function eG(t,e){var n=this.__data__,r=ZK(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var tG=eG,nG=LK,rG=HK,iG=QK,oG=JK,aG=tG;function Ql(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Ql.prototype.clear=nG;Ql.prototype.delete=rG;Ql.prototype.get=iG;Ql.prototype.has=oG;Ql.prototype.set=aG;var yg=Ql,sG=es,lG=ei,uG=sG(lG,"Map"),Mx=uG,QI=MK,cG=yg,fG=Mx;function dG(){this.size=0,this.__data__={hash:new QI,map:new(fG||cG),string:new QI}}var hG=dG;function pG(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var mG=pG,gG=mG;function yG(t,e){var n=t.__data__;return gG(e)?n[typeof e=="string"?"string":"hash"]:n.map}var vg=yG,vG=vg;function _G(t){var e=vG(this,t).delete(t);return this.size-=e?1:0,e}var bG=_G,wG=vg;function xG(t){return wG(this,t).get(t)}var EG=xG,TG=vg;function SG(t){return TG(this,t).has(t)}var IG=SG,AG=vg;function PG(t,e){var n=AG(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var kG=PG,OG=hG,CG=bG,NG=EG,RG=IG,jG=kG;function Xl(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Xl.prototype.clear=OG;Xl.prototype.delete=CG;Xl.prototype.get=NG;Xl.prototype.has=RG;Xl.prototype.set=jG;var $x=Xl,RD=$x,DG="Expected a function";function Lx(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(DG);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Lx.Cache||RD),n}Lx.Cache=RD;var jD=Lx;const MG=Ge(jD);var $G=jD,LG=500;function VG(t){var e=$G(t,function(r){return n.size===LG&&n.clear(),r}),n=e.cache;return e}var FG=VG,BG=FG,UG=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zG=/\\(\\)?/g,qG=BG(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(UG,function(n,r,i,o){e.push(i?o.replace(zG,"$1"):r||n)}),e}),WG=qG;function HG(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Vx=HG,XI=Yf,KG=Vx,GG=Dn,QG=Hl,XG=1/0,YI=XI?XI.prototype:void 0,JI=YI?YI.toString:void 0;function DD(t){if(typeof t=="string")return t;if(GG(t))return KG(t,DD)+"";if(QG(t))return JI?JI.call(t):"";var e=t+"";return e=="0"&&1/t==-XG?"-0":e}var YG=DD,JG=YG;function ZG(t){return t==null?"":JG(t)}var MD=ZG,eQ=Dn,tQ=Rx,nQ=WG,rQ=MD;function iQ(t,e){return eQ(t)?t:tQ(t,e)?[t]:nQ(rQ(t))}var $D=iQ,oQ=Hl,aQ=1/0;function sQ(t){if(typeof t=="string"||oQ(t))return t;var e=t+"";return e=="0"&&1/t==-aQ?"-0":e}var _g=sQ,lQ=$D,uQ=_g;function cQ(t,e){e=lQ(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[uQ(e[n++])];return n&&n==r?t:void 0}var Fx=cQ,fQ=Fx;function dQ(t,e,n){var r=t==null?void 0:fQ(t,e);return r===void 0?n:r}var LD=dQ;const ur=Ge(LD);function hQ(t){return t==null}var pQ=hQ;const Ve=Ge(pQ);var mQ=Di,gQ=Dn,yQ=Mi,vQ="[object String]";function _Q(t){return typeof t=="string"||!gQ(t)&&yQ(t)&&mQ(t)==vQ}var bQ=_Q;const Jf=Ge(bQ);var VD={exports:{}},qe={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=Symbol.for("react.element"),Ux=Symbol.for("react.portal"),bg=Symbol.for("react.fragment"),wg=Symbol.for("react.strict_mode"),xg=Symbol.for("react.profiler"),Eg=Symbol.for("react.provider"),Tg=Symbol.for("react.context"),wQ=Symbol.for("react.server_context"),Sg=Symbol.for("react.forward_ref"),Ig=Symbol.for("react.suspense"),Ag=Symbol.for("react.suspense_list"),Pg=Symbol.for("react.memo"),kg=Symbol.for("react.lazy"),xQ=Symbol.for("react.offscreen"),FD;FD=Symbol.for("react.module.reference");function hr(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Bx:switch(t=t.type,t){case bg:case xg:case wg:case Ig:case Ag:return t;default:switch(t=t&&t.$$typeof,t){case wQ:case Tg:case Sg:case kg:case Pg:case Eg:return t;default:return e}}case Ux:return e}}}qe.ContextConsumer=Tg;qe.ContextProvider=Eg;qe.Element=Bx;qe.ForwardRef=Sg;qe.Fragment=bg;qe.Lazy=kg;qe.Memo=Pg;qe.Portal=Ux;qe.Profiler=xg;qe.StrictMode=wg;qe.Suspense=Ig;qe.SuspenseList=Ag;qe.isAsyncMode=function(){return!1};qe.isConcurrentMode=function(){return!1};qe.isContextConsumer=function(t){return hr(t)===Tg};qe.isContextProvider=function(t){return hr(t)===Eg};qe.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bx};qe.isForwardRef=function(t){return hr(t)===Sg};qe.isFragment=function(t){return hr(t)===bg};qe.isLazy=function(t){return hr(t)===kg};qe.isMemo=function(t){return hr(t)===Pg};qe.isPortal=function(t){return hr(t)===Ux};qe.isProfiler=function(t){return hr(t)===xg};qe.isStrictMode=function(t){return hr(t)===wg};qe.isSuspense=function(t){return hr(t)===Ig};qe.isSuspenseList=function(t){return hr(t)===Ag};qe.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===bg||t===xg||t===wg||t===Ig||t===Ag||t===xQ||typeof t=="object"&&t!==null&&(t.$$typeof===kg||t.$$typeof===Pg||t.$$typeof===Eg||t.$$typeof===Tg||t.$$typeof===Sg||t.$$typeof===FD||t.getModuleId!==void 0)};qe.typeOf=hr;VD.exports=qe;var BD=VD.exports,EQ=Di,TQ=Mi,SQ="[object Number]";function IQ(t){return typeof t=="number"||TQ(t)&&EQ(t)==SQ}var UD=IQ;const AQ=Ge(UD);var PQ=UD;function kQ(t){return PQ(t)&&t!=+t}var OQ=kQ;const Zf=Ge(OQ);var Sr=function(e){return e===0?0:e>0?1:-1},da=function(e){return Jf(e)&&e.indexOf("%")===e.length-1},ie=function(e){return AQ(e)&&!Zf(e)},Dt=function(e){return ie(e)||Jf(e)},CQ=0,Og=function(e){var n=++CQ;return"".concat(e||"").concat(n)},Ba=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ie(e)&&!Jf(e))return r;var o;if(da(e)){var a=e.indexOf("%");o=n*parseFloat(e.slice(0,a))/100}else o=+e;return Zf(o)&&(o=r),i&&o>n&&(o=n),o},to=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},NQ=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},hs=function(e,n){return ie(e)&&ie(n)?function(r){return e+r*(n-e)}:function(){return n}};function l_(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ur(r,e))===n})}function Ks(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function u_(t){"@babel/helpers - typeof";return u_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u_(t)}var RQ=["viewBox","children"],jQ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],ZI=["points","pathLength"],uv={svg:RQ,polygon:ZI,polyline:ZI},zx=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Tp=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(D.isValidElement(e)&&(r=e.props),!Kl(r))return null;var i={};return Object.keys(r).forEach(function(o){zx.includes(o)&&(i[o]=n||function(a){return r[o](r,a)})}),i},DQ=function(e,n,r){return function(i){return e(n,r,i),null}},Sp=function(e,n,r){if(!Kl(e)||u_(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(o){var a=e[o];zx.includes(o)&&typeof a=="function"&&(i||(i={}),i[o]=DQ(a,n,r))}),i},MQ=["children"],$Q=["children"];function eA(t,e){if(t==null)return{};var n=LQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function LQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var tA={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart"},_i=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},nA=null,cv=null,qx=function t(e){if(e===nA&&Array.isArray(cv))return cv;var n=[];return D.Children.forEach(e,function(r){Ve(r)||(BD.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),cv=n,nA=e,n};function Pr(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return _i(i)}):r=[_i(e)],qx(t).forEach(function(i){var o=ur(i,"type.displayName")||ur(i,"type.name");r.indexOf(o)!==-1&&n.push(i)}),n}function Vn(t,e){var n=Pr(t,e);return n&&n[0]}var rA=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!ie(r)||r<=0||!ie(i)||i<=0)},VQ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],FQ=function(e){return e&&e.type&&Jf(e.type)&&VQ.indexOf(e.type)>=0},BQ=function(e,n,r,i){var o,a=(o=uv?.[i])!==null&&o!==void 0?o:[];return!Oe(e)&&(i&&a.includes(n)||jQ.includes(n))||r&&zx.includes(n)},Me=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(D.isValidElement(e)&&(i=e.props),!Kl(i))return null;var o={};return Object.keys(i).forEach(function(a){var s;BQ((s=i)===null||s===void 0?void 0:s[a],a,n,r)&&(o[a]=i[a])}),o},c_=function t(e,n){if(e===n)return!0;var r=D.Children.count(e);if(r!==D.Children.count(n))return!1;if(r===0)return!0;if(r===1)return iA(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var o=e[i],a=n[i];if(Array.isArray(o)||Array.isArray(a)){if(!t(o,a))return!1}else if(!iA(o,a))return!1}return!0},iA=function(e,n){if(Ve(e)&&Ve(n))return!0;if(!Ve(e)&&!Ve(n)){var r=e.props||{},i=r.children,o=eA(r,MQ),a=n.props||{},s=a.children,l=eA(a,$Q);return i&&s?Ks(o,l)&&c_(i,s):!i&&!s?Ks(o,l):!1}return!1},oA=function(e,n){var r=[],i={};return qx(e).forEach(function(o,a){if(FQ(o))r.push(o);else if(o){var s=_i(o.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(o,s,a);r.push(f),i[s]=!0}}}),r},UQ=function(e){var n=e&&e.type;return n&&tA[n]?tA[n]:null},zQ=function(e,n){return qx(n).indexOf(e)},qQ=["children","width","height","viewBox","className","style","title","desc"];function f_(){return f_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f_.apply(this,arguments)}function WQ(t,e){if(t==null)return{};var n=HQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function HQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function d_(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,o=t.className,a=t.style,s=t.title,l=t.desc,u=WQ(t,qQ),c=i||{width:n,height:r,x:0,y:0},f=Fe("recharts-surface",o);return M.createElement("svg",f_({},Me(u,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),M.createElement("title",null,s),M.createElement("desc",null,l),e)}var KQ=["children","className"];function h_(){return h_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h_.apply(this,arguments)}function GQ(t,e){if(t==null)return{};var n=QQ(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var qt=M.forwardRef(function(t,e){var n=t.children,r=t.className,i=GQ(t,KQ),o=Fe("recharts-layer",r);return M.createElement("g",h_({className:o},Me(i,!0),{ref:e}),n)}),bi=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o]};function XQ(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}var YQ=XQ,JQ=YQ;function ZQ(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:JQ(t,e,n)}var eX=ZQ,tX="\\ud800-\\udfff",nX="\\u0300-\\u036f",rX="\\ufe20-\\ufe2f",iX="\\u20d0-\\u20ff",oX=nX+rX+iX,aX="\\ufe0e\\ufe0f",sX="\\u200d",lX=RegExp("["+sX+tX+oX+aX+"]");function uX(t){return lX.test(t)}var zD=uX;function cX(t){return t.split("")}var fX=cX,qD="\\ud800-\\udfff",dX="\\u0300-\\u036f",hX="\\ufe20-\\ufe2f",pX="\\u20d0-\\u20ff",mX=dX+hX+pX,gX="\\ufe0e\\ufe0f",yX="["+qD+"]",p_="["+mX+"]",m_="\\ud83c[\\udffb-\\udfff]",vX="(?:"+p_+"|"+m_+")",WD="[^"+qD+"]",HD="(?:\\ud83c[\\udde6-\\uddff]){2}",KD="[\\ud800-\\udbff][\\udc00-\\udfff]",_X="\\u200d",GD=vX+"?",QD="["+gX+"]?",bX="(?:"+_X+"(?:"+[WD,HD,KD].join("|")+")"+QD+GD+")*",wX=QD+GD+bX,xX="(?:"+[WD+p_+"?",p_,HD,KD,yX].join("|")+")",EX=RegExp(m_+"(?="+m_+")|"+xX+wX,"g");function TX(t){return t.match(EX)||[]}var SX=TX,IX=fX,AX=zD,PX=SX;function kX(t){return AX(t)?PX(t):IX(t)}var OX=kX,CX=eX,NX=zD,RX=OX,jX=MD;function DX(t){return function(e){e=jX(e);var n=NX(e)?RX(e):void 0,r=n?n[0]:e.charAt(0),i=n?CX(n,1).join(""):e.slice(1);return r[t]()+i}}var MX=DX,$X=MX,LX=$X("toUpperCase"),VX=LX;const Cg=Ge(VX);function Ze(t){return function(){return t}}const XD=Math.cos,Ip=Math.sin,jr=Math.sqrt,Ap=Math.PI,Ng=2*Ap,g_=Math.PI,y_=2*g_,ta=1e-6,FX=y_-ta;function YD(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function BX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return YD;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class UX{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?YD:BX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,s=this._y1,l=r-e,u=i-n,c=a-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>ta)if(!(Math.abs(f*l-u*c)>ta)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,b=i-s,y=l*l+u*u,_=p*p+b*b,E=Math.sqrt(y),w=Math.sqrt(h),T=o*Math.tan((g_-Math.acos((y+h-_)/(2*E*w)))/2),I=T/w,P=T/E;Math.abs(I-1)>ta&&this._append`L${e+I*c},${n+I*f}`,this._append`A${o},${o},0,0,${+(f*p>c*b)},${this._x1=e+P*l},${this._y1=n+P*u}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^a,h=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>ta||Math.abs(this._y1-c)>ta)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%y_+y_),h>FX?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>ta&&this._append`A${r},${r},0,${+(h>=g_)},${f},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Wx(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new UX(e)}function Hx(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function JD(t){this._context=t}JD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function Rg(t){return new JD(t)}function ZD(t){return t[0]}function eM(t){return t[1]}function tM(t,e){var n=Ze(!0),r=null,i=Rg,o=null,a=Wx(s);t=typeof t=="function"?t:t===void 0?ZD:Ze(t),e=typeof e=="function"?e:e===void 0?eM:Ze(e);function s(l){var u,c=(l=Hx(l)).length,f,h=!1,p;for(r==null&&(o=i(p=a())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(f,u,l),+e(f,u,l));if(p)return o=null,p+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ze(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ze(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Ze(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(o=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=o=null:o=i(r=l),s):r},s}function Hd(t,e,n){var r=null,i=Ze(!0),o=null,a=Rg,s=null,l=Wx(u);t=typeof t=="function"?t:t===void 0?ZD:Ze(+t),e=typeof e=="function"?e:Ze(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?eM:Ze(+n);function u(f){var h,p,b,y=(f=Hx(f)).length,_,E=!1,w,T=new Array(y),I=new Array(y);for(o==null&&(s=a(w=l())),h=0;h<=y;++h){if(!(h<y&&i(_=f[h],h,f))===E)if(E=!E)p=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),b=h-1;b>=p;--b)s.point(T[b],I[b]);s.lineEnd(),s.areaEnd()}E&&(T[h]=+t(_,h,f),I[h]=+e(_,h,f),s.point(r?+r(_,h,f):T[h],n?+n(_,h,f):I[h]))}if(w)return s=null,w+""||null}function c(){return tM().defined(i).curve(a).context(o)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Ze(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ze(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Ze(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ze(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Ze(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,o!=null&&(s=a(o)),u):a},u.context=function(f){return arguments.length?(f==null?o=s=null:s=a(o=f),u):o},u}class nM{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function zX(t){return new nM(t,!0)}function qX(t){return new nM(t,!1)}const Kx={draw(t,e){const n=jr(e/Ap);t.moveTo(n,0),t.arc(0,0,n,0,Ng)}},WX={draw(t,e){const n=jr(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},rM=jr(1/3),HX=rM*2,KX={draw(t,e){const n=jr(e/HX),r=n*rM;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},GX={draw(t,e){const n=jr(e),r=-n/2;t.rect(r,r,n,n)}},QX=.8908130915292852,iM=Ip(Ap/10)/Ip(7*Ap/10),XX=Ip(Ng/10)*iM,YX=-XD(Ng/10)*iM,JX={draw(t,e){const n=jr(e*QX),r=XX*n,i=YX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=Ng*o/5,s=XD(a),l=Ip(a);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},fv=jr(3),ZX={draw(t,e){const n=-jr(e/(fv*3));t.moveTo(0,n*2),t.lineTo(-fv*n,-n),t.lineTo(fv*n,-n),t.closePath()}},Yn=-.5,Jn=jr(3)/2,v_=1/jr(12),eY=(v_/2+1)*3,tY={draw(t,e){const n=jr(e/eY),r=n/2,i=n*v_,o=r,a=n*v_+n,s=-o,l=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,l),t.lineTo(Yn*r-Jn*i,Jn*r+Yn*i),t.lineTo(Yn*o-Jn*a,Jn*o+Yn*a),t.lineTo(Yn*s-Jn*l,Jn*s+Yn*l),t.lineTo(Yn*r+Jn*i,Yn*i-Jn*r),t.lineTo(Yn*o+Jn*a,Yn*a-Jn*o),t.lineTo(Yn*s+Jn*l,Yn*l-Jn*s),t.closePath()}};function nY(t,e){let n=null,r=Wx(i);t=typeof t=="function"?t:Ze(t||Kx),e=typeof e=="function"?e:Ze(e===void 0?64:+e);function i(){let o;if(n||(n=o=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),o)return n=null,o+""||null}return i.type=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(o),i):t},i.size=function(o){return arguments.length?(e=typeof o=="function"?o:Ze(+o),i):e},i.context=function(o){return arguments.length?(n=o??null,i):n},i}function Pp(){}function kp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function oM(t){this._context=t}oM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:kp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function rY(t){return new oM(t)}function aM(t){this._context=t}aM.prototype={areaStart:Pp,areaEnd:Pp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function iY(t){return new aM(t)}function sM(t){this._context=t}sM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:kp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function oY(t){return new sM(t)}function lM(t){this._context=t}lM.prototype={areaStart:Pp,areaEnd:Pp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function aY(t){return new lM(t)}function aA(t){return t<0?-1:1}function sA(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(aA(o)+aA(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function lA(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function dv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function Op(t){this._context=t}Op.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:dv(this,this._t0,lA(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,dv(this,lA(this,n=sA(this,t,e)),n);break;default:dv(this,this._t0,n=sA(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function uM(t){this._context=new cM(t)}(uM.prototype=Object.create(Op.prototype)).point=function(t,e){Op.prototype.point.call(this,e,t)};function cM(t){this._context=t}cM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function sY(t){return new Op(t)}function lY(t){return new uM(t)}function fM(t){this._context=t}fM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=uA(t),i=uA(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function uA(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function uY(t){return new fM(t)}function jg(t,e){this._context=t,this._t=e}jg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function cY(t){return new jg(t,.5)}function fY(t){return new jg(t,0)}function dY(t){return new jg(t,1)}function hl(t,e){if((a=t.length)>1)for(var n=1,r,i,o=t[e[0]],a,s=o.length;n<a;++n)for(i=o,o=t[e[n]],r=0;r<s;++r)o[r][1]+=o[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function __(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function hY(t,e){return t[e]}function pY(t){const e=[];return e.key=t,e}function mY(){var t=Ze([]),e=__,n=hl,r=hY;function i(o){var a=Array.from(t.apply(this,arguments),pY),s,l=a.length,u=-1,c;for(const f of o)for(s=0,++u;s<l;++s)(a[s][u]=[0,+r(f,a[s].key,u,o)]).data=f;for(s=0,c=Hx(e(a));s<l;++s)a[c[s]].index=s;return n(a,c),a}return i.keys=function(o){return arguments.length?(t=typeof o=="function"?o:Ze(Array.from(o)),i):t},i.value=function(o){return arguments.length?(r=typeof o=="function"?o:Ze(+o),i):r},i.order=function(o){return arguments.length?(e=o==null?__:typeof o=="function"?o:Ze(Array.from(o)),i):e},i.offset=function(o){return arguments.length?(n=o??hl,i):n},i}function gY(t,e){if((r=t.length)>0){for(var n,r,i=0,o=t[0].length,a;i<o;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}hl(t,e)}}function yY(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,o=r.length;n<o;++n){for(var a=0,s=0;a<i;++a)s+=t[a][n][1]||0;r[n][1]+=r[n][0]=-s/2}hl(t,e)}}function vY(t,e){if(!(!((a=t.length)>0)||!((o=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,o,a;r<o;++r){for(var s=0,l=0,u=0;s<a;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,p=(f-h)/2,b=0;b<s;++b){var y=t[e[b]],_=y[r][1]||0,E=y[r-1][1]||0;p+=_-E}l+=f,u+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,hl(t,e)}}function Yc(t){"@babel/helpers - typeof";return Yc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yc(t)}var _Y=["type","size","sizeType"];function b_(){return b_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b_.apply(this,arguments)}function cA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cA(Object(n),!0).forEach(function(r){bY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bY(t,e,n){return e=wY(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wY(t){var e=xY(t,"string");return Yc(e)=="symbol"?e:e+""}function xY(t,e){if(Yc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function EY(t,e){if(t==null)return{};var n=TY(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TY(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var dM={symbolCircle:Kx,symbolCross:WX,symbolDiamond:KX,symbolSquare:GX,symbolStar:JX,symbolTriangle:ZX,symbolWye:tY},SY=Math.PI/180,IY=function(e){var n="symbol".concat(Cg(e));return dM[n]||Kx},AY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*SY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},PY=function(e,n){dM["symbol".concat(Cg(e))]=n},Gx=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,o=i===void 0?64:i,a=e.sizeType,s=a===void 0?"area":a,l=EY(e,_Y),u=fA(fA({},l),{},{type:r,size:o,sizeType:s}),c=function(){var _=IY(r),E=nY().type(_).size(AY(o,s,r));return E()},f=u.className,h=u.cx,p=u.cy,b=Me(u,!0);return h===+h&&p===+p&&o===+o?M.createElement("path",b_({},b,{className:Fe("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(p,")"),d:c()})):null};Gx.registerSymbol=PY;function pl(t){"@babel/helpers - typeof";return pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pl(t)}function w_(){return w_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w_.apply(this,arguments)}function dA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dA(Object(n),!0).forEach(function(r){Jc(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function OY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,pM(r.key),r)}}function NY(t,e,n){return e&&CY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function RY(t,e,n){return e=Cp(e),jY(t,hM()?Reflect.construct(e,n||[],Cp(t).constructor):e.apply(t,n))}function jY(t,e){if(e&&(pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return DY(t)}function DY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hM=function(){return!!t})()}function Cp(t){return Cp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Cp(t)}function MY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x_(t,e)}function x_(t,e){return x_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},x_(t,e)}function Jc(t,e,n){return e=pM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pM(t){var e=$Y(t,"string");return pl(e)=="symbol"?e:e+""}function $Y(t,e){if(pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Zn=32,Qx=function(t){function e(){return OY(this,e),RY(this,e,arguments)}return MY(e,t),NY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,o=Zn/2,a=Zn/6,s=Zn/3,l=r.inactive?i:r.color;if(r.type==="plainline")return M.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:o,x2:Zn,y2:o,className:"recharts-legend-icon"});if(r.type==="line")return M.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(o,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(o,`
            H`).concat(Zn,"M").concat(2*s,",").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(o),className:"recharts-legend-icon"});if(r.type==="rect")return M.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Zn/8,"h").concat(Zn,"v").concat(Zn*3/4,"h").concat(-Zn,"z"),className:"recharts-legend-icon"});if(M.isValidElement(r.legendIcon)){var u=kY({},r);return delete u.legendIcon,M.cloneElement(r.legendIcon,u)}return M.createElement(Gx,{fill:l,cx:o,cy:o,size:Zn,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,o=i.payload,a=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Zn,height:Zn},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return o.map(function(p,b){var y=p.formatter||l,_=Fe(Jc(Jc({"recharts-legend-item":!0},"legend-item-".concat(b),!0),"inactive",p.inactive));if(p.type==="none")return null;var E=Oe(p.value)?null:p.value;bi(!Oe(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?u:p.color;return M.createElement("li",w_({className:_,style:f,key:"legend-item-".concat(b)},Sp(r.props,p,b)),M.createElement(d_,{width:a,height:a,viewBox:c,style:h},r.renderIcon(p)),M.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(E,p,b):E))})}},{key:"render",value:function(){var r=this.props,i=r.payload,o=r.layout,a=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:o==="horizontal"?a:"left"};return M.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(D.PureComponent);Jc(Qx,"displayName","Legend");Jc(Qx,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var LY=yg;function VY(){this.__data__=new LY,this.size=0}var FY=VY;function BY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var UY=BY;function zY(t){return this.__data__.get(t)}var qY=zY;function WY(t){return this.__data__.has(t)}var HY=WY,KY=yg,GY=Mx,QY=$x,XY=200;function YY(t,e){var n=this.__data__;if(n instanceof KY){var r=n.__data__;if(!GY||r.length<XY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new QY(r)}return n.set(t,e),this.size=n.size,this}var JY=YY,ZY=yg,eJ=FY,tJ=UY,nJ=qY,rJ=HY,iJ=JY;function Yl(t){var e=this.__data__=new ZY(t);this.size=e.size}Yl.prototype.clear=eJ;Yl.prototype.delete=tJ;Yl.prototype.get=nJ;Yl.prototype.has=rJ;Yl.prototype.set=iJ;var mM=Yl,oJ="__lodash_hash_undefined__";function aJ(t){return this.__data__.set(t,oJ),this}var sJ=aJ;function lJ(t){return this.__data__.has(t)}var uJ=lJ,cJ=$x,fJ=sJ,dJ=uJ;function Np(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new cJ;++e<n;)this.add(t[e])}Np.prototype.add=Np.prototype.push=fJ;Np.prototype.has=dJ;var gM=Np;function hJ(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var yM=hJ;function pJ(t,e){return t.has(e)}var vM=pJ,mJ=gM,gJ=yM,yJ=vM,vJ=1,_J=2;function bJ(t,e,n,r,i,o){var a=n&vJ,s=t.length,l=e.length;if(s!=l&&!(a&&l>s))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&_J?new mJ:void 0;for(o.set(t,e),o.set(e,t);++f<s;){var b=t[f],y=e[f];if(r)var _=a?r(y,b,f,e,t,o):r(b,y,f,t,e,o);if(_!==void 0){if(_)continue;h=!1;break}if(p){if(!gJ(e,function(E,w){if(!yJ(p,w)&&(b===E||i(b,E,n,r,o)))return p.push(w)})){h=!1;break}}else if(!(b===y||i(b,y,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var _M=bJ,wJ=ei,xJ=wJ.Uint8Array,EJ=xJ;function TJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var SJ=TJ;function IJ(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var Xx=IJ,hA=Yf,pA=EJ,AJ=Dx,PJ=_M,kJ=SJ,OJ=Xx,CJ=1,NJ=2,RJ="[object Boolean]",jJ="[object Date]",DJ="[object Error]",MJ="[object Map]",$J="[object Number]",LJ="[object RegExp]",VJ="[object Set]",FJ="[object String]",BJ="[object Symbol]",UJ="[object ArrayBuffer]",zJ="[object DataView]",mA=hA?hA.prototype:void 0,hv=mA?mA.valueOf:void 0;function qJ(t,e,n,r,i,o,a){switch(n){case zJ:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case UJ:return!(t.byteLength!=e.byteLength||!o(new pA(t),new pA(e)));case RJ:case jJ:case $J:return AJ(+t,+e);case DJ:return t.name==e.name&&t.message==e.message;case LJ:case FJ:return t==e+"";case MJ:var s=kJ;case VJ:var l=r&CJ;if(s||(s=OJ),t.size!=e.size&&!l)return!1;var u=a.get(t);if(u)return u==e;r|=NJ,a.set(t,e);var c=PJ(s(t),s(e),r,i,o,a);return a.delete(t),c;case BJ:if(hv)return hv.call(t)==hv.call(e)}return!1}var WJ=qJ;function HJ(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var bM=HJ,KJ=bM,GJ=Dn;function QJ(t,e,n){var r=e(t);return GJ(t)?r:KJ(r,n(t))}var XJ=QJ;function YJ(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}var JJ=YJ;function ZJ(){return[]}var eZ=ZJ,tZ=JJ,nZ=eZ,rZ=Object.prototype,iZ=rZ.propertyIsEnumerable,gA=Object.getOwnPropertySymbols,oZ=gA?function(t){return t==null?[]:(t=Object(t),tZ(gA(t),function(e){return iZ.call(t,e)}))}:nZ,aZ=oZ;function sZ(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var lZ=sZ,uZ=Di,cZ=Mi,fZ="[object Arguments]";function dZ(t){return cZ(t)&&uZ(t)==fZ}var hZ=dZ,yA=hZ,pZ=Mi,wM=Object.prototype,mZ=wM.hasOwnProperty,gZ=wM.propertyIsEnumerable,yZ=yA(function(){return arguments}())?yA:function(t){return pZ(t)&&mZ.call(t,"callee")&&!gZ.call(t,"callee")},Yx=yZ,Rp={exports:{}};function vZ(){return!1}var _Z=vZ;Rp.exports;(function(t,e){var n=ei,r=_Z,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Rp,Rp.exports);var xM=Rp.exports,bZ=9007199254740991,wZ=/^(?:0|[1-9]\d*)$/;function xZ(t,e){var n=typeof t;return e=e??bZ,!!e&&(n=="number"||n!="symbol"&&wZ.test(t))&&t>-1&&t%1==0&&t<e}var Jx=xZ,EZ=9007199254740991;function TZ(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=EZ}var Zx=TZ,SZ=Di,IZ=Zx,AZ=Mi,PZ="[object Arguments]",kZ="[object Array]",OZ="[object Boolean]",CZ="[object Date]",NZ="[object Error]",RZ="[object Function]",jZ="[object Map]",DZ="[object Number]",MZ="[object Object]",$Z="[object RegExp]",LZ="[object Set]",VZ="[object String]",FZ="[object WeakMap]",BZ="[object ArrayBuffer]",UZ="[object DataView]",zZ="[object Float32Array]",qZ="[object Float64Array]",WZ="[object Int8Array]",HZ="[object Int16Array]",KZ="[object Int32Array]",GZ="[object Uint8Array]",QZ="[object Uint8ClampedArray]",XZ="[object Uint16Array]",YZ="[object Uint32Array]",it={};it[zZ]=it[qZ]=it[WZ]=it[HZ]=it[KZ]=it[GZ]=it[QZ]=it[XZ]=it[YZ]=!0;it[PZ]=it[kZ]=it[BZ]=it[OZ]=it[UZ]=it[CZ]=it[NZ]=it[RZ]=it[jZ]=it[DZ]=it[MZ]=it[$Z]=it[LZ]=it[VZ]=it[FZ]=!1;function JZ(t){return AZ(t)&&IZ(t.length)&&!!it[SZ(t)]}var ZZ=JZ;function eee(t){return function(e){return t(e)}}var EM=eee,jp={exports:{}};jp.exports;(function(t,e){var n=OD,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,a=o&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=s})(jp,jp.exports);var tee=jp.exports,nee=ZZ,ree=EM,vA=tee,_A=vA&&vA.isTypedArray,iee=_A?ree(_A):nee,TM=iee,oee=lZ,aee=Yx,see=Dn,lee=xM,uee=Jx,cee=TM,fee=Object.prototype,dee=fee.hasOwnProperty;function hee(t,e){var n=see(t),r=!n&&aee(t),i=!n&&!r&&lee(t),o=!n&&!r&&!i&&cee(t),a=n||r||i||o,s=a?oee(t.length,String):[],l=s.length;for(var u in t)(e||dee.call(t,u))&&!(a&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||uee(u,l)))&&s.push(u);return s}var pee=hee,mee=Object.prototype;function gee(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||mee;return t===n}var yee=gee;function vee(t,e){return function(n){return t(e(n))}}var SM=vee,_ee=SM,bee=_ee(Object.keys,Object),wee=bee,xee=yee,Eee=wee,Tee=Object.prototype,See=Tee.hasOwnProperty;function Iee(t){if(!xee(t))return Eee(t);var e=[];for(var n in Object(t))See.call(t,n)&&n!="constructor"&&e.push(n);return e}var Aee=Iee,Pee=jx,kee=Zx;function Oee(t){return t!=null&&kee(t.length)&&!Pee(t)}var ed=Oee,Cee=pee,Nee=Aee,Ree=ed;function jee(t){return Ree(t)?Cee(t):Nee(t)}var Dg=jee,Dee=XJ,Mee=aZ,$ee=Dg;function Lee(t){return Dee(t,$ee,Mee)}var Vee=Lee,bA=Vee,Fee=1,Bee=Object.prototype,Uee=Bee.hasOwnProperty;function zee(t,e,n,r,i,o){var a=n&Fee,s=bA(t),l=s.length,u=bA(e),c=u.length;if(l!=c&&!a)return!1;for(var f=l;f--;){var h=s[f];if(!(a?h in e:Uee.call(e,h)))return!1}var p=o.get(t),b=o.get(e);if(p&&b)return p==e&&b==t;var y=!0;o.set(t,e),o.set(e,t);for(var _=a;++f<l;){h=s[f];var E=t[h],w=e[h];if(r)var T=a?r(w,E,h,e,t,o):r(E,w,h,t,e,o);if(!(T===void 0?E===w||i(E,w,n,r,o):T)){y=!1;break}_||(_=h=="constructor")}if(y&&!_){var I=t.constructor,P=e.constructor;I!=P&&"constructor"in t&&"constructor"in e&&!(typeof I=="function"&&I instanceof I&&typeof P=="function"&&P instanceof P)&&(y=!1)}return o.delete(t),o.delete(e),y}var qee=zee,Wee=es,Hee=ei,Kee=Wee(Hee,"DataView"),Gee=Kee,Qee=es,Xee=ei,Yee=Qee(Xee,"Promise"),Jee=Yee,Zee=es,ete=ei,tte=Zee(ete,"Set"),IM=tte,nte=es,rte=ei,ite=nte(rte,"WeakMap"),ote=ite,E_=Gee,T_=Mx,S_=Jee,I_=IM,A_=ote,AM=Di,Jl=ND,wA="[object Map]",ate="[object Object]",xA="[object Promise]",EA="[object Set]",TA="[object WeakMap]",SA="[object DataView]",ste=Jl(E_),lte=Jl(T_),ute=Jl(S_),cte=Jl(I_),fte=Jl(A_),na=AM;(E_&&na(new E_(new ArrayBuffer(1)))!=SA||T_&&na(new T_)!=wA||S_&&na(S_.resolve())!=xA||I_&&na(new I_)!=EA||A_&&na(new A_)!=TA)&&(na=function(t){var e=AM(t),n=e==ate?t.constructor:void 0,r=n?Jl(n):"";if(r)switch(r){case ste:return SA;case lte:return wA;case ute:return xA;case cte:return EA;case fte:return TA}return e});var dte=na,pv=mM,hte=_M,pte=WJ,mte=qee,IA=dte,AA=Dn,PA=xM,gte=TM,yte=1,kA="[object Arguments]",OA="[object Array]",Kd="[object Object]",vte=Object.prototype,CA=vte.hasOwnProperty;function _te(t,e,n,r,i,o){var a=AA(t),s=AA(e),l=a?OA:IA(t),u=s?OA:IA(e);l=l==kA?Kd:l,u=u==kA?Kd:u;var c=l==Kd,f=u==Kd,h=l==u;if(h&&PA(t)){if(!PA(e))return!1;a=!0,c=!1}if(h&&!c)return o||(o=new pv),a||gte(t)?hte(t,e,n,r,i,o):pte(t,e,l,n,r,i,o);if(!(n&yte)){var p=c&&CA.call(t,"__wrapped__"),b=f&&CA.call(e,"__wrapped__");if(p||b){var y=p?t.value():t,_=b?e.value():e;return o||(o=new pv),i(y,_,n,r,o)}}return h?(o||(o=new pv),mte(t,e,n,r,i,o)):!1}var bte=_te,wte=bte,NA=Mi;function PM(t,e,n,r,i){return t===e?!0:t==null||e==null||!NA(t)&&!NA(e)?t!==t&&e!==e:wte(t,e,n,r,PM,i)}var e1=PM,xte=mM,Ete=e1,Tte=1,Ste=2;function Ite(t,e,n,r){var i=n.length,o=i,a=!r;if(t==null)return!o;for(t=Object(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var l=s[0],u=t[l],c=s[1];if(a&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new xte;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?Ete(c,u,Tte|Ste,r,f):h))return!1}}return!0}var Ate=Ite,Pte=Vo;function kte(t){return t===t&&!Pte(t)}var kM=kte,Ote=kM,Cte=Dg;function Nte(t){for(var e=Cte(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,Ote(i)]}return e}var Rte=Nte;function jte(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var OM=jte,Dte=Ate,Mte=Rte,$te=OM;function Lte(t){var e=Mte(t);return e.length==1&&e[0][2]?$te(e[0][0],e[0][1]):function(n){return n===t||Dte(n,t,e)}}var Vte=Lte;function Fte(t,e){return t!=null&&e in Object(t)}var Bte=Fte,Ute=$D,zte=Yx,qte=Dn,Wte=Jx,Hte=Zx,Kte=_g;function Gte(t,e,n){e=Ute(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Kte(e[r]);if(!(o=t!=null&&n(t,a)))break;t=t[a]}return o||++r!=i?o:(i=t==null?0:t.length,!!i&&Hte(i)&&Wte(a,i)&&(qte(t)||zte(t)))}var Qte=Gte,Xte=Bte,Yte=Qte;function Jte(t,e){return t!=null&&Yte(t,e,Xte)}var Zte=Jte,ene=e1,tne=LD,nne=Zte,rne=Rx,ine=kM,one=OM,ane=_g,sne=1,lne=2;function une(t,e){return rne(t)&&ine(e)?one(ane(t),e):function(n){var r=tne(n,t);return r===void 0&&r===e?nne(n,t):ene(e,r,sne|lne)}}var cne=une;function fne(t){return t}var Zl=fne;function dne(t){return function(e){return e?.[t]}}var hne=dne,pne=Fx;function mne(t){return function(e){return pne(e,t)}}var gne=mne,yne=hne,vne=gne,_ne=Rx,bne=_g;function wne(t){return _ne(t)?yne(bne(t)):vne(t)}var xne=wne,Ene=Vte,Tne=cne,Sne=Zl,Ine=Dn,Ane=xne;function Pne(t){return typeof t=="function"?t:t==null?Sne:typeof t=="object"?Ine(t)?Tne(t[0],t[1]):Ene(t):Ane(t)}var Fo=Pne;function kne(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}var CM=kne;function One(t){return t!==t}var Cne=One;function Nne(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Rne=Nne,jne=CM,Dne=Cne,Mne=Rne;function $ne(t,e,n){return e===e?Mne(t,e,n):jne(t,Dne,n)}var Lne=$ne,Vne=Lne;function Fne(t,e){var n=t==null?0:t.length;return!!n&&Vne(t,e,0)>-1}var Bne=Fne;function Une(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var zne=Une;function qne(){}var Wne=qne,mv=IM,Hne=Wne,Kne=Xx,Gne=1/0,Qne=mv&&1/Kne(new mv([,-0]))[1]==Gne?function(t){return new mv(t)}:Hne,Xne=Qne,Yne=gM,Jne=Bne,Zne=zne,ere=vM,tre=Xne,nre=Xx,rre=200;function ire(t,e,n){var r=-1,i=Jne,o=t.length,a=!0,s=[],l=s;if(n)a=!1,i=Zne;else if(o>=rre){var u=e?null:tre(t);if(u)return nre(u);a=!1,i=ere,l=new Yne}else l=e?[]:s;e:for(;++r<o;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,a&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var ore=ire,are=Fo,sre=ore;function lre(t,e){return t&&t.length?sre(t,are(e)):[]}var ure=lre;const RA=Ge(ure);function NM(t,e,n){return e===!0?RA(t,n):Oe(e)?RA(t,e):t}function ml(t){"@babel/helpers - typeof";return ml=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ml(t)}var cre=["ref"];function jA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ri(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jA(Object(n),!0).forEach(function(r){Mg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fre(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DA(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jM(r.key),r)}}function dre(t,e,n){return e&&DA(t.prototype,e),n&&DA(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function hre(t,e,n){return e=Dp(e),pre(t,RM()?Reflect.construct(e,n||[],Dp(t).constructor):e.apply(t,n))}function pre(t,e){if(e&&(ml(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mre(t)}function mre(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RM=function(){return!!t})()}function Dp(t){return Dp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Dp(t)}function gre(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&P_(t,e)}function P_(t,e){return P_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},P_(t,e)}function Mg(t,e,n){return e=jM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jM(t){var e=yre(t,"string");return ml(e)=="symbol"?e:e+""}function yre(t,e){if(ml(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ml(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vre(t,e){if(t==null)return{};var n=_re(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function _re(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bre(t){return t.value}function wre(t,e){if(M.isValidElement(t))return M.cloneElement(t,e);if(typeof t=="function")return M.createElement(t,e);e.ref;var n=vre(e,cre);return M.createElement(Qx,n)}var MA=1,Gs=function(t){function e(){var n;fre(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=hre(this,e,[].concat(i)),Mg(n,"lastBoundingBox",{width:-1,height:-1}),n}return gre(e,t),dre(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>MA||Math.abs(i.height-this.lastBoundingBox.height)>MA)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ri({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,o=i.layout,a=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&o==="vertical"){var p=this.getBBoxSnapshot();f={left:((u||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var b=this.getBBoxSnapshot();h={top:((c||0)-b.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ri(ri({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,o=i.content,a=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ri(ri({position:"absolute",width:a||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return M.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},wre(o,ri(ri({},this.props),{},{payload:NM(c,u,bre)})))}}],[{key:"getWithHeight",value:function(r,i){var o=ri(ri({},this.defaultProps),r.props),a=o.layout;return a==="vertical"&&ie(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(D.PureComponent);Mg(Gs,"displayName","Legend");Mg(Gs,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var $A=Yf,xre=Yx,Ere=Dn,LA=$A?$A.isConcatSpreadable:void 0;function Tre(t){return Ere(t)||xre(t)||!!(LA&&t&&t[LA])}var Sre=Tre,Ire=bM,Are=Sre;function DM(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=Are),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?DM(s,e-1,n,r,i):Ire(i,s):r||(i[i.length]=s)}return i}var MM=DM;function Pre(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var l=a[t?s:++i];if(n(o[l],l,o)===!1)break}return e}}var kre=Pre,Ore=kre,Cre=Ore(),Nre=Cre,Rre=Nre,jre=Dg;function Dre(t,e){return t&&Rre(t,e,jre)}var $M=Dre,Mre=ed;function $re(t,e){return function(n,r){if(n==null)return n;if(!Mre(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=Object(n);(e?o--:++o<i)&&r(a[o],o,a)!==!1;);return n}}var Lre=$re,Vre=$M,Fre=Lre,Bre=Fre(Vre),t1=Bre,Ure=t1,zre=ed;function qre(t,e){var n=-1,r=zre(t)?Array(t.length):[];return Ure(t,function(i,o,a){r[++n]=e(i,o,a)}),r}var LM=qre;function Wre(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var Hre=Wre,VA=Hl;function Kre(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,o=VA(t),a=e!==void 0,s=e===null,l=e===e,u=VA(e);if(!s&&!u&&!o&&t>e||o&&a&&l&&!s&&!u||r&&a&&l||!n&&l||!i)return 1;if(!r&&!o&&!u&&t<e||u&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!l)return-1}return 0}var Gre=Kre,Qre=Gre;function Xre(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var l=Qre(i[r],o[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Yre=Xre,gv=Vx,Jre=Fx,Zre=Fo,eie=LM,tie=Hre,nie=EM,rie=Yre,iie=Zl,oie=Dn;function aie(t,e,n){e.length?e=gv(e,function(o){return oie(o)?function(a){return Jre(a,o.length===1?o[0]:o)}:o}):e=[iie];var r=-1;e=gv(e,nie(Zre));var i=eie(t,function(o,a,s){var l=gv(e,function(u){return u(o)});return{criteria:l,index:++r,value:o}});return tie(i,function(o,a){return rie(o,a,n)})}var sie=aie;function lie(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var uie=lie,cie=uie,FA=Math.max;function fie(t,e,n){return e=FA(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,o=FA(r.length-e,0),a=Array(o);++i<o;)a[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(a),cie(t,this,s)}}var die=fie;function hie(t){return function(){return t}}var pie=hie,mie=es,gie=function(){try{var t=mie(Object,"defineProperty");return t({},"",{}),t}catch{}}(),VM=gie,yie=pie,BA=VM,vie=Zl,_ie=BA?function(t,e){return BA(t,"toString",{configurable:!0,enumerable:!1,value:yie(e),writable:!0})}:vie,bie=_ie,wie=800,xie=16,Eie=Date.now;function Tie(t){var e=0,n=0;return function(){var r=Eie(),i=xie-(r-n);if(n=r,i>0){if(++e>=wie)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var Sie=Tie,Iie=bie,Aie=Sie,Pie=Aie(Iie),kie=Pie,Oie=Zl,Cie=die,Nie=kie;function Rie(t,e){return Nie(Cie(t,e,Oie),t+"")}var jie=Rie,Die=Dx,Mie=ed,$ie=Jx,Lie=Vo;function Vie(t,e,n){if(!Lie(n))return!1;var r=typeof e;return(r=="number"?Mie(n)&&$ie(e,n.length):r=="string"&&e in n)?Die(n[e],t):!1}var $g=Vie,Fie=MM,Bie=sie,Uie=jie,UA=$g,zie=Uie(function(t,e){if(t==null)return[];var n=e.length;return n>1&&UA(t,e[0],e[1])?e=[]:n>2&&UA(e[0],e[1],e[2])&&(e=[e[0]]),Bie(t,Fie(e,1),[])}),qie=zie;const n1=Ge(qie);function Zc(t){"@babel/helpers - typeof";return Zc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zc(t)}function k_(){return k_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},k_.apply(this,arguments)}function Wie(t,e){return Qie(t)||Gie(t,e)||Kie(t,e)||Hie()}function Hie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kie(t,e){if(t){if(typeof t=="string")return zA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zA(t,e)}}function zA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Gie(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Qie(t){if(Array.isArray(t))return t}function qA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qA(Object(n),!0).forEach(function(r){Xie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xie(t,e,n){return e=Yie(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yie(t){var e=Jie(t,"string");return Zc(e)=="symbol"?e:e+""}function Jie(t,e){if(Zc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zie(t){return Array.isArray(t)&&Dt(t[0])&&Dt(t[1])?t.join(" ~ "):t}var eoe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,o=i===void 0?{}:i,a=e.itemStyle,s=a===void 0?{}:a,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,p=e.wrapperClassName,b=e.labelClassName,y=e.label,_=e.labelFormatter,E=e.accessibilityLayer,w=E===void 0?!1:E,T=function(){if(c&&c.length){var R={padding:0,margin:0},N=(h?n1(c,h):c).map(function(V,K){if(V.type==="none")return null;var W=yv({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},s),F=V.formatter||f||Zie,$=V.value,U=V.name,Y=$,J=U;if(F&&Y!=null&&J!=null){var z=F($,U,V,K,c);if(Array.isArray(z)){var te=Wie(z,2);Y=te[0],J=te[1]}else Y=z}return M.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(K),style:W},Dt(J)?M.createElement("span",{className:"recharts-tooltip-item-name"},J):null,Dt(J)?M.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,M.createElement("span",{className:"recharts-tooltip-item-value"},Y),M.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return M.createElement("ul",{className:"recharts-tooltip-item-list",style:R},N)}return null},I=yv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},o),P=yv({margin:0},u),C=!Ve(y),S=C?y:"",g=Fe("recharts-default-tooltip",p),x=Fe("recharts-tooltip-label",b);C&&_&&c!==void 0&&c!==null&&(S=_(y,c));var k=w?{role:"status","aria-live":"assertive"}:{};return M.createElement("div",k_({className:g,style:I},k),M.createElement("p",{className:x,style:P},M.isValidElement(S)?S:"".concat(S)),T())};function ef(t){"@babel/helpers - typeof";return ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ef(t)}function Gd(t,e,n){return e=toe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function toe(t){var e=noe(t,"string");return ef(e)=="symbol"?e:e+""}function noe(t,e){if(ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nu="recharts-tooltip-wrapper",roe={visibility:"hidden"};function ioe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Fe(Nu,Gd(Gd(Gd(Gd({},"".concat(Nu,"-right"),ie(n)&&e&&ie(e.x)&&n>=e.x),"".concat(Nu,"-left"),ie(n)&&e&&ie(e.x)&&n<e.x),"".concat(Nu,"-bottom"),ie(r)&&e&&ie(e.y)&&r>=e.y),"".concat(Nu,"-top"),ie(r)&&e&&ie(e.y)&&r<e.y))}function WA(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,o=t.position,a=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(o&&ie(o[r]))return o[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return a[r]?c:f;if(a[r]){var h=c,p=l[r];return h<p?Math.max(f,l[r]):Math.max(c,l[r])}var b=f+s,y=l[r]+u;return b>y?Math.max(c,l[r]):Math.max(f,l[r])}function ooe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function aoe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,o=t.reverseDirection,a=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return a.height>0&&a.width>0&&n?(c=WA({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=WA({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:o,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=ooe({translateX:c,translateY:f,useTranslate3d:s})):u=roe,{cssProperties:u,cssClasses:ioe({translateX:c,translateY:f,coordinate:n})}}function gl(t){"@babel/helpers - typeof";return gl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gl(t)}function HA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function KA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HA(Object(n),!0).forEach(function(r){C_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function soe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function loe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BM(r.key),r)}}function uoe(t,e,n){return e&&loe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function coe(t,e,n){return e=Mp(e),foe(t,FM()?Reflect.construct(e,n||[],Mp(t).constructor):e.apply(t,n))}function foe(t,e){if(e&&(gl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return doe(t)}function doe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FM=function(){return!!t})()}function Mp(t){return Mp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Mp(t)}function hoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O_(t,e)}function O_(t,e){return O_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},O_(t,e)}function C_(t,e,n){return e=BM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BM(t){var e=poe(t,"string");return gl(e)=="symbol"?e:e+""}function poe(t,e){if(gl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var GA=1,moe=function(t){function e(){var n;soe(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=coe(this,e,[].concat(i)),C_(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),C_(n,"handleKeyDown",function(a){if(a.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return hoe(e,t),uoe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>GA||Math.abs(r.height-this.state.lastBoundingBox.height)>GA)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,p=i.offset,b=i.position,y=i.reverseDirection,_=i.useTranslate3d,E=i.viewBox,w=i.wrapperStyle,T=aoe({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:p,position:b,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:_,viewBox:E}),I=T.cssClasses,P=T.cssProperties,C=KA(KA({transition:h&&o?"transform ".concat(s,"ms ").concat(l):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&o&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return M.createElement("div",{tabIndex:-1,className:I,style:C,ref:function(g){r.wrapperNode=g}},u)}}])}(D.PureComponent),goe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},xo={isSsr:goe(),get:function(e){return xo[e]},set:function(e,n){if(typeof e=="string")xo[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){xo[i]=e[i]})}}};function yl(t){"@babel/helpers - typeof";return yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yl(t)}function QA(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QA(Object(n),!0).forEach(function(r){r1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QA(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yoe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function voe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,zM(r.key),r)}}function _oe(t,e,n){return e&&voe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function boe(t,e,n){return e=$p(e),woe(t,UM()?Reflect.construct(e,n||[],$p(t).constructor):e.apply(t,n))}function woe(t,e){if(e&&(yl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xoe(t)}function xoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function UM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UM=function(){return!!t})()}function $p(t){return $p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},$p(t)}function Eoe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N_(t,e)}function N_(t,e){return N_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},N_(t,e)}function r1(t,e,n){return e=zM(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zM(t){var e=Toe(t,"string");return yl(e)=="symbol"?e:e+""}function Toe(t,e){if(yl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Soe(t){return t.dataKey}function Ioe(t,e){return M.isValidElement(t)?M.cloneElement(t,e):typeof t=="function"?M.createElement(t,e):M.createElement(eoe,e)}var Lr=function(t){function e(){return yoe(this,e),boe(this,e,arguments)}return Eoe(e,t),_oe(e,[{key:"render",value:function(){var r=this,i=this.props,o=i.active,a=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,p=i.offset,b=i.payload,y=i.payloadUniqBy,_=i.position,E=i.reverseDirection,w=i.useTranslate3d,T=i.viewBox,I=i.wrapperStyle,P=b??[];f&&P.length&&(P=NM(b.filter(function(S){return S.value!=null&&(S.hide!==!0||r.props.includeHidden)}),y,Soe));var C=P.length>0;return M.createElement(moe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:l,isAnimationActive:h,active:o,coordinate:c,hasPayload:C,offset:p,position:_,reverseDirection:E,useTranslate3d:w,viewBox:T,wrapperStyle:I},Ioe(u,XA(XA({},this.props),{},{payload:P})))}}])}(D.PureComponent);r1(Lr,"displayName","Tooltip");r1(Lr,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!xo.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Aoe=ei,Poe=function(){return Aoe.Date.now()},koe=Poe,Ooe=/\s/;function Coe(t){for(var e=t.length;e--&&Ooe.test(t.charAt(e)););return e}var Noe=Coe,Roe=Noe,joe=/^\s+/;function Doe(t){return t&&t.slice(0,Roe(t)+1).replace(joe,"")}var Moe=Doe,$oe=Moe,YA=Vo,Loe=Hl,JA=NaN,Voe=/^[-+]0x[0-9a-f]+$/i,Foe=/^0b[01]+$/i,Boe=/^0o[0-7]+$/i,Uoe=parseInt;function zoe(t){if(typeof t=="number")return t;if(Loe(t))return JA;if(YA(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=YA(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=$oe(t);var n=Foe.test(t);return n||Boe.test(t)?Uoe(t.slice(2),n?2:8):Voe.test(t)?JA:+t}var qM=zoe,qoe=Vo,vv=koe,ZA=qM,Woe="Expected a function",Hoe=Math.max,Koe=Math.min;function Goe(t,e,n){var r,i,o,a,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(Woe);e=ZA(e)||0,qoe(n)&&(c=!!n.leading,f="maxWait"in n,o=f?Hoe(ZA(n.maxWait)||0,e):o,h="trailing"in n?!!n.trailing:h);function p(C){var S=r,g=i;return r=i=void 0,u=C,a=t.apply(g,S),a}function b(C){return u=C,s=setTimeout(E,e),c?p(C):a}function y(C){var S=C-l,g=C-u,x=e-S;return f?Koe(x,o-g):x}function _(C){var S=C-l,g=C-u;return l===void 0||S>=e||S<0||f&&g>=o}function E(){var C=vv();if(_(C))return w(C);s=setTimeout(E,y(C))}function w(C){return s=void 0,h&&r?p(C):(r=i=void 0,a)}function T(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function I(){return s===void 0?a:w(vv())}function P(){var C=vv(),S=_(C);if(r=arguments,i=this,l=C,S){if(s===void 0)return b(l);if(f)return clearTimeout(s),s=setTimeout(E,e),p(l)}return s===void 0&&(s=setTimeout(E,e)),a}return P.cancel=T,P.flush=I,P}var Qoe=Goe,Xoe=Qoe,Yoe=Vo,Joe="Expected a function";function Zoe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Joe);return Yoe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Xoe(t,e,{leading:r,maxWait:e,trailing:i})}var eae=Zoe;const WM=Ge(eae);function tf(t){"@babel/helpers - typeof";return tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tf(t)}function eP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eP(Object(n),!0).forEach(function(r){tae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tae(t,e,n){return e=nae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nae(t){var e=rae(t,"string");return tf(e)=="symbol"?e:e+""}function rae(t,e){if(tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iae(t,e){return lae(t)||sae(t,e)||aae(t,e)||oae()}function oae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aae(t,e){if(t){if(typeof t=="string")return tP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tP(t,e)}}function tP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function sae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function lae(t){if(Array.isArray(t))return t}var uae=D.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,o=t.width,a=o===void 0?"100%":o,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,p=t.children,b=t.debounce,y=b===void 0?0:b,_=t.id,E=t.className,w=t.onResize,T=t.style,I=T===void 0?{}:T,P=D.useRef(null),C=D.useRef();C.current=w,D.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var S=D.useState({containerWidth:i.width,containerHeight:i.height}),g=iae(S,2),x=g[0],k=g[1],O=D.useCallback(function(N,V){k(function(K){var W=Math.round(N),F=Math.round(V);return K.containerWidth===W&&K.containerHeight===F?K:{containerWidth:W,containerHeight:F}})},[]);D.useEffect(function(){var N=function(U){var Y,J=U[0].contentRect,z=J.width,te=J.height;O(z,te),(Y=C.current)===null||Y===void 0||Y.call(C,z,te)};y>0&&(N=WM(N,y,{trailing:!0,leading:!1}));var V=new ResizeObserver(N),K=P.current.getBoundingClientRect(),W=K.width,F=K.height;return O(W,F),V.observe(P.current),function(){V.disconnect()}},[O,y]);var R=D.useMemo(function(){var N=x.containerWidth,V=x.containerHeight;if(N<0||V<0)return null;bi(da(a)||da(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),bi(!n||n>0,"The aspect(%s) must be greater than zero.",n);var K=da(a)?N:a,W=da(l)?V:l;n&&n>0&&(K?W=K/n:W&&(K=W*n),h&&W>h&&(W=h)),bi(K>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,K,W,a,l,c,f,n);var F=!Array.isArray(p)&&_i(p.type).endsWith("Chart");return M.Children.map(p,function($){return BD.isElement($)?D.cloneElement($,Qd({width:K,height:W},F?{style:Qd({height:"100%",width:"100%",maxHeight:W,maxWidth:K},$.props.style)}:{})):$})},[n,p,l,h,f,c,x,a]);return M.createElement("div",{id:_?"".concat(_):void 0,className:Fe("recharts-responsive-container",E),style:Qd(Qd({},I),{},{width:a,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:P},R)}),HM=function(e){return null};HM.displayName="Cell";function nf(t){"@babel/helpers - typeof";return nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nf(t)}function nP(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function R_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nP(Object(n),!0).forEach(function(r){cae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nP(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cae(t,e,n){return e=fae(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fae(t){var e=dae(t,"string");return nf(e)=="symbol"?e:e+""}function dae(t,e){if(nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ps={widthCache:{},cacheCount:0},hae=2e3,pae={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},rP="recharts_measurement_span";function mae(t){var e=R_({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var mc=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||xo.isSsr)return{width:0,height:0};var r=mae(n),i=JSON.stringify({text:e,copyStyle:r});if(ps.widthCache[i])return ps.widthCache[i];try{var o=document.getElementById(rP);o||(o=document.createElement("span"),o.setAttribute("id",rP),o.setAttribute("aria-hidden","true"),document.body.appendChild(o));var a=R_(R_({},pae),r);Object.assign(o.style,a),o.textContent="".concat(e);var s=o.getBoundingClientRect(),l={width:s.width,height:s.height};return ps.widthCache[i]=l,++ps.cacheCount>hae&&(ps.cacheCount=0,ps.widthCache={}),l}catch{return{width:0,height:0}}},gae=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function Lp(t,e){return bae(t)||_ae(t,e)||vae(t,e)||yae()}function yae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vae(t,e){if(t){if(typeof t=="string")return iP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iP(t,e)}}function iP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function bae(t){if(Array.isArray(t))return t}function wae(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oP(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Eae(r.key),r)}}function xae(t,e,n){return e&&oP(t.prototype,e),n&&oP(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Eae(t){var e=Tae(t,"string");return rf(e)=="symbol"?e:e+""}function Tae(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var aP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,sP=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Sae=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Iae=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,KM={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Aae=Object.keys(KM),Ds="NaN";function Pae(t,e){return t*KM[e]}var Xd=function(){function t(e,n){wae(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!Sae.test(n)&&(this.num=NaN,this.unit=""),Aae.includes(n)&&(this.num=Pae(e,n),this.unit="px")}return xae(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=Iae.exec(n))!==null&&r!==void 0?r:[],o=Lp(i,3),a=o[1],s=o[2];return new t(parseFloat(a),s??"")}}])}();function GM(t){if(t.includes(Ds))return Ds;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=aP.exec(e))!==null&&n!==void 0?n:[],i=Lp(r,4),o=i[1],a=i[2],s=i[3],l=Xd.parse(o??""),u=Xd.parse(s??""),c=a==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Ds;e=e.replace(aP,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=sP.exec(e))!==null&&f!==void 0?f:[],p=Lp(h,4),b=p[1],y=p[2],_=p[3],E=Xd.parse(b??""),w=Xd.parse(_??""),T=y==="+"?E.add(w):E.subtract(w);if(T.isNaN())return Ds;e=e.replace(sP,T.toString())}return e}var lP=/\(([^()]*)\)/;function kae(t){for(var e=t;e.includes("(");){var n=lP.exec(e),r=Lp(n,2),i=r[1];e=e.replace(lP,GM(i))}return e}function Oae(t){var e=t.replace(/\s+/g,"");return e=kae(e),e=GM(e),e}function Cae(t){try{return Oae(t)}catch{return Ds}}function _v(t){var e=Cae(t.slice(5,-1));return e===Ds?"":e}var Nae=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Rae=["dx","dy","angle","className","breakAll"];function j_(){return j_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j_.apply(this,arguments)}function uP(t,e){if(t==null)return{};var n=jae(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jae(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function cP(t,e){return Lae(t)||$ae(t,e)||Mae(t,e)||Dae()}function Dae(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mae(t,e){if(t){if(typeof t=="string")return fP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fP(t,e)}}function fP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $ae(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Lae(t){if(Array.isArray(t))return t}var QM=/[ \f\n\r\t\v\u2028\u2029]+/,XM=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var o=[];Ve(n)||(r?o=n.toString().split(""):o=n.toString().split(QM));var a=o.map(function(l){return{word:l,width:mc(l,i).width}}),s=r?0:mc("",i).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}},Vae=function(e,n,r,i,o){var a=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=ie(a),f=s,h=function(){var K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return K.reduce(function(W,F){var $=F.word,U=F.width,Y=W[W.length-1];if(Y&&(i==null||o||Y.width+U+r<Number(i)))Y.words.push($),Y.width+=U+r;else{var J={words:[$],width:U};W.push(J)}return W},[])},p=h(n),b=function(K){return K.reduce(function(W,F){return W.width>F.width?W:F})};if(!c)return p;for(var y="",_=function(K){var W=f.slice(0,K),F=XM({breakAll:u,style:l,children:W+y}).wordsWithComputedWidth,$=h(F),U=$.length>a||b($).width>Number(i);return[U,$]},E=0,w=f.length-1,T=0,I;E<=w&&T<=f.length-1;){var P=Math.floor((E+w)/2),C=P-1,S=_(C),g=cP(S,2),x=g[0],k=g[1],O=_(P),R=cP(O,1),N=R[0];if(!x&&!N&&(E=P+1),x&&N&&(w=P-1),!x&&N){I=k;break}T++}return I||p},dP=function(e){var n=Ve(e)?[]:e.toString().split(QM);return[{words:n}]},Fae=function(e){var n=e.width,r=e.scaleToFit,i=e.children,o=e.style,a=e.breakAll,s=e.maxLines;if((n||r)&&!xo.isSsr){var l,u,c=XM({breakAll:a,children:i,style:o});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return dP(i);return Vae({breakAll:a,children:i,maxLines:s,style:o},l,u,n,r)}return dP(i)},hP="#808080",Vp=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.lineHeight,s=a===void 0?"1em":a,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,p=h===void 0?"start":h,b=e.verticalAnchor,y=b===void 0?"end":b,_=e.fill,E=_===void 0?hP:_,w=uP(e,Nae),T=D.useMemo(function(){return Fae({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),I=w.dx,P=w.dy,C=w.angle,S=w.className,g=w.breakAll,x=uP(w,Rae);if(!Dt(r)||!Dt(o))return null;var k=r+(ie(I)?I:0),O=o+(ie(P)?P:0),R;switch(y){case"start":R=_v("calc(".concat(u,")"));break;case"middle":R=_v("calc(".concat((T.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:R=_v("calc(".concat(T.length-1," * -").concat(s,")"));break}var N=[];if(f){var V=T[0].width,K=w.width;N.push("scale(".concat((ie(K)?K/V:1)/V,")"))}return C&&N.push("rotate(".concat(C,", ").concat(k,", ").concat(O,")")),N.length&&(x.transform=N.join(" ")),M.createElement("text",j_({},Me(x,!0),{x:k,y:O,className:Fe("recharts-text",S),textAnchor:p,fill:E.includes("url")?hP:E}),T.map(function(W,F){var $=W.words.join(g?"":" ");return M.createElement("tspan",{x:k,dy:F===0?R:s,key:"".concat($,"-").concat(F)},$)}))};function Eo(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bae(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function i1(t){let e,n,r;t.length!==2?(e=Eo,n=(s,l)=>Eo(t(s),l),r=(s,l)=>t(s)-l):(e=t===Eo||t===Bae?t:Uae,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:a,right:o}}function Uae(){return 0}function YM(t){return t===null?NaN:+t}function*zae(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const qae=i1(Eo),td=qae.right;i1(YM).center;class pP extends Map{constructor(e,n=Kae){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(mP(this,e))}has(e){return super.has(mP(this,e))}set(e,n){return super.set(Wae(this,e),n)}delete(e){return super.delete(Hae(this,e))}}function mP({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Wae({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Hae({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Kae(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Gae(t=Eo){if(t===Eo)return JM;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function JM(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Qae=Math.sqrt(50),Xae=Math.sqrt(10),Yae=Math.sqrt(2);function Fp(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Qae?10:o>=Xae?5:o>=Yae?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?Fp(t,e,n*2):[s,l,u]}function D_(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?Fp(e,t,n):Fp(t,e,n);if(!(o>=i))return[];const s=o-i+1,l=new Array(s);if(r)if(a<0)for(let u=0;u<s;++u)l[u]=(o-u)/-a;else for(let u=0;u<s;++u)l[u]=(o-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function M_(t,e,n){return e=+e,t=+t,n=+n,Fp(t,e,n)[2]}function $_(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?M_(e,t,n):M_(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function gP(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function yP(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ZM(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?JM:Gae(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),p=Math.max(n,Math.floor(e-u*f/l+h)),b=Math.min(r,Math.floor(e+(l-u)*f/l+h));ZM(t,e,p,b,i)}const o=t[e];let a=n,s=r;for(Ru(t,n,e),i(t[r],o)>0&&Ru(t,n,r);a<s;){for(Ru(t,a,s),++a,--s;i(t[a],o)<0;)++a;for(;i(t[s],o)>0;)--s}i(t[n],o)===0?Ru(t,n,s):(++s,Ru(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Ru(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Jae(t,e,n){if(t=Float64Array.from(zae(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return yP(t);if(e>=1)return gP(t);var r,i=(r-1)*e,o=Math.floor(i),a=gP(ZM(t,o).subarray(0,o+1)),s=yP(t.subarray(o+1));return a+(s-a)*(i-o)}}function Zae(t,e,n=YM){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),s=+n(t[o+1],o+1,t);return a+(s-a)*(i-o)}}function ese(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function pr(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $i(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const L_=Symbol("implicit");function o1(){var t=new pP,e=[],n=[],r=L_;function i(o){let a=t.get(o);if(a===void 0){if(r!==L_)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new pP;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return o1(e,n).unknown(r)},pr.apply(i,arguments),i}function of(){var t=o1().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,p=i<r,b=p?i:r,y=p?r:i;o=(y-b)/Math.max(1,h-l+u*2),s&&(o=Math.floor(o)),b+=(y-b-o*(h-l))*c,a=o*(1-l),s&&(b=Math.round(b),a=Math.round(a));var _=ese(h).map(function(E){return b+o*E});return n(p?_.reverse():_)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return of(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},pr.apply(f(),arguments)}function e$(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return e$(e())},t}function gc(){return e$(of.apply(null,arguments).paddingInner(1))}function a1(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function t$(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nd(){}var af=.7,Bp=1/af,Qs="\\s*([+-]?\\d+)\\s*",sf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",tse=/^#([0-9a-f]{3,8})$/,nse=new RegExp(`^rgb\\(${Qs},${Qs},${Qs}\\)$`),rse=new RegExp(`^rgb\\(${Gr},${Gr},${Gr}\\)$`),ise=new RegExp(`^rgba\\(${Qs},${Qs},${Qs},${sf}\\)$`),ose=new RegExp(`^rgba\\(${Gr},${Gr},${Gr},${sf}\\)$`),ase=new RegExp(`^hsl\\(${sf},${Gr},${Gr}\\)$`),sse=new RegExp(`^hsla\\(${sf},${Gr},${Gr},${sf}\\)$`),vP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};a1(nd,lf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_P,formatHex:_P,formatHex8:lse,formatHsl:use,formatRgb:bP,toString:bP});function _P(){return this.rgb().formatHex()}function lse(){return this.rgb().formatHex8()}function use(){return n$(this).formatHsl()}function bP(){return this.rgb().formatRgb()}function lf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=tse.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?wP(e):n===3?new On(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Yd(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Yd(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=nse.exec(t))?new On(e[1],e[2],e[3],1):(e=rse.exec(t))?new On(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ise.exec(t))?Yd(e[1],e[2],e[3],e[4]):(e=ose.exec(t))?Yd(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=ase.exec(t))?TP(e[1],e[2]/100,e[3]/100,1):(e=sse.exec(t))?TP(e[1],e[2]/100,e[3]/100,e[4]):vP.hasOwnProperty(t)?wP(vP[t]):t==="transparent"?new On(NaN,NaN,NaN,0):null}function wP(t){return new On(t>>16&255,t>>8&255,t&255,1)}function Yd(t,e,n,r){return r<=0&&(t=e=n=NaN),new On(t,e,n,r)}function cse(t){return t instanceof nd||(t=lf(t)),t?(t=t.rgb(),new On(t.r,t.g,t.b,t.opacity)):new On}function V_(t,e,n,r){return arguments.length===1?cse(t):new On(t,e,n,r??1)}function On(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}a1(On,V_,t$(nd,{brighter(t){return t=t==null?Bp:Math.pow(Bp,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new On(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new On(ba(this.r),ba(this.g),ba(this.b),Up(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:xP,formatHex:xP,formatHex8:fse,formatRgb:EP,toString:EP}));function xP(){return`#${ha(this.r)}${ha(this.g)}${ha(this.b)}`}function fse(){return`#${ha(this.r)}${ha(this.g)}${ha(this.b)}${ha((isNaN(this.opacity)?1:this.opacity)*255)}`}function EP(){const t=Up(this.opacity);return`${t===1?"rgb(":"rgba("}${ba(this.r)}, ${ba(this.g)}, ${ba(this.b)}${t===1?")":`, ${t})`}`}function Up(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ba(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ha(t){return t=ba(t),(t<16?"0":"")+t.toString(16)}function TP(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Tr(t,e,n,r)}function n$(t){if(t instanceof Tr)return new Tr(t.h,t.s,t.l,t.opacity);if(t instanceof nd||(t=lf(t)),!t)return new Tr;if(t instanceof Tr)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,l=(o+i)/2;return s?(e===o?a=(n-r)/s+(n<r)*6:n===o?a=(r-e)/s+2:a=(e-n)/s+4,s/=l<.5?o+i:2-o-i,a*=60):s=l>0&&l<1?0:a,new Tr(a,s,l,t.opacity)}function dse(t,e,n,r){return arguments.length===1?n$(t):new Tr(t,e,n,r??1)}function Tr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}a1(Tr,dse,t$(nd,{brighter(t){return t=t==null?Bp:Math.pow(Bp,t),new Tr(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?af:Math.pow(af,t),new Tr(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new On(bv(t>=240?t-240:t+120,i,r),bv(t,i,r),bv(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Tr(SP(this.h),Jd(this.s),Jd(this.l),Up(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Up(this.opacity);return`${t===1?"hsl(":"hsla("}${SP(this.h)}, ${Jd(this.s)*100}%, ${Jd(this.l)*100}%${t===1?")":`, ${t})`}`}}));function SP(t){return t=(t||0)%360,t<0?t+360:t}function Jd(t){return Math.max(0,Math.min(1,t||0))}function bv(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const s1=t=>()=>t;function hse(t,e){return function(n){return t+n*e}}function pse(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function mse(t){return(t=+t)==1?r$:function(e,n){return n-e?pse(e,n,t):s1(isNaN(e)?n:e)}}function r$(t,e){var n=e-t;return n?hse(t,n):s1(isNaN(t)?e:t)}const IP=function t(e){var n=mse(e);function r(i,o){var a=n((i=V_(i)).r,(o=V_(o)).r),s=n(i.g,o.g),l=n(i.b,o.b),u=r$(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function gse(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function yse(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function vse(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=eu(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(s){for(a=0;a<r;++a)o[a]=i[a](s);return o}}function _se(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function zp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function bse(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=eu(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var F_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wv=new RegExp(F_.source,"g");function wse(t){return function(){return t}}function xse(t){return function(e){return t(e)+""}}function Ese(t,e){var n=F_.lastIndex=wv.lastIndex=0,r,i,o,a=-1,s=[],l=[];for(t=t+"",e=e+"";(r=F_.exec(t))&&(i=wv.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),s[a]?s[a]+=o:s[++a]=o),(r=r[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:zp(r,i)})),n=wv.lastIndex;return n<e.length&&(o=e.slice(n),s[a]?s[a]+=o:s[++a]=o),s.length<2?l[0]?xse(l[0].x):wse(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function eu(t,e){var n=typeof e,r;return e==null||n==="boolean"?s1(e):(n==="number"?zp:n==="string"?(r=lf(e))?(e=r,IP):Ese:e instanceof lf?IP:e instanceof Date?_se:yse(e)?gse:Array.isArray(e)?vse:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?bse:zp)(t,e)}function l1(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Tse(t,e){e===void 0&&(e=t,t=eu);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var s=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[s](a-s)}}function Sse(t){return function(){return t}}function qp(t){return+t}var AP=[0,1];function _n(t){return t}function B_(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Sse(isNaN(e)?NaN:.5)}function Ise(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Ase(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=B_(i,r),o=n(a,o)):(r=B_(r,i),o=n(o,a)),function(s){return o(r(s))}}function Pse(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=B_(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(s){var l=td(t,s,1,r)-1;return o[l](i[l](s))}}function rd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Lg(){var t=AP,e=AP,n=eu,r,i,o,a=_n,s,l,u;function c(){var h=Math.min(t.length,e.length);return a!==_n&&(a=Ise(t[0],t[h-1])),s=h>2?Pse:Ase,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?o:(l||(l=s(t.map(r),e,n)))(r(a(h)))}return f.invert=function(h){return a(i((u||(u=s(e,t.map(r),zp)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,qp),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=l1,c()},f.clamp=function(h){return arguments.length?(a=h?!0:_n,c()):a!==_n},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(o=h,f):o},function(h,p){return r=h,i=p,c()}}function u1(){return Lg()(_n,_n)}function kse(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wp(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function vl(t){return t=Wp(Math.abs(t)),t?t[1]:NaN}function Ose(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),o.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function Cse(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Nse=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function uf(t){if(!(e=Nse.exec(t)))throw new Error("invalid format: "+t);var e;return new c1({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}uf.prototype=c1.prototype;function c1(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}c1.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rse(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var i$;function jse(t,e){var n=Wp(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(i$=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Wp(t,Math.max(0,e+o-1))[0]}function PP(t,e){var n=Wp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kP={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:kse,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>PP(t*100,e),r:PP,s:jse,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function OP(t){return t}var CP=Array.prototype.map,NP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Dse(t){var e=t.grouping===void 0||t.thousands===void 0?OP:Ose(CP.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?OP:Cse(CP.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=uf(f);var h=f.fill,p=f.align,b=f.sign,y=f.symbol,_=f.zero,E=f.width,w=f.comma,T=f.precision,I=f.trim,P=f.type;P==="n"?(w=!0,P="g"):kP[P]||(T===void 0&&(T=12),I=!0,P="g"),(_||h==="0"&&p==="=")&&(_=!0,h="0",p="=");var C=y==="$"?n:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",S=y==="$"?r:/[%p]/.test(P)?a:"",g=kP[P],x=/[defgprs%]/.test(P);T=T===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,T)):Math.max(0,Math.min(20,T));function k(O){var R=C,N=S,V,K,W;if(P==="c")N=g(O)+N,O="";else{O=+O;var F=O<0||1/O<0;if(O=isNaN(O)?l:g(Math.abs(O),T),I&&(O=Rse(O)),F&&+O==0&&b!=="+"&&(F=!1),R=(F?b==="("?b:s:b==="-"||b==="("?"":b)+R,N=(P==="s"?NP[8+i$/3]:"")+N+(F&&b==="("?")":""),x){for(V=-1,K=O.length;++V<K;)if(W=O.charCodeAt(V),48>W||W>57){N=(W===46?i+O.slice(V+1):O.slice(V))+N,O=O.slice(0,V);break}}}w&&!_&&(O=e(O,1/0));var $=R.length+O.length+N.length,U=$<E?new Array(E-$+1).join(h):"";switch(w&&_&&(O=e(U+O,U.length?E-N.length:1/0),U=""),p){case"<":O=R+O+N+U;break;case"=":O=R+U+O+N;break;case"^":O=U.slice(0,$=U.length>>1)+R+O+N+U.slice($);break;default:O=U+R+O+N;break}return o(O)}return k.toString=function(){return f+""},k}function c(f,h){var p=u((f=uf(f),f.type="f",f)),b=Math.max(-8,Math.min(8,Math.floor(vl(h)/3)))*3,y=Math.pow(10,-b),_=NP[8+b/3];return function(E){return p(y*E)+_}}return{format:u,formatPrefix:c}}var Zd,f1,o$;Mse({thousands:",",grouping:[3],currency:["$",""]});function Mse(t){return Zd=Dse(t),f1=Zd.format,o$=Zd.formatPrefix,Zd}function $se(t){return Math.max(0,-vl(Math.abs(t)))}function Lse(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(vl(e)/3)))*3-vl(Math.abs(t)))}function Vse(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,vl(e)-vl(t))+1}function a$(t,e,n,r){var i=$_(t,e,n),o;switch(r=uf(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Lse(i,a))&&(r.precision=o),o$(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Vse(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=$se(i))&&(r.precision=o-(r.type==="%")*2);break}}return f1(r)}function Bo(t){var e=t.domain;return t.ticks=function(n){var r=e();return D_(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return a$(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],s=r[o],l,u,c=10;for(s<a&&(u=a,a=s,s=u,u=i,i=o,o=u);c-- >0;){if(u=M_(a,s,n),u===l)return r[i]=a,r[o]=s,e(r);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function Hp(){var t=u1();return t.copy=function(){return rd(t,Hp())},pr.apply(t,arguments),Bo(t)}function s$(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,qp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return s$(t).unknown(e)},t=arguments.length?Array.from(t,qp):[0,1],Bo(n)}function l$(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function RP(t){return Math.log(t)}function jP(t){return Math.exp(t)}function Fse(t){return-Math.log(-t)}function Bse(t){return-Math.exp(-t)}function Use(t){return isFinite(t)?+("1e"+t):t<0?0:t}function zse(t){return t===10?Use:t===Math.E?Math.exp:e=>Math.pow(t,e)}function qse(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function DP(t){return(e,n)=>-t(-e,n)}function d1(t){const e=t(RP,jP),n=e.domain;let r=10,i,o;function a(){return i=qse(r),o=zse(r),n()[0]<0?(i=DP(i),o=DP(o),t(Fse,Bse)):t(RP,jP),e}return e.base=function(s){return arguments.length?(r=+s,a()):r},e.domain=function(s){return arguments.length?(n(s),a()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),p=i(c),b,y;const _=s==null?10:+s;let E=[];if(!(r%1)&&p-h<_){if(h=Math.floor(h),p=Math.ceil(p),u>0){for(;h<=p;++h)for(b=1;b<r;++b)if(y=h<0?b/o(-h):b*o(h),!(y<u)){if(y>c)break;E.push(y)}}else for(;h<=p;++h)for(b=r-1;b>=1;--b)if(y=h>0?b/o(-h):b*o(h),!(y<u)){if(y>c)break;E.push(y)}E.length*2<_&&(E=D_(u,c,_))}else E=D_(h,p,Math.min(p-h,_)).map(o);return f?E.reverse():E},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=uf(l)).precision==null&&(l.trim=!0),l=f1(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/o(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(l$(n(),{floor:s=>o(Math.floor(i(s))),ceil:s=>o(Math.ceil(i(s)))})),e}function u$(){const t=d1(Lg()).domain([1,10]);return t.copy=()=>rd(t,u$()).base(t.base()),pr.apply(t,arguments),t}function MP(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function $P(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function h1(t){var e=1,n=t(MP(e),$P(e));return n.constant=function(r){return arguments.length?t(MP(e=+r),$P(e)):e},Bo(n)}function c$(){var t=h1(Lg());return t.copy=function(){return rd(t,c$()).constant(t.constant())},pr.apply(t,arguments)}function LP(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Wse(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Hse(t){return t<0?-t*t:t*t}function p1(t){var e=t(_n,_n),n=1;function r(){return n===1?t(_n,_n):n===.5?t(Wse,Hse):t(LP(n),LP(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Bo(e)}function m1(){var t=p1(Lg());return t.copy=function(){return rd(t,m1()).exponent(t.exponent())},pr.apply(t,arguments),t}function Kse(){return m1.apply(null,arguments).exponent(.5)}function VP(t){return Math.sign(t)*t*t}function Gse(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function f$(){var t=u1(),e=[0,1],n=!1,r;function i(o){var a=Gse(t(o));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(o){return t.invert(VP(o))},i.domain=function(o){return arguments.length?(t.domain(o),i):t.domain()},i.range=function(o){return arguments.length?(t.range((e=Array.from(o,qp)).map(VP)),i):e.slice()},i.rangeRound=function(o){return i.range(o).round(!0)},i.round=function(o){return arguments.length?(n=!!o,i):n},i.clamp=function(o){return arguments.length?(t.clamp(o),i):t.clamp()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return f$(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pr.apply(i,arguments),Bo(i)}function d$(){var t=[],e=[],n=[],r;function i(){var a=0,s=Math.max(1,e.length);for(n=new Array(s-1);++a<s;)n[a-1]=Zae(t,a/s);return o}function o(a){return a==null||isNaN(a=+a)?r:e[td(n,a)]}return o.invertExtent=function(a){var s=e.indexOf(a);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let s of a)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Eo),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return d$().domain(t).range(e).unknown(r)},pr.apply(o,arguments)}function h$(){var t=0,e=1,n=1,r=[.5],i=[0,1],o;function a(l){return l!=null&&l<=l?i[td(r,l,0,n)]:o}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},a.unknown=function(l){return arguments.length&&(o=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return h$().domain([t,e]).range(i).unknown(o)},pr.apply(Bo(a),arguments)}function p$(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[td(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return p$().domain(t).range(e).unknown(n)},pr.apply(i,arguments)}const xv=new Date,Ev=new Date;function Lt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),s=i.ceil(o);return o-a<s-o?a:s},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,s)=>{const l=[];if(o=i.ceil(o),s=s==null?1:Math.floor(s),!(o<a)||!(s>0))return l;let u;do l.push(u=new Date(+o)),e(o,s),t(o);while(u<o&&o<a);return l},i.filter=o=>Lt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,s)=>{if(a>=a)if(s<0)for(;++s<=0;)for(;e(a,-1),!o(a););else for(;--s>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(xv.setTime(+o),Ev.setTime(+a),t(xv),t(Ev),Math.floor(n(xv,Ev))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Kp=Lt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Lt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Kp);Kp.range;const di=1e3,ir=di*60,hi=ir*60,ki=hi*24,g1=ki*7,FP=ki*30,Tv=ki*365,pa=Lt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*di)},(t,e)=>(e-t)/di,t=>t.getUTCSeconds());pa.range;const y1=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*di)},(t,e)=>{t.setTime(+t+e*ir)},(t,e)=>(e-t)/ir,t=>t.getMinutes());y1.range;const v1=Lt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*ir)},(t,e)=>(e-t)/ir,t=>t.getUTCMinutes());v1.range;const _1=Lt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*di-t.getMinutes()*ir)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getHours());_1.range;const b1=Lt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getUTCHours());b1.range;const id=Lt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ir)/ki,t=>t.getDate()-1);id.range;const Vg=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ki,t=>t.getUTCDate()-1);Vg.range;const m$=Lt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/ki,t=>Math.floor(t/ki));m$.range;function ts(t){return Lt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ir)/g1)}const Fg=ts(0),Gp=ts(1),Qse=ts(2),Xse=ts(3),_l=ts(4),Yse=ts(5),Jse=ts(6);Fg.range;Gp.range;Qse.range;Xse.range;_l.range;Yse.range;Jse.range;function ns(t){return Lt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/g1)}const Bg=ns(0),Qp=ns(1),Zse=ns(2),ele=ns(3),bl=ns(4),tle=ns(5),nle=ns(6);Bg.range;Qp.range;Zse.range;ele.range;bl.range;tle.range;nle.range;const w1=Lt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());w1.range;const x1=Lt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());x1.range;const Oi=Lt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Oi.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Oi.range;const Ci=Lt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ci.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Lt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ci.range;function g$(t,e,n,r,i,o){const a=[[pa,1,di],[pa,5,5*di],[pa,15,15*di],[pa,30,30*di],[o,1,ir],[o,5,5*ir],[o,15,15*ir],[o,30,30*ir],[i,1,hi],[i,3,3*hi],[i,6,6*hi],[i,12,12*hi],[r,1,ki],[r,2,2*ki],[n,1,g1],[e,1,FP],[e,3,3*FP],[t,1,Tv]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const p=f&&typeof f.range=="function"?f:l(u,c,f),b=p?p.range(u,+c+1):[];return h?b.reverse():b}function l(u,c,f){const h=Math.abs(c-u)/f,p=i1(([,,_])=>_).right(a,h);if(p===a.length)return t.every($_(u/Tv,c/Tv,f));if(p===0)return Kp.every(Math.max($_(u,c,f),1));const[b,y]=a[h/a[p-1][2]<a[p][2]/h?p-1:p];return b.every(y)}return[s,l]}const[rle,ile]=g$(Ci,x1,Bg,m$,b1,v1),[ole,ale]=g$(Oi,w1,Fg,id,_1,y1);function Sv(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Iv(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ju(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function sle(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,s=t.months,l=t.shortMonths,u=Du(i),c=Mu(i),f=Du(o),h=Mu(o),p=Du(a),b=Mu(a),y=Du(s),_=Mu(s),E=Du(l),w=Mu(l),T={a:F,A:$,b:U,B:Y,c:null,d:HP,e:HP,f:Ole,g:Fle,G:Ule,H:Ale,I:Ple,j:kle,L:y$,m:Cle,M:Nle,p:J,q:z,Q:QP,s:XP,S:Rle,u:jle,U:Dle,V:Mle,w:$le,W:Lle,x:null,X:null,y:Vle,Y:Ble,Z:zle,"%":GP},I={a:te,A:pe,b:ge,B:Ae,c:null,d:KP,e:KP,f:Kle,g:rue,G:oue,H:qle,I:Wle,j:Hle,L:_$,m:Gle,M:Qle,p:be,q:$e,Q:QP,s:XP,S:Xle,u:Yle,U:Jle,V:Zle,w:eue,W:tue,x:null,X:null,y:nue,Y:iue,Z:aue,"%":GP},P={a:k,A:O,b:R,B:N,c:V,d:qP,e:qP,f:Ele,g:zP,G:UP,H:WP,I:WP,j:_le,L:xle,m:vle,M:ble,p:x,q:yle,Q:Sle,s:Ile,S:wle,u:dle,U:hle,V:ple,w:fle,W:mle,x:K,X:W,y:zP,Y:UP,Z:gle,"%":Tle};T.x=C(n,T),T.X=C(r,T),T.c=C(e,T),I.x=C(n,I),I.X=C(r,I),I.c=C(e,I);function C(Q,re){return function(ae){var G=[],me=-1,de=0,we=Q.length,ye,Qe,st;for(ae instanceof Date||(ae=new Date(+ae));++me<we;)Q.charCodeAt(me)===37&&(G.push(Q.slice(de,me)),(Qe=BP[ye=Q.charAt(++me)])!=null?ye=Q.charAt(++me):Qe=ye==="e"?" ":"0",(st=re[ye])&&(ye=st(ae,Qe)),G.push(ye),de=me+1);return G.push(Q.slice(de,me)),G.join("")}}function S(Q,re){return function(ae){var G=ju(1900,void 0,1),me=g(G,Q,ae+="",0),de,we;if(me!=ae.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(re&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(de=Iv(ju(G.y,0,1)),we=de.getUTCDay(),de=we>4||we===0?Qp.ceil(de):Qp(de),de=Vg.offset(de,(G.V-1)*7),G.y=de.getUTCFullYear(),G.m=de.getUTCMonth(),G.d=de.getUTCDate()+(G.w+6)%7):(de=Sv(ju(G.y,0,1)),we=de.getDay(),de=we>4||we===0?Gp.ceil(de):Gp(de),de=id.offset(de,(G.V-1)*7),G.y=de.getFullYear(),G.m=de.getMonth(),G.d=de.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),we="Z"in G?Iv(ju(G.y,0,1)).getUTCDay():Sv(ju(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(we+5)%7:G.w+G.U*7-(we+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,Iv(G)):Sv(G)}}function g(Q,re,ae,G){for(var me=0,de=re.length,we=ae.length,ye,Qe;me<de;){if(G>=we)return-1;if(ye=re.charCodeAt(me++),ye===37){if(ye=re.charAt(me++),Qe=P[ye in BP?re.charAt(me++):ye],!Qe||(G=Qe(Q,ae,G))<0)return-1}else if(ye!=ae.charCodeAt(G++))return-1}return G}function x(Q,re,ae){var G=u.exec(re.slice(ae));return G?(Q.p=c.get(G[0].toLowerCase()),ae+G[0].length):-1}function k(Q,re,ae){var G=p.exec(re.slice(ae));return G?(Q.w=b.get(G[0].toLowerCase()),ae+G[0].length):-1}function O(Q,re,ae){var G=f.exec(re.slice(ae));return G?(Q.w=h.get(G[0].toLowerCase()),ae+G[0].length):-1}function R(Q,re,ae){var G=E.exec(re.slice(ae));return G?(Q.m=w.get(G[0].toLowerCase()),ae+G[0].length):-1}function N(Q,re,ae){var G=y.exec(re.slice(ae));return G?(Q.m=_.get(G[0].toLowerCase()),ae+G[0].length):-1}function V(Q,re,ae){return g(Q,e,re,ae)}function K(Q,re,ae){return g(Q,n,re,ae)}function W(Q,re,ae){return g(Q,r,re,ae)}function F(Q){return a[Q.getDay()]}function $(Q){return o[Q.getDay()]}function U(Q){return l[Q.getMonth()]}function Y(Q){return s[Q.getMonth()]}function J(Q){return i[+(Q.getHours()>=12)]}function z(Q){return 1+~~(Q.getMonth()/3)}function te(Q){return a[Q.getUTCDay()]}function pe(Q){return o[Q.getUTCDay()]}function ge(Q){return l[Q.getUTCMonth()]}function Ae(Q){return s[Q.getUTCMonth()]}function be(Q){return i[+(Q.getUTCHours()>=12)]}function $e(Q){return 1+~~(Q.getUTCMonth()/3)}return{format:function(Q){var re=C(Q+="",T);return re.toString=function(){return Q},re},parse:function(Q){var re=S(Q+="",!1);return re.toString=function(){return Q},re},utcFormat:function(Q){var re=C(Q+="",I);return re.toString=function(){return Q},re},utcParse:function(Q){var re=S(Q+="",!0);return re.toString=function(){return Q},re}}}var BP={"-":"",_:" ",0:"0"},Ht=/^\s*\d+/,lle=/^%/,ule=/[\\^$*+?|[\]().{}]/g;function De(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function cle(t){return t.replace(ule,"\\$&")}function Du(t){return new RegExp("^(?:"+t.map(cle).join("|")+")","i")}function Mu(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fle(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function dle(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function hle(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ple(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function mle(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function UP(t,e,n){var r=Ht.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function zP(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function gle(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function yle(t,e,n){var r=Ht.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function vle(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function qP(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _le(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function WP(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ble(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function wle(t,e,n){var r=Ht.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function xle(t,e,n){var r=Ht.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Ele(t,e,n){var r=Ht.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Tle(t,e,n){var r=lle.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Sle(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ile(t,e,n){var r=Ht.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function HP(t,e){return De(t.getDate(),e,2)}function Ale(t,e){return De(t.getHours(),e,2)}function Ple(t,e){return De(t.getHours()%12||12,e,2)}function kle(t,e){return De(1+id.count(Oi(t),t),e,3)}function y$(t,e){return De(t.getMilliseconds(),e,3)}function Ole(t,e){return y$(t,e)+"000"}function Cle(t,e){return De(t.getMonth()+1,e,2)}function Nle(t,e){return De(t.getMinutes(),e,2)}function Rle(t,e){return De(t.getSeconds(),e,2)}function jle(t){var e=t.getDay();return e===0?7:e}function Dle(t,e){return De(Fg.count(Oi(t)-1,t),e,2)}function v$(t){var e=t.getDay();return e>=4||e===0?_l(t):_l.ceil(t)}function Mle(t,e){return t=v$(t),De(_l.count(Oi(t),t)+(Oi(t).getDay()===4),e,2)}function $le(t){return t.getDay()}function Lle(t,e){return De(Gp.count(Oi(t)-1,t),e,2)}function Vle(t,e){return De(t.getFullYear()%100,e,2)}function Fle(t,e){return t=v$(t),De(t.getFullYear()%100,e,2)}function Ble(t,e){return De(t.getFullYear()%1e4,e,4)}function Ule(t,e){var n=t.getDay();return t=n>=4||n===0?_l(t):_l.ceil(t),De(t.getFullYear()%1e4,e,4)}function zle(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+De(e/60|0,"0",2)+De(e%60,"0",2)}function KP(t,e){return De(t.getUTCDate(),e,2)}function qle(t,e){return De(t.getUTCHours(),e,2)}function Wle(t,e){return De(t.getUTCHours()%12||12,e,2)}function Hle(t,e){return De(1+Vg.count(Ci(t),t),e,3)}function _$(t,e){return De(t.getUTCMilliseconds(),e,3)}function Kle(t,e){return _$(t,e)+"000"}function Gle(t,e){return De(t.getUTCMonth()+1,e,2)}function Qle(t,e){return De(t.getUTCMinutes(),e,2)}function Xle(t,e){return De(t.getUTCSeconds(),e,2)}function Yle(t){var e=t.getUTCDay();return e===0?7:e}function Jle(t,e){return De(Bg.count(Ci(t)-1,t),e,2)}function b$(t){var e=t.getUTCDay();return e>=4||e===0?bl(t):bl.ceil(t)}function Zle(t,e){return t=b$(t),De(bl.count(Ci(t),t)+(Ci(t).getUTCDay()===4),e,2)}function eue(t){return t.getUTCDay()}function tue(t,e){return De(Qp.count(Ci(t)-1,t),e,2)}function nue(t,e){return De(t.getUTCFullYear()%100,e,2)}function rue(t,e){return t=b$(t),De(t.getUTCFullYear()%100,e,2)}function iue(t,e){return De(t.getUTCFullYear()%1e4,e,4)}function oue(t,e){var n=t.getUTCDay();return t=n>=4||n===0?bl(t):bl.ceil(t),De(t.getUTCFullYear()%1e4,e,4)}function aue(){return"+0000"}function GP(){return"%"}function QP(t){return+t}function XP(t){return Math.floor(+t/1e3)}var ms,w$,x$;sue({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sue(t){return ms=sle(t),w$=ms.format,ms.parse,x$=ms.utcFormat,ms.utcParse,ms}function lue(t){return new Date(t)}function uue(t){return t instanceof Date?+t:+new Date(+t)}function E1(t,e,n,r,i,o,a,s,l,u){var c=u1(),f=c.invert,h=c.domain,p=u(".%L"),b=u(":%S"),y=u("%I:%M"),_=u("%I %p"),E=u("%a %d"),w=u("%b %d"),T=u("%B"),I=u("%Y");function P(C){return(l(C)<C?p:s(C)<C?b:a(C)<C?y:o(C)<C?_:r(C)<C?i(C)<C?E:w:n(C)<C?T:I)(C)}return c.invert=function(C){return new Date(f(C))},c.domain=function(C){return arguments.length?h(Array.from(C,uue)):h().map(lue)},c.ticks=function(C){var S=h();return t(S[0],S[S.length-1],C??10)},c.tickFormat=function(C,S){return S==null?P:u(S)},c.nice=function(C){var S=h();return(!C||typeof C.range!="function")&&(C=e(S[0],S[S.length-1],C??10)),C?h(l$(S,C)):c},c.copy=function(){return rd(c,E1(t,e,n,r,i,o,a,s,l,u))},c}function cue(){return pr.apply(E1(ole,ale,Oi,w1,Fg,id,_1,y1,pa,w$).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function fue(){return pr.apply(E1(rle,ile,Ci,x1,Bg,Vg,b1,v1,pa,x$).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ug(){var t=0,e=1,n,r,i,o,a=_n,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(o(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=o(t=+t),r=o(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(a=f,u):a};function c(f){return function(h){var p,b;return arguments.length?([p,b]=h,a=f(p,b),u):[a(0),a(1)]}}return u.range=c(eu),u.rangeRound=c(l1),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return o=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Uo(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function E$(){var t=Bo(Ug()(_n));return t.copy=function(){return Uo(t,E$())},$i.apply(t,arguments)}function T$(){var t=d1(Ug()).domain([1,10]);return t.copy=function(){return Uo(t,T$()).base(t.base())},$i.apply(t,arguments)}function S$(){var t=h1(Ug());return t.copy=function(){return Uo(t,S$()).constant(t.constant())},$i.apply(t,arguments)}function T1(){var t=p1(Ug());return t.copy=function(){return Uo(t,T1()).exponent(t.exponent())},$i.apply(t,arguments)}function due(){return T1.apply(null,arguments).exponent(.5)}function I$(){var t=[],e=_n;function n(r){if(r!=null&&!isNaN(r=+r))return e((td(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Eo),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,o)=>Jae(t,o/r))},n.copy=function(){return I$(e).domain(t)},$i.apply(n,arguments)}function zg(){var t=0,e=.5,n=1,r=1,i,o,a,s,l,u=_n,c,f=!1,h;function p(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-o)*(r*y<r*o?s:l),u(f?Math.max(0,Math.min(1,y)):y))}p.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),o=c(e=+e),a=c(n=+n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p):[t,e,n]},p.clamp=function(y){return arguments.length?(f=!!y,p):f},p.interpolator=function(y){return arguments.length?(u=y,p):u};function b(y){return function(_){var E,w,T;return arguments.length?([E,w,T]=_,u=Tse(y,[E,w,T]),p):[u(0),u(.5),u(1)]}}return p.range=b(eu),p.rangeRound=b(l1),p.unknown=function(y){return arguments.length?(h=y,p):h},function(y){return c=y,i=y(t),o=y(e),a=y(n),s=i===o?0:.5/(o-i),l=o===a?0:.5/(a-o),r=o<i?-1:1,p}}function A$(){var t=Bo(zg()(_n));return t.copy=function(){return Uo(t,A$())},$i.apply(t,arguments)}function P$(){var t=d1(zg()).domain([.1,1,10]);return t.copy=function(){return Uo(t,P$()).base(t.base())},$i.apply(t,arguments)}function k$(){var t=h1(zg());return t.copy=function(){return Uo(t,k$()).constant(t.constant())},$i.apply(t,arguments)}function S1(){var t=p1(zg());return t.copy=function(){return Uo(t,S1()).exponent(t.exponent())},$i.apply(t,arguments)}function hue(){return S1.apply(null,arguments).exponent(.5)}const YP=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:of,scaleDiverging:A$,scaleDivergingLog:P$,scaleDivergingPow:S1,scaleDivergingSqrt:hue,scaleDivergingSymlog:k$,scaleIdentity:s$,scaleImplicit:L_,scaleLinear:Hp,scaleLog:u$,scaleOrdinal:o1,scalePoint:gc,scalePow:m1,scaleQuantile:d$,scaleQuantize:h$,scaleRadial:f$,scaleSequential:E$,scaleSequentialLog:T$,scaleSequentialPow:T1,scaleSequentialQuantile:I$,scaleSequentialSqrt:due,scaleSequentialSymlog:S$,scaleSqrt:Kse,scaleSymlog:c$,scaleThreshold:p$,scaleTime:cue,scaleUtc:fue,tickFormat:a$},Symbol.toStringTag,{value:"Module"}));var pue=Hl;function mue(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(a!=null&&(s===void 0?a===a&&!pue(a):n(a,s)))var s=a,l=o}return l}var O$=mue;function gue(t,e){return t>e}var yue=gue,vue=O$,_ue=yue,bue=Zl;function wue(t){return t&&t.length?vue(t,bue,_ue):void 0}var xue=wue;const qg=Ge(xue);function Eue(t,e){return t<e}var Tue=Eue,Sue=O$,Iue=Tue,Aue=Zl;function Pue(t){return t&&t.length?Sue(t,Aue,Iue):void 0}var kue=Pue;const Wg=Ge(kue);var Oue=Vx,Cue=Fo,Nue=LM,Rue=Dn;function jue(t,e){var n=Rue(t)?Oue:Nue;return n(t,Cue(e))}var Due=jue,Mue=MM,$ue=Due;function Lue(t,e){return Mue($ue(t,e),1)}var Vue=Lue;const Fue=Ge(Vue);var Bue=e1;function Uue(t,e){return Bue(t,e)}var zue=Uue;const I1=Ge(zue);var tu=1e9,que={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},P1,ct=!0,dr="[DecimalError] ",wa=dr+"Invalid argument: ",A1=dr+"Exponent out of range: ",nu=Math.floor,ra=Math.pow,Wue=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Bn,Ut=1e7,ot=7,C$=9007199254740991,Xp=nu(C$/ot),ue={};ue.absoluteValue=ue.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ue.comparedTo=ue.cmp=function(t){var e,n,r,i,o=this;if(t=new o.constructor(t),o.s!==t.s)return o.s||-t.s;if(o.e!==t.e)return o.e>t.e^o.s<0?1:-1;for(r=o.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(o.d[e]!==t.d[e])return o.d[e]>t.d[e]^o.s<0?1:-1;return r===i?0:r>i^o.s<0?1:-1};ue.decimalPlaces=ue.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*ot;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ue.dividedBy=ue.div=function(t){return wi(this,new this.constructor(t))};ue.dividedToIntegerBy=ue.idiv=function(t){var e=this,n=e.constructor;return Je(wi(e,new n(t),0,1),n.precision)};ue.equals=ue.eq=function(t){return!this.cmp(t)};ue.exponent=function(){return Ot(this)};ue.greaterThan=ue.gt=function(t){return this.cmp(t)>0};ue.greaterThanOrEqualTo=ue.gte=function(t){return this.cmp(t)>=0};ue.isInteger=ue.isint=function(){return this.e>this.d.length-2};ue.isNegative=ue.isneg=function(){return this.s<0};ue.isPositive=ue.ispos=function(){return this.s>0};ue.isZero=function(){return this.s===0};ue.lessThan=ue.lt=function(t){return this.cmp(t)<0};ue.lessThanOrEqualTo=ue.lte=function(t){return this.cmp(t)<1};ue.logarithm=ue.log=function(t){var e,n=this,r=n.constructor,i=r.precision,o=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(Bn))throw Error(dr+"NaN");if(n.s<1)throw Error(dr+(n.s?"NaN":"-Infinity"));return n.eq(Bn)?new r(0):(ct=!1,e=wi(cf(n,o),cf(t,o),o),ct=!0,Je(e,i))};ue.minus=ue.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?j$(e,t):N$(e,(t.s=-t.s,t))};ue.modulo=ue.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(dr+"NaN");return n.s?(ct=!1,e=wi(n,t,0,1).times(t),ct=!0,n.minus(e)):Je(new r(n),i)};ue.naturalExponential=ue.exp=function(){return R$(this)};ue.naturalLogarithm=ue.ln=function(){return cf(this)};ue.negated=ue.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ue.plus=ue.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?N$(e,t):j$(e,(t.s=-t.s,t))};ue.precision=ue.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(wa+t);if(e=Ot(i)+1,r=i.d.length-1,n=r*ot+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ue.squareRoot=ue.sqrt=function(){var t,e,n,r,i,o,a,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(dr+"NaN")}for(t=Ot(s),ct=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=zr(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=nu((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(o=r,r=o.plus(wi(s,o,a+2)).times(.5),zr(o.d).slice(0,a)===(e=zr(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Je(o,n+1,0),o.times(o).eq(s)){r=o;break}}else if(e!="9999")break;a+=4}return ct=!0,Je(r,n)};ue.times=ue.mul=function(t){var e,n,r,i,o,a,s,l,u,c=this,f=c.constructor,h=c.d,p=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=p.length,l<u&&(o=h,h=p,p=o,a=l,l=u,u=a),o=[],a=l+u,r=a;r--;)o.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=o[i]+p[r]*h[i-r-1]+e,o[i--]=s%Ut|0,e=s/Ut|0;o[i]=(o[i]+e)%Ut|0}for(;!o[--a];)o.pop();return e?++n:o.shift(),t.d=o,t.e=n,ct?Je(t,f.precision):t};ue.toDecimalPlaces=ue.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Jr(t,0,tu),e===void 0?e=r.rounding:Jr(e,0,8),Je(n,t+Ot(n)+1,e))};ue.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Ua(r,!0):(Jr(t,0,tu),e===void 0?e=i.rounding:Jr(e,0,8),r=Je(new i(r),t+1,e),n=Ua(r,!0,t+1)),n};ue.toFixed=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?Ua(i):(Jr(t,0,tu),e===void 0?e=o.rounding:Jr(e,0,8),r=Je(new o(i),t+Ot(i)+1,e),n=Ua(r.abs(),!1,t+Ot(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ue.toInteger=ue.toint=function(){var t=this,e=t.constructor;return Je(new e(t),Ot(t)+1,e.rounding)};ue.toNumber=function(){return+this};ue.toPower=ue.pow=function(t){var e,n,r,i,o,a,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(Bn);if(s=new l(s),!s.s){if(t.s<1)throw Error(dr+"Infinity");return s}if(s.eq(Bn))return s;if(r=l.precision,t.eq(Bn))return Je(s,r);if(e=t.e,n=t.d.length-1,a=e>=n,o=s.s,a){if((n=c<0?-c:c)<=C$){for(i=new l(Bn),e=Math.ceil(r/ot+4),ct=!1;n%2&&(i=i.times(s),ZP(i.d,e)),n=nu(n/2),n!==0;)s=s.times(s),ZP(s.d,e);return ct=!0,t.s<0?new l(Bn).div(i):Je(i,r)}}else if(o<0)throw Error(dr+"NaN");return o=o<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,ct=!1,i=t.times(cf(s,r+u)),ct=!0,i=R$(i),i.s=o,i};ue.toPrecision=function(t,e){var n,r,i=this,o=i.constructor;return t===void 0?(n=Ot(i),r=Ua(i,n<=o.toExpNeg||n>=o.toExpPos)):(Jr(t,1,tu),e===void 0?e=o.rounding:Jr(e,0,8),i=Je(new o(i),t,e),n=Ot(i),r=Ua(i,t<=n||n<=o.toExpNeg,t)),r};ue.toSignificantDigits=ue.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Jr(t,1,tu),e===void 0?e=r.rounding:Jr(e,0,8)),Je(new r(n),t,e)};ue.toString=ue.valueOf=ue.val=ue.toJSON=ue[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ot(t),n=t.constructor;return Ua(t,e<=n.toExpNeg||e>=n.toExpPos)};function N$(t,e){var n,r,i,o,a,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),ct?Je(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),o=a-i,o){for(o<0?(r=l,o=-o,s=u.length):(r=u,i=a,s=l.length),a=Math.ceil(f/ot),s=a>s?a+1:s+1,o>s&&(o=s,r.length=1),r.reverse();o--;)r.push(0);r.reverse()}for(s=l.length,o=u.length,s-o<0&&(o=s,r=u,u=l,l=r),n=0;o;)n=(l[--o]=l[o]+u[o]+n)/Ut|0,l[o]%=Ut;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,ct?Je(e,f):e}function Jr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(wa+t)}function zr(t){var e,n,r,i=t.length-1,o="",a=t[0];if(i>0){for(o+=a,e=1;e<i;e++)r=t[e]+"",n=ot-r.length,n&&(o+=Ki(n)),o+=r;a=t[e],r=a+"",n=ot-r.length,n&&(o+=Ki(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return o+a}var wi=function(){function t(r,i){var o,a=0,s=r.length;for(r=r.slice();s--;)o=r[s]*i+a,r[s]=o%Ut|0,a=o/Ut|0;return a&&r.unshift(a),r}function e(r,i,o,a){var s,l;if(o!=a)l=o>a?1:-1;else for(s=l=0;s<o;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,o){for(var a=0;o--;)r[o]-=a,a=r[o]<i[o]?1:0,r[o]=a*Ut+r[o]-i[o];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,o,a){var s,l,u,c,f,h,p,b,y,_,E,w,T,I,P,C,S,g,x=r.constructor,k=r.s==i.s?1:-1,O=r.d,R=i.d;if(!r.s)return new x(r);if(!i.s)throw Error(dr+"Division by zero");for(l=r.e-i.e,S=R.length,P=O.length,p=new x(k),b=p.d=[],u=0;R[u]==(O[u]||0);)++u;if(R[u]>(O[u]||0)&&--l,o==null?w=o=x.precision:a?w=o+(Ot(r)-Ot(i))+1:w=o,w<0)return new x(0);if(w=w/ot+2|0,u=0,S==1)for(c=0,R=R[0],w++;(u<P||c)&&w--;u++)T=c*Ut+(O[u]||0),b[u]=T/R|0,c=T%R|0;else{for(c=Ut/(R[0]+1)|0,c>1&&(R=t(R,c),O=t(O,c),S=R.length,P=O.length),I=S,y=O.slice(0,S),_=y.length;_<S;)y[_++]=0;g=R.slice(),g.unshift(0),C=R[0],R[1]>=Ut/2&&++C;do c=0,s=e(R,y,S,_),s<0?(E=y[0],S!=_&&(E=E*Ut+(y[1]||0)),c=E/C|0,c>1?(c>=Ut&&(c=Ut-1),f=t(R,c),h=f.length,_=y.length,s=e(f,y,h,_),s==1&&(c--,n(f,S<h?g:R,h))):(c==0&&(s=c=1),f=R.slice()),h=f.length,h<_&&f.unshift(0),n(y,f,_),s==-1&&(_=y.length,s=e(R,y,S,_),s<1&&(c++,n(y,S<_?g:R,_))),_=y.length):s===0&&(c++,y=[0]),b[u++]=c,s&&y[0]?y[_++]=O[I]||0:(y=[O[I]],_=1);while((I++<P||y[0]!==void 0)&&w--)}return b[0]||b.shift(),p.e=l,Je(p,a?o+Ot(p)+1:o)}}();function R$(t,e){var n,r,i,o,a,s,l=0,u=0,c=t.constructor,f=c.precision;if(Ot(t)>16)throw Error(A1+Ot(t));if(!t.s)return new c(Bn);for(e==null?(ct=!1,s=f):s=e,a=new c(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(r=Math.log(ra(2,u))/Math.LN10*2+5|0,s+=r,n=i=o=new c(Bn),c.precision=s;;){if(i=Je(i.times(t),s),n=n.times(++l),a=o.plus(wi(i,n,s)),zr(a.d).slice(0,s)===zr(o.d).slice(0,s)){for(;u--;)o=Je(o.times(o),s);return c.precision=f,e==null?(ct=!0,Je(o,f)):o}o=a}}function Ot(t){for(var e=t.e*ot,n=t.d[0];n>=10;n/=10)e++;return e}function Av(t,e,n){if(e>t.LN10.sd())throw ct=!0,n&&(t.precision=n),Error(dr+"LN10 precision limit exceeded");return Je(new t(t.LN10),e)}function Ki(t){for(var e="";t--;)e+="0";return e}function cf(t,e){var n,r,i,o,a,s,l,u,c,f=1,h=10,p=t,b=p.d,y=p.constructor,_=y.precision;if(p.s<1)throw Error(dr+(p.s?"NaN":"-Infinity"));if(p.eq(Bn))return new y(0);if(e==null?(ct=!1,u=_):u=e,p.eq(10))return e==null&&(ct=!0),Av(y,u);if(u+=h,y.precision=u,n=zr(b),r=n.charAt(0),o=Ot(p),Math.abs(o)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=zr(p.d),r=n.charAt(0),f++;o=Ot(p),r>1?(p=new y("0."+n),o++):p=new y(r+"."+n.slice(1))}else return l=Av(y,u+2,_).times(o+""),p=cf(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=_,e==null?(ct=!0,Je(p,_)):p;for(s=a=p=wi(p.minus(Bn),p.plus(Bn),u),c=Je(p.times(p),u),i=3;;){if(a=Je(a.times(c),u),l=s.plus(wi(a,new y(i),u)),zr(l.d).slice(0,u)===zr(s.d).slice(0,u))return s=s.times(2),o!==0&&(s=s.plus(Av(y,u+2,_).times(o+""))),s=wi(s,new y(f),u),y.precision=_,e==null?(ct=!0,Je(s,_)):s;s=l,i+=2}}function JP(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=nu(n/ot),t.d=[],r=(n+1)%ot,n<0&&(r+=ot),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=ot;r<i;)t.d.push(+e.slice(r,r+=ot));e=e.slice(r),r=ot-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),ct&&(t.e>Xp||t.e<-Xp))throw Error(A1+n)}else t.s=0,t.e=0,t.d=[0];return t}function Je(t,e,n){var r,i,o,a,s,l,u,c,f=t.d;for(a=1,o=f[0];o>=10;o/=10)a++;if(r=e-a,r<0)r+=ot,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/ot),o=f.length,c>=o)return t;for(u=o=f[c],a=1;o>=10;o/=10)a++;r%=ot,i=r-ot+a}if(n!==void 0&&(o=ra(10,a-i-1),s=u/o%10|0,l=e<0||f[c+1]!==void 0||u%o,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/ra(10,a-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(o=Ot(t),f.length=1,e=e-o-1,f[0]=ra(10,(ot-e%ot)%ot),t.e=nu(-e/ot)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,o=1,c--):(f.length=c+1,o=ra(10,ot-r),f[c]=i>0?(u/ra(10,a-i)%ra(10,i)|0)*o:0),l)for(;;)if(c==0){(f[0]+=o)==Ut&&(f[0]=1,++t.e);break}else{if(f[c]+=o,f[c]!=Ut)break;f[c--]=0,o=1}for(r=f.length;f[--r]===0;)f.pop();if(ct&&(t.e>Xp||t.e<-Xp))throw Error(A1+Ot(t));return t}function j$(t,e){var n,r,i,o,a,s,l,u,c,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),ct?Je(e,p):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),a=u-r,a){for(c=a<0,c?(n=l,a=-a,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(p/ot),s)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}a=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(o=i;o&&l[--o]===0;)l[o]=Ut-1;--l[o],l[i]+=Ut}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,ct?Je(e,p):e):new h(0)}function Ua(t,e,n){var r,i=Ot(t),o=zr(t.d),a=o.length;return e?(n&&(r=n-a)>0?o=o.charAt(0)+"."+o.slice(1)+Ki(r):a>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(i<0?"e":"e+")+i):i<0?(o="0."+Ki(-i-1)+o,n&&(r=n-a)>0&&(o+=Ki(r))):i>=a?(o+=Ki(i+1-a),n&&(r=n-i-1)>0&&(o=o+"."+Ki(r))):((r=i+1)<a&&(o=o.slice(0,r)+"."+o.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(o+="."),o+=Ki(r))),t.s<0?"-"+o:o}function ZP(t,e){if(t.length>e)return t.length=e,!0}function D$(t){var e,n,r;function i(o){var a=this;if(!(a instanceof i))return new i(o);if(a.constructor=i,o instanceof i){a.s=o.s,a.e=o.e,a.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(wa+o);if(o>0)a.s=1;else if(o<0)o=-o,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(o===~~o&&o<1e7){a.e=0,a.d=[o];return}return JP(a,o.toString())}else if(typeof o!="string")throw Error(wa+o);if(o.charCodeAt(0)===45?(o=o.slice(1),a.s=-1):a.s=1,Wue.test(o))JP(a,o);else throw Error(wa+o)}if(i.prototype=ue,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=D$,i.config=i.set=Hue,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Hue(t){if(!t||typeof t!="object")throw Error(dr+"Object expected");var e,n,r,i=["precision",1,tu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(nu(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(wa+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(wa+n+": "+r);return this}var P1=D$(que);Bn=new P1(1);const We=P1;function Kue(t){return Yue(t)||Xue(t)||Que(t)||Gue()}function Gue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Que(t,e){if(t){if(typeof t=="string")return U_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U_(t,e)}}function Xue(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Yue(t){if(Array.isArray(t))return U_(t)}function U_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Jue=function(e){return e},M$={"@@functional/placeholder":!0},$$=function(e){return e===M$},ek=function(e){return function n(){return arguments.length===0||arguments.length===1&&$$(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Zue=function t(e,n){return e===1?n:ek(function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i.filter(function(s){return s!==M$}).length;return a>=e?n.apply(void 0,i):t(e-a,ek(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return $$(f)?l.shift():f});return n.apply(void 0,Kue(c).concat(l))}))})},Hg=function(e){return Zue(e.length,e)},z_=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},ece=Hg(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),tce=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Jue;var i=n.reverse(),o=i[0],a=i.slice(1);return function(){return a.reduce(function(s,l){return l(s)},o.apply(void 0,arguments))}},q_=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},L$=function(e){var n=null,r=null;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return n&&o.every(function(s,l){return s===n[l]})||(n=o,r=e.apply(void 0,o)),r}};function nce(t){var e;return t===0?e=1:e=Math.floor(new We(t).abs().log(10).toNumber())+1,e}function rce(t,e,n){for(var r=new We(t),i=0,o=[];r.lt(e)&&i<1e5;)o.push(r.toNumber()),r=r.add(n),i++;return o}var ice=Hg(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),oce=Hg(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),ace=Hg(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Kg={rangeStep:rce,getDigitCount:nce,interpolateNumber:ice,uninterpolateNumber:oce,uninterpolateTruncation:ace};function W_(t){return uce(t)||lce(t)||V$(t)||sce()}function sce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lce(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function uce(t){if(Array.isArray(t))return H_(t)}function ff(t,e){return dce(t)||fce(t,e)||V$(t,e)||cce()}function cce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function V$(t,e){if(t){if(typeof t=="string")return H_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return H_(t,e)}}function H_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fce(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,o=void 0;try{for(var a=t[Symbol.iterator](),s;!(r=(s=a.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,o=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw o}}return n}}function dce(t){if(Array.isArray(t))return t}function F$(t){var e=ff(t,2),n=e[0],r=e[1],i=n,o=r;return n>r&&(i=r,o=n),[i,o]}function B$(t,e,n){if(t.lte(0))return new We(0);var r=Kg.getDigitCount(t.toNumber()),i=new We(10).pow(r),o=t.div(i),a=r!==1?.05:.1,s=new We(Math.ceil(o.div(a).toNumber())).add(n).mul(a),l=s.mul(i);return e?l:new We(Math.ceil(l))}function hce(t,e,n){var r=1,i=new We(t);if(!i.isint()&&n){var o=Math.abs(t);o<1?(r=new We(10).pow(Kg.getDigitCount(t)-1),i=new We(Math.floor(i.div(r).toNumber())).mul(r)):o>1&&(i=new We(Math.floor(t)))}else t===0?i=new We(Math.floor((e-1)/2)):n||(i=new We(Math.floor(t)));var a=Math.floor((e-1)/2),s=tce(ece(function(l){return i.add(new We(l-a).mul(r)).toNumber()}),z_);return s(0,e)}function U$(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new We(0),tickMin:new We(0),tickMax:new We(0)};var o=B$(new We(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new We(0):(a=new We(t).add(e).div(2),a=a.sub(new We(a).mod(o)));var s=Math.ceil(a.sub(t).div(o).toNumber()),l=Math.ceil(new We(e).sub(a).div(o).toNumber()),u=s+l+1;return u>n?U$(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:o,tickMin:a.sub(new We(s).mul(o)),tickMax:a.add(new We(l).mul(o))})}function pce(t){var e=ff(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),s=F$([n,r]),l=ff(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(W_(z_(0,i-1).map(function(){return 1/0}))):[].concat(W_(z_(0,i-1).map(function(){return-1/0})),[c]);return n>r?q_(f):f}if(u===c)return hce(u,i,o);var h=U$(u,c,a,o),p=h.step,b=h.tickMin,y=h.tickMax,_=Kg.rangeStep(b,y.add(new We(.1).mul(p)),p);return n>r?q_(_):_}function mce(t,e){var n=ff(t,2),r=n[0],i=n[1],o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=F$([r,i]),s=ff(a,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=B$(new We(u).sub(l).div(c-1),o,0),h=[].concat(W_(Kg.rangeStep(new We(l),new We(u).sub(new We(.99).mul(f)),f)),[u]);return r>i?q_(h):h}var gce=L$(pce),yce=L$(mce),vce="Invariant failed";function za(t,e){throw new Error(vce)}var _ce=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function wl(t){"@babel/helpers - typeof";return wl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wl(t)}function Yp(){return Yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Yp.apply(this,arguments)}function bce(t,e){return Tce(t)||Ece(t,e)||xce(t,e)||wce()}function wce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xce(t,e){if(t){if(typeof t=="string")return tk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tk(t,e)}}function tk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ece(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Tce(t){if(Array.isArray(t))return t}function Sce(t,e){if(t==null)return{};var n=Ice(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ice(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Ace(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,W$(r.key),r)}}function kce(t,e,n){return e&&Pce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Oce(t,e,n){return e=Jp(e),Cce(t,z$()?Reflect.construct(e,n||[],Jp(t).constructor):e.apply(t,n))}function Cce(t,e){if(e&&(wl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Nce(t)}function Nce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(z$=function(){return!!t})()}function Jp(t){return Jp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Jp(t)}function Rce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&K_(t,e)}function K_(t,e){return K_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K_(t,e)}function q$(t,e,n){return e=W$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function W$(t){var e=jce(t,"string");return wl(e)=="symbol"?e:e+""}function jce(t,e){if(wl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Gg=function(t){function e(){return Ace(this,e),Oce(this,e,arguments)}return Rce(e,t),kce(e,[{key:"render",value:function(){var r=this.props,i=r.offset,o=r.layout,a=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=Sce(r,_ce),p=Me(h,!1);this.props.direction==="x"&&c.type!=="number"&&za();var b=l.map(function(y){var _=u(y,s),E=_.x,w=_.y,T=_.value,I=_.errorVal;if(!I)return null;var P=[],C,S;if(Array.isArray(I)){var g=bce(I,2);C=g[0],S=g[1]}else C=S=I;if(o==="vertical"){var x=c.scale,k=w+i,O=k+a,R=k-a,N=x(T-C),V=x(T+S);P.push({x1:V,y1:O,x2:V,y2:R}),P.push({x1:N,y1:k,x2:V,y2:k}),P.push({x1:N,y1:O,x2:N,y2:R})}else if(o==="horizontal"){var K=f.scale,W=E+i,F=W-a,$=W+a,U=K(T-C),Y=K(T+S);P.push({x1:F,y1:Y,x2:$,y2:Y}),P.push({x1:W,y1:U,x2:W,y2:Y}),P.push({x1:F,y1:U,x2:$,y2:U})}return M.createElement(qt,Yp({className:"recharts-errorBar",key:"bar-".concat(P.map(function(J){return"".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))},p),P.map(function(J){return M.createElement("line",Yp({},J,{key:"line-".concat(J.x1,"-").concat(J.x2,"-").concat(J.y1,"-").concat(J.y2)}))}))});return M.createElement(qt,{className:"recharts-errorBars"},b)}}])}(M.Component);q$(Gg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});q$(Gg,"displayName","ErrorBar");function df(t){"@babel/helpers - typeof";return df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},df(t)}function nk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(n),!0).forEach(function(r){Dce(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dce(t,e,n){return e=Mce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mce(t){var e=$ce(t,"string");return df(e)=="symbol"?e:e+""}function $ce(t,e){if(df(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(df(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var H$=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,o=e.legendContent,a=Vn(n,Gs);if(!a)return null;var s=Gs.defaultProps,l=s!==void 0?Xo(Xo({},s),a.props):{},u;return a.props&&a.props.payload?u=a.props&&a.props.payload:o==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,p=f.props,b=p.sectors||p.data||[];return c.concat(b.map(function(y){return{type:a.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,p=h!==void 0?Xo(Xo({},h),f.props):{},b=p.dataKey,y=p.name,_=p.legendType,E=p.hide;return{inactive:E,dataKey:b,type:l.iconType||_||"square",color:k1(f),value:y||b,payload:p}}),Xo(Xo(Xo({},l),Gs.getWithHeight(a,i)),{},{payload:u,item:a})};function hf(t){"@babel/helpers - typeof";return hf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hf(t)}function rk(t){return Bce(t)||Fce(t)||Vce(t)||Lce()}function Lce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vce(t,e){if(t){if(typeof t=="string")return G_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G_(t,e)}}function Fce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bce(t){if(Array.isArray(t))return G_(t)}function G_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ik(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(n),!0).forEach(function(r){Xs(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ik(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xs(t,e,n){return e=Uce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uce(t){var e=zce(t,"string");return hf(e)=="symbol"?e:e+""}function zce(t,e){if(hf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(hf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zr(t,e,n){return Ve(t)||Ve(e)?n:Dt(e)?ur(t,e,n):Oe(e)?e(t):n}function yc(t,e,n,r){var i=Fue(t,function(s){return Zr(s,e)});if(n==="number"){var o=i.filter(function(s){return ie(s)||parseFloat(s)});return o.length?[Wg(o),qg(o)]:[1/0,-1/0]}var a=r?i.filter(function(s){return!Ve(s)}):i;return a.map(function(s){return Dt(s)||s instanceof Date?s:""})}var qce=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,a=-1,s=(n=r?.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(o&&o.axisType==="angleAxis"&&Math.abs(Math.abs(o.range[1]-o.range[0])-360)<=1e-6)for(var l=o.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,p=void 0;if(Sr(f-c)!==Sr(h-f)){var b=[];if(Sr(h-f)===Sr(l[1]-l[0])){p=h;var y=f+l[1]-l[0];b[0]=Math.min(y,(y+c)/2),b[1]=Math.max(y,(y+c)/2)}else{p=c;var _=h+l[1]-l[0];b[0]=Math.min(f,(_+f)/2),b[1]=Math.max(f,(_+f)/2)}var E=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>E[0]&&e<=E[1]||e>=b[0]&&e<=b[1]){a=i[u].index;break}}else{var w=Math.min(c,h),T=Math.max(c,h);if(e>(w+f)/2&&e<=(T+f)/2){a=i[u].index;break}}}else for(var I=0;I<s;I++)if(I===0&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2&&e<=(r[I].coordinate+r[I+1].coordinate)/2||I===s-1&&e>(r[I].coordinate+r[I-1].coordinate)/2){a=r[I].index;break}return a},k1=function(e){var n,r=e,i=r.type.displayName,o=(n=e.type)!==null&&n!==void 0&&n.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,a=o.stroke,s=o.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:s;break;default:l=s;break}return l},Wce=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,o=i===void 0?{}:i;if(!o)return{};for(var a={},s=Object.keys(o),l=0,u=s.length;l<u;l++)for(var c=o[s[l]].stackGroups,f=Object.keys(c),h=0,p=f.length;h<p;h++){var b=c[f[h]],y=b.items,_=b.cateAxisId,E=y.filter(function(S){return _i(S.type).indexOf("Bar")>=0});if(E&&E.length){var w=E[0].type.defaultProps,T=w!==void 0?xt(xt({},w),E[0].props):E[0].props,I=T.barSize,P=T[_];a[P]||(a[P]=[]);var C=Ve(I)?n:I;a[P].push({item:E[0],stackList:E.slice(1),barSize:Ve(C)?void 0:Ba(C,r,0)})}}return a},Hce=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,o=e.sizeList,a=o===void 0?[]:o,s=e.maxBarSize,l=a.length;if(l<1)return null;var u=Ba(n,i,0,!0),c,f=[];if(a[0].barSize===+a[0].barSize){var h=!1,p=i/l,b=a.reduce(function(I,P){return I+P.barSize||0},0);b+=(l-1)*u,b>=i&&(b-=(l-1)*u,u=0),b>=i&&p>0&&(h=!0,p*=.9,b=l*p);var y=(i-b)/2>>0,_={offset:y-u,size:0};c=a.reduce(function(I,P){var C={item:P.item,position:{offset:_.offset+_.size+u,size:h?p:P.barSize}},S=[].concat(rk(I),[C]);return _=S[S.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(g){S.push({item:g,position:_})}),S},f)}else{var E=Ba(r,i,0,!0);i-2*E-(l-1)*u<=0&&(u=0);var w=(i-2*E-(l-1)*u)/l;w>1&&(w>>=0);var T=s===+s?Math.min(w,s):w;c=a.reduce(function(I,P,C){var S=[].concat(rk(I),[{item:P.item,position:{offset:E+(w+u)*C+(w-T)/2,size:T}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(g){S.push({item:g,position:S[S.length-1].position})}),S},f)}return c},Kce=function(e,n,r,i){var o=r.children,a=r.width,s=r.margin,l=a-(s.left||0)-(s.right||0),u=H$({children:o,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,p=u.align,b=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&b==="middle")&&p!=="center"&&ie(e[p]))return xt(xt({},e),{},Xs({},p,e[p]+(f||0)));if((y==="horizontal"||y==="vertical"&&p==="center")&&b!=="middle"&&ie(e[b]))return xt(xt({},e),{},Xs({},b,e[b]+(h||0)))}return e},Gce=function(e,n,r){return Ve(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},K$=function(e,n,r,i,o){var a=n.props.children,s=Pr(a,Gg).filter(function(u){return Gce(i,o,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=Zr(c,r);if(Ve(f))return u;var h=Array.isArray(f)?[Wg(f),qg(f)]:[f,f],p=l.reduce(function(b,y){var _=Zr(c,y,0),E=h[0]-Math.abs(Array.isArray(_)?_[0]:_),w=h[1]+Math.abs(Array.isArray(_)?_[1]:_);return[Math.min(E,b[0]),Math.max(w,b[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},Qce=function(e,n,r,i,o){var a=n.map(function(s){return K$(e,s,r,o,i)}).filter(function(s){return!Ve(s)});return a&&a.length?a.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},G$=function(e,n,r,i,o){var a=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&K$(e,l,u,i)||yc(e,u,r,o)});if(r==="number")return a.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return a.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},Q$=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},X$=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var o,a,s=e.map(function(l){return l.coordinate===n&&(o=!0),l.coordinate===r&&(a=!0),l.coordinate});return o||s.push(n),a||s.push(r),s},pi=function(e,n,r){if(!e)return null;var i=e.scale,o=e.duplicateDomain,a=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&s?.length>=2?Sr(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=o?o.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!Zf(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:o?o[f]:f,index:h,offset:u}})},Pv=new WeakMap,eh=function(e,n){if(typeof n!="function")return e;Pv.has(e)||Pv.set(e,new WeakMap);var r=Pv.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Xce=function(e,n,r){var i=e.scale,o=e.type,a=e.layout,s=e.axisType;if(i==="auto")return a==="radial"&&s==="radiusAxis"?{scale:of(),realScaleType:"band"}:a==="radial"&&s==="angleAxis"?{scale:Hp(),realScaleType:"linear"}:o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:gc(),realScaleType:"point"}:o==="category"?{scale:of(),realScaleType:"band"}:{scale:Hp(),realScaleType:"linear"};if(Jf(i)){var l="scale".concat(Cg(i));return{scale:(YP[l]||gc)(),realScaleType:YP[l]?l:"point"}}return Oe(i)?{scale:i}:{scale:gc(),realScaleType:"point"}},ok=1e-4,Yce=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),o=Math.min(i[0],i[1])-ok,a=Math.max(i[0],i[1])+ok,s=e(n[0]),l=e(n[r-1]);(s<o||s>a||l<o||l>a)&&e.domain([n[0],n[r-1]])}},Jce=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Zce=function(e,n){if(!n||n.length!==2||!ie(n[0])||!ie(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),o=[e[0],e[1]];return(!ie(e[0])||e[0]<r)&&(o[0]=r),(!ie(e[1])||e[1]>i)&&(o[1]=i),o[0]>i&&(o[0]=i),o[1]<r&&(o[1]=r),o},efe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0,s=0;s<n;++s){var l=Zf(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1]):(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1])}},tfe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var o=0,a=0;a<n;++a){var s=Zf(e[a][r][1])?e[a][r][0]:e[a][r][1];s>=0?(e[a][r][0]=o,e[a][r][1]=o+s,o=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},nfe={sign:efe,expand:gY,none:hl,silhouette:yY,wiggle:vY,positive:tfe},rfe=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),o=nfe[r],a=mY().keys(i).value(function(s,l){return+Zr(s,l,0)}).order(__).offset(o);return a(e)},ife=function(e,n,r,i,o,a){if(!e)return null;var s=a?n.reverse():n,l={},u=s.reduce(function(f,h){var p,b=(p=h.type)!==null&&p!==void 0&&p.defaultProps?xt(xt({},h.type.defaultProps),h.props):h.props,y=b.stackId,_=b.hide;if(_)return f;var E=b[r],w=f[E]||{hasStack:!1,stackGroups:{}};if(Dt(y)){var T=w.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};T.items.push(h),w.hasStack=!0,w.stackGroups[y]=T}else w.stackGroups[Og("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return xt(xt({},f),{},Xs({},E,w))},l),c={};return Object.keys(u).reduce(function(f,h){var p=u[h];if(p.hasStack){var b={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(y,_){var E=p.stackGroups[_];return xt(xt({},y),{},Xs({},_,{numericAxisId:r,cateAxisId:i,items:E.items,stackedData:rfe(e,E.items,o)}))},b)}return xt(xt({},f),{},Xs({},h,p))},c)},ofe=function(e,n){var r=n.realScaleType,i=n.type,o=n.tickCount,a=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(o&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=gce(u,o,s);return e.domain([Wg(c),qg(c)]),{niceTicks:c}}if(o&&i==="number"){var f=e.domain(),h=yce(f,o,s);return{niceTicks:h}}return null},ak=function(e){var n=e.axis,r=e.ticks,i=e.offset,o=e.bandSize,a=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=Zr(a,n.dataKey,n.domain[s]);return Ve(l)?null:n.scale(l)-o/2+i},afe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),o=Math.max(r[0],r[1]);return i<=0&&o>=0?0:o<0?o:i}return r[0]},sfe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,o=i.stackId;if(Dt(o)){var a=n[o];if(a){var s=a.items.indexOf(e);return s>=0?a.stackedData[s]:null}}return null},lfe=function(e){return e.reduce(function(n,r){return[Wg(r.concat([n[0]]).filter(ie)),qg(r.concat([n[1]]).filter(ie))]},[1/0,-1/0])},Y$=function(e,n,r){return Object.keys(e).reduce(function(i,o){var a=e[o],s=a.stackedData,l=s.reduce(function(u,c){var f=lfe(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},sk=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lk=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Q_=function(e,n,r){if(Oe(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(ie(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(sk.test(e[0])){var o=+sk.exec(e[0])[1];i[0]=n[0]-o}else Oe(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(ie(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(lk.test(e[1])){var a=+lk.exec(e[1])[1];i[1]=n[1]+a}else Oe(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},Zp=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var o=n1(n,function(f){return f.coordinate}),a=1/0,s=1,l=o.length;s<l;s++){var u=o[s],c=o[s-1];a=Math.min((u.coordinate||0)-(c.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},uk=function(e,n,r){return!e||!e.length||I1(e,ur(r,"type.defaultProps.domain"))?n:e},J$=function(e,n){var r=e.type.defaultProps?xt(xt({},e.type.defaultProps),e.props):e.props,i=r.dataKey,o=r.name,a=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return xt(xt({},Me(e,!1)),{},{dataKey:i,unit:a,formatter:s,name:o||i,color:k1(e),value:Zr(n,i),type:l,payload:n,chartType:u,hide:c})};function pf(t){"@babel/helpers - typeof";return pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pf(t)}function ck(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ck(Object(n),!0).forEach(function(r){ufe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ck(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ufe(t,e,n){return e=cfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function cfe(t){var e=ffe(t,"string");return pf(e)=="symbol"?e:e+""}function ffe(t,e){if(pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var em=Math.PI/180,dfe=function(e){return e*180/Math.PI},Jt=function(e,n,r,i){return{x:e+Math.cos(-em*i)*r,y:n+Math.sin(-em*i)*r}},hfe=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return Math.sqrt(Math.pow(r-o,2)+Math.pow(i-a,2))},pfe=function(e,n){var r=e.x,i=e.y,o=n.cx,a=n.cy,s=hfe({x:r,y:i},{x:o,y:a});if(s<=0)return{radius:s};var l=(r-o)/s,u=Math.acos(l);return i>a&&(u=2*Math.PI-u),{radius:s,angle:dfe(u),angleInRadian:u}},mfe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),o=Math.floor(r/360),a=Math.min(i,o);return{startAngle:n-a*360,endAngle:r-a*360}},gfe=function(e,n){var r=n.startAngle,i=n.endAngle,o=Math.floor(r/360),a=Math.floor(i/360),s=Math.min(o,a);return e+s*360},dk=function(e,n){var r=e.x,i=e.y,o=pfe({x:r,y:i},n),a=o.radius,s=o.angle,l=n.innerRadius,u=n.outerRadius;if(a<l||a>u)return!1;if(a===0)return!0;var c=mfe(n),f=c.startAngle,h=c.endAngle,p=s,b;if(f<=h){for(;p>h;)p-=360;for(;p<f;)p+=360;b=p>=f&&p<=h}else{for(;p>f;)p-=360;for(;p<h;)p+=360;b=p>=h&&p<=f}return b?fk(fk({},n),{},{radius:a,angle:gfe(p,n)}):null};function mf(t){"@babel/helpers - typeof";return mf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mf(t)}var yfe=["offset"];function vfe(t){return xfe(t)||wfe(t)||bfe(t)||_fe()}function _fe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bfe(t,e){if(t){if(typeof t=="string")return X_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X_(t,e)}}function wfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xfe(t){if(Array.isArray(t))return X_(t)}function X_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Efe(t,e){if(t==null)return{};var n=Tfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function hk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(n),!0).forEach(function(r){Sfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sfe(t,e,n){return e=Ife(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ife(t){var e=Afe(t,"string");return mf(e)=="symbol"?e:e+""}function Afe(t,e){if(mf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(mf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gf(){return gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gf.apply(this,arguments)}var Pfe=function(e){var n=e.value,r=e.formatter,i=Ve(e.children)?n:e.children;return Oe(r)?r(i):i},kfe=function(e,n){var r=Sr(n-e),i=Math.min(Math.abs(n-e),360);return r*i},Ofe=function(e,n,r){var i=e.position,o=e.viewBox,a=e.offset,s=e.className,l=o,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,p=l.startAngle,b=l.endAngle,y=l.clockWise,_=(f+h)/2,E=kfe(p,b),w=E>=0?1:-1,T,I;i==="insideStart"?(T=p+w*a,I=y):i==="insideEnd"?(T=b-w*a,I=!y):i==="end"&&(T=b+w*a,I=y),I=E<=0?I:!I;var P=Jt(u,c,_,T),C=Jt(u,c,_,T+(I?1:-1)*359),S="M".concat(P.x,",").concat(P.y,`
    A`).concat(_,",").concat(_,",0,1,").concat(I?0:1,`,
    `).concat(C.x,",").concat(C.y),g=Ve(e.id)?Og("recharts-radial-line-"):e.id;return M.createElement("text",gf({},r,{dominantBaseline:"central",className:Fe("recharts-radial-bar-label",s)}),M.createElement("defs",null,M.createElement("path",{id:g,d:S})),M.createElement("textPath",{xlinkHref:"#".concat(g)},n))},Cfe=function(e){var n=e.viewBox,r=e.offset,i=e.position,o=n,a=o.cx,s=o.cy,l=o.innerRadius,u=o.outerRadius,c=o.startAngle,f=o.endAngle,h=(c+f)/2;if(i==="outside"){var p=Jt(a,s,u+r,h),b=p.x,y=p.y;return{x:b,y,textAnchor:b>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:s,textAnchor:"middle",verticalAnchor:"end"};var _=(l+u)/2,E=Jt(a,s,_,h),w=E.x,T=E.y;return{x:w,y:T,textAnchor:"middle",verticalAnchor:"middle"}},Nfe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,o=e.position,a=n,s=a.x,l=a.y,u=a.width,c=a.height,f=c>=0?1:-1,h=f*i,p=f>0?"end":"start",b=f>0?"start":"end",y=u>=0?1:-1,_=y*i,E=y>0?"end":"start",w=y>0?"start":"end";if(o==="top"){var T={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Nt(Nt({},T),r?{height:Math.max(l-r.y,0),width:u}:{})}if(o==="bottom"){var I={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:b};return Nt(Nt({},I),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(o==="left"){var P={x:s-_,y:l+c/2,textAnchor:E,verticalAnchor:"middle"};return Nt(Nt({},P),r?{width:Math.max(P.x-r.x,0),height:c}:{})}if(o==="right"){var C={x:s+u+_,y:l+c/2,textAnchor:w,verticalAnchor:"middle"};return Nt(Nt({},C),r?{width:Math.max(r.x+r.width-C.x,0),height:c}:{})}var S=r?{width:u,height:c}:{};return o==="insideLeft"?Nt({x:s+_,y:l+c/2,textAnchor:w,verticalAnchor:"middle"},S):o==="insideRight"?Nt({x:s+u-_,y:l+c/2,textAnchor:E,verticalAnchor:"middle"},S):o==="insideTop"?Nt({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:b},S):o==="insideBottom"?Nt({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:p},S):o==="insideTopLeft"?Nt({x:s+_,y:l+h,textAnchor:w,verticalAnchor:b},S):o==="insideTopRight"?Nt({x:s+u-_,y:l+h,textAnchor:E,verticalAnchor:b},S):o==="insideBottomLeft"?Nt({x:s+_,y:l+c-h,textAnchor:w,verticalAnchor:p},S):o==="insideBottomRight"?Nt({x:s+u-_,y:l+c-h,textAnchor:E,verticalAnchor:p},S):Kl(o)&&(ie(o.x)||da(o.x))&&(ie(o.y)||da(o.y))?Nt({x:s+Ba(o.x,u),y:l+Ba(o.y,c),textAnchor:"end",verticalAnchor:"end"},S):Nt({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},S)},Rfe=function(e){return"cx"in e&&ie(e.cx)};function un(t){var e=t.offset,n=e===void 0?5:e,r=Efe(t,yfe),i=Nt({offset:n},r),o=i.viewBox,a=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!o||Ve(s)&&Ve(l)&&!D.isValidElement(u)&&!Oe(u))return null;if(D.isValidElement(u))return D.cloneElement(u,i);var p;if(Oe(u)){if(p=D.createElement(u,i),D.isValidElement(p))return p}else p=Pfe(i);var b=Rfe(o),y=Me(i,!0);if(b&&(a==="insideStart"||a==="insideEnd"||a==="end"))return Ofe(i,p,y);var _=b?Cfe(i):Nfe(i);return M.createElement(Vp,gf({className:Fe("recharts-label",f)},y,_,{breakAll:h}),p)}un.displayName="Label";var Z$=function(e){var n=e.cx,r=e.cy,i=e.angle,o=e.startAngle,a=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,p=e.top,b=e.left,y=e.width,_=e.height,E=e.clockWise,w=e.labelViewBox;if(w)return w;if(ie(y)&&ie(_)){if(ie(f)&&ie(h))return{x:f,y:h,width:y,height:_};if(ie(p)&&ie(b))return{x:p,y:b,width:y,height:_}}return ie(f)&&ie(h)?{x:f,y:h,width:0,height:0}:ie(n)&&ie(r)?{cx:n,cy:r,startAngle:o||i||0,endAngle:a||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:E}:e.viewBox?e.viewBox:{}},jfe=function(e,n){return e?e===!0?M.createElement(un,{key:"label-implicit",viewBox:n}):Dt(e)?M.createElement(un,{key:"label-implicit",viewBox:n,value:e}):D.isValidElement(e)?e.type===un?D.cloneElement(e,{key:"label-implicit",viewBox:n}):M.createElement(un,{key:"label-implicit",content:e,viewBox:n}):Oe(e)?M.createElement(un,{key:"label-implicit",content:e,viewBox:n}):Kl(e)?M.createElement(un,gf({viewBox:n},e,{key:"label-implicit"})):null:null},Dfe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,o=Z$(e),a=Pr(i,un).map(function(l,u){return D.cloneElement(l,{viewBox:n||o,key:"label-".concat(u)})});if(!r)return a;var s=jfe(e.label,n||o);return[s].concat(vfe(a))};un.parseViewBox=Z$;un.renderCallByParent=Dfe;function Mfe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var $fe=Mfe;const Lfe=Ge($fe);function yf(t){"@babel/helpers - typeof";return yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yf(t)}var Vfe=["valueAccessor"],Ffe=["data","dataKey","clockWise","id","textBreakAll"];function Bfe(t){return Wfe(t)||qfe(t)||zfe(t)||Ufe()}function Ufe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zfe(t,e){if(t){if(typeof t=="string")return Y_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Y_(t,e)}}function qfe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wfe(t){if(Array.isArray(t))return Y_(t)}function Y_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tm.apply(this,arguments)}function pk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(n),!0).forEach(function(r){Hfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hfe(t,e,n){return e=Kfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kfe(t){var e=Gfe(t,"string");return yf(e)=="symbol"?e:e+""}function Gfe(t,e){if(yf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gk(t,e){if(t==null)return{};var n=Qfe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xfe=function(e){return Array.isArray(e.value)?Lfe(e.value):e.value};function xa(t){var e=t.valueAccessor,n=e===void 0?Xfe:e,r=gk(t,Vfe),i=r.data,o=r.dataKey,a=r.clockWise,s=r.id,l=r.textBreakAll,u=gk(r,Ffe);return!i||!i.length?null:M.createElement(qt,{className:"recharts-label-list"},i.map(function(c,f){var h=Ve(o)?n(c,f):Zr(c&&c.payload,o),p=Ve(s)?{}:{id:"".concat(s,"-").concat(f)};return M.createElement(un,tm({},Me(c,!0),u,p,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:un.parseViewBox(Ve(a)?c:mk(mk({},c),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}xa.displayName="LabelList";function Yfe(t,e){return t?t===!0?M.createElement(xa,{key:"labelList-implicit",data:e}):M.isValidElement(t)||Oe(t)?M.createElement(xa,{key:"labelList-implicit",data:e,content:t}):Kl(t)?M.createElement(xa,tm({data:e},t,{key:"labelList-implicit"})):null:null}function Jfe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=Pr(r,xa).map(function(a,s){return D.cloneElement(a,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var o=Yfe(t.label,e);return[o].concat(Bfe(i))}xa.renderCallByParent=Jfe;function vf(t){"@babel/helpers - typeof";return vf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vf(t)}function J_(){return J_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J_.apply(this,arguments)}function yk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yk(Object(n),!0).forEach(function(r){Zfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Zfe(t,e,n){return e=ede(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ede(t){var e=tde(t,"string");return vf(e)=="symbol"?e:e+""}function tde(t,e){if(vf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nde=function(e,n){var r=Sr(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},th=function(e){var n=e.cx,r=e.cy,i=e.radius,o=e.angle,a=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/em,h=u?o:o+a*f,p=Jt(n,r,c,h),b=Jt(n,r,i,h),y=u?o-a*f:o,_=Jt(n,r,c*Math.cos(f*em),y);return{center:p,circleTangency:b,lineTangency:_,theta:f}},eL=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.startAngle,s=e.endAngle,l=nde(a,s),u=a+l,c=Jt(n,r,o,a),f=Jt(n,r,o,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(o,",").concat(o,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Jt(n,r,i,a),b=Jt(n,r,i,u);h+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},rde=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,o=e.outerRadius,a=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=Sr(c-u),h=th({cx:n,cy:r,radius:o,angle:u,sign:f,cornerRadius:a,cornerIsExternal:l}),p=h.circleTangency,b=h.lineTangency,y=h.theta,_=th({cx:n,cy:r,radius:o,angle:c,sign:-f,cornerRadius:a,cornerIsExternal:l}),E=_.circleTangency,w=_.lineTangency,T=_.theta,I=l?Math.abs(u-c):Math.abs(u-c)-y-T;if(I<0)return s?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):eL({cx:n,cy:r,innerRadius:i,outerRadius:o,startAngle:u,endAngle:c});var P="M ".concat(b.x,",").concat(b.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(o,",").concat(o,",0,").concat(+(I>180),",").concat(+(f<0),",").concat(E.x,",").concat(E.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var C=th({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),S=C.circleTangency,g=C.lineTangency,x=C.theta,k=th({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),O=k.circleTangency,R=k.lineTangency,N=k.theta,V=l?Math.abs(u-c):Math.abs(u-c)-x-N;if(V<0&&a===0)return"".concat(P,"L").concat(n,",").concat(r,"Z");P+="L".concat(R.x,",").concat(R.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(O.x,",").concat(O.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(V>180),",").concat(+(f>0),",").concat(S.x,",").concat(S.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(g.x,",").concat(g.y,"Z")}else P+="L".concat(n,",").concat(r,"Z");return P},ide={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},tL=function(e){var n=vk(vk({},ide),e),r=n.cx,i=n.cy,o=n.innerRadius,a=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(a<o||c===f)return null;var p=Fe("recharts-sector",h),b=a-o,y=Ba(s,b,0,!0),_;return y>0&&Math.abs(c-f)<360?_=rde({cx:r,cy:i,innerRadius:o,outerRadius:a,cornerRadius:Math.min(y,b/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):_=eL({cx:r,cy:i,innerRadius:o,outerRadius:a,startAngle:c,endAngle:f}),M.createElement("path",J_({},Me(n,!0),{className:p,d:_,role:"img"}))};function _f(t){"@babel/helpers - typeof";return _f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_f(t)}function Z_(){return Z_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Z_.apply(this,arguments)}function _k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_k(Object(n),!0).forEach(function(r){ode(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_k(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ode(t,e,n){return e=ade(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ade(t){var e=sde(t,"string");return _f(e)=="symbol"?e:e+""}function sde(t,e){if(_f(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_f(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wk={curveBasisClosed:iY,curveBasisOpen:oY,curveBasis:rY,curveBumpX:zX,curveBumpY:qX,curveLinearClosed:aY,curveLinear:Rg,curveMonotoneX:sY,curveMonotoneY:lY,curveNatural:uY,curveStep:cY,curveStepAfter:dY,curveStepBefore:fY},nh=function(e){return e.x===+e.x&&e.y===+e.y},$u=function(e){return e.x},Lu=function(e){return e.y},lde=function(e,n){if(Oe(e))return e;var r="curve".concat(Cg(e));return(r==="curveMonotone"||r==="curveBump")&&n?wk["".concat(r).concat(n==="vertical"?"Y":"X")]:wk[r]||Rg},ude=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,o=i===void 0?[]:i,a=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=lde(r,s),f=u?o.filter(function(y){return nh(y)}):o,h;if(Array.isArray(a)){var p=u?a.filter(function(y){return nh(y)}):a,b=f.map(function(y,_){return bk(bk({},y),{},{base:p[_]})});return s==="vertical"?h=Hd().y(Lu).x1($u).x0(function(y){return y.base.x}):h=Hd().x($u).y1(Lu).y0(function(y){return y.base.y}),h.defined(nh).curve(c),h(b)}return s==="vertical"&&ie(a)?h=Hd().y(Lu).x1($u).x0(a):ie(a)?h=Hd().x($u).y1(Lu).y0(a):h=tM().x($u).y(Lu),h.defined(nh).curve(c),h(f)},xk=function(e){var n=e.className,r=e.points,i=e.path,o=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?ude(e):i;return M.createElement("path",Z_({},Me(e,!1),Tp(e),{className:Fe("recharts-curve",n),d:a,ref:o}))},nL={exports:{}},cde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fde=cde,dde=fde;function rL(){}function iL(){}iL.resetWarningCache=rL;var hde=function(){function t(r,i,o,a,s,l){if(l!==dde){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iL,resetWarningCache:rL};return n.PropTypes=n,n};nL.exports=hde();var pde=nL.exports;const Te=Ge(pde);var mde=Object.getOwnPropertyNames,gde=Object.getOwnPropertySymbols,yde=Object.prototype.hasOwnProperty;function Ek(t,e){return function(r,i,o){return t(r,i,o)&&e(r,i,o)}}function rh(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var o=i.cache,a=o.get(n),s=o.get(r);if(a&&s)return a===r&&s===n;o.set(n,r),o.set(r,n);var l=t(n,r,i);return o.delete(n),o.delete(r),l}}function Tk(t){return mde(t).concat(gde(t))}var oL=Object.hasOwn||function(t,e){return yde.call(t,e)};function ru(t,e){return t||e?t===e:t===e||t!==t&&e!==e}var aL="_owner",Sk=Object.getOwnPropertyDescriptor,Ik=Object.keys;function vde(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function _de(t,e){return ru(t.getTime(),e.getTime())}function Ak(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.entries(),o=0,a,s;(a=i.next())&&!a.done;){for(var l=e.entries(),u=!1,c=0;(s=l.next())&&!s.done;){var f=a.value,h=f[0],p=f[1],b=s.value,y=b[0],_=b[1];!u&&!r[c]&&(u=n.equals(h,y,o,c,t,e,n)&&n.equals(p,_,h,y,t,e,n))&&(r[c]=!0),c++}if(!u)return!1;o++}return!0}function bde(t,e,n){var r=Ik(t),i=r.length;if(Ik(e).length!==i)return!1;for(var o;i-- >0;)if(o=r[i],o===aL&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!oL(e,o)||!n.equals(t[o],e[o],o,o,t,e,n))return!1;return!0}function Vu(t,e,n){var r=Tk(t),i=r.length;if(Tk(e).length!==i)return!1;for(var o,a,s;i-- >0;)if(o=r[i],o===aL&&(t.$$typeof||e.$$typeof)&&t.$$typeof!==e.$$typeof||!oL(e,o)||!n.equals(t[o],e[o],o,o,t,e,n)||(a=Sk(t,o),s=Sk(e,o),(a||s)&&(!a||!s||a.configurable!==s.configurable||a.enumerable!==s.enumerable||a.writable!==s.writable)))return!1;return!0}function wde(t,e){return ru(t.valueOf(),e.valueOf())}function xde(t,e){return t.source===e.source&&t.flags===e.flags}function Pk(t,e,n){if(t.size!==e.size)return!1;for(var r={},i=t.values(),o,a;(o=i.next())&&!o.done;){for(var s=e.values(),l=!1,u=0;(a=s.next())&&!a.done;)!l&&!r[u]&&(l=n.equals(o.value,a.value,o.value,a.value,t,e,n))&&(r[u]=!0),u++;if(!l)return!1}return!0}function Ede(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}var Tde="[object Arguments]",Sde="[object Boolean]",Ide="[object Date]",Ade="[object Map]",Pde="[object Number]",kde="[object Object]",Ode="[object RegExp]",Cde="[object Set]",Nde="[object String]",Rde=Array.isArray,kk=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,Ok=Object.assign,jde=Object.prototype.toString.call.bind(Object.prototype.toString);function Dde(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areMapsEqual,i=t.areObjectsEqual,o=t.arePrimitiveWrappersEqual,a=t.areRegExpsEqual,s=t.areSetsEqual,l=t.areTypedArraysEqual;return function(c,f,h){if(c===f)return!0;if(c==null||f==null||typeof c!="object"||typeof f!="object")return c!==c&&f!==f;var p=c.constructor;if(p!==f.constructor)return!1;if(p===Object)return i(c,f,h);if(Rde(c))return e(c,f,h);if(kk!=null&&kk(c))return l(c,f,h);if(p===Date)return n(c,f,h);if(p===RegExp)return a(c,f,h);if(p===Map)return r(c,f,h);if(p===Set)return s(c,f,h);var b=jde(c);return b===Ide?n(c,f,h):b===Ode?a(c,f,h):b===Ade?r(c,f,h):b===Cde?s(c,f,h):b===kde?typeof c.then!="function"&&typeof f.then!="function"&&i(c,f,h):b===Tde?i(c,f,h):b===Sde||b===Pde||b===Nde?o(c,f,h):!1}}function Mde(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Vu:vde,areDatesEqual:_de,areMapsEqual:r?Ek(Ak,Vu):Ak,areObjectsEqual:r?Vu:bde,arePrimitiveWrappersEqual:wde,areRegExpsEqual:xde,areSetsEqual:r?Ek(Pk,Vu):Pk,areTypedArraysEqual:r?Vu:Ede};if(n&&(i=Ok({},i,n(i))),e){var o=rh(i.areArraysEqual),a=rh(i.areMapsEqual),s=rh(i.areObjectsEqual),l=rh(i.areSetsEqual);i=Ok({},i,{areArraysEqual:o,areMapsEqual:a,areObjectsEqual:s,areSetsEqual:l})}return i}function $de(t){return function(e,n,r,i,o,a,s){return t(e,n,s)}}function Lde(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,o=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,p=c.meta;return n(l,u,{cache:h,equals:i,meta:p,strict:o})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var a={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,u){return n(l,u,a)}}var Vde=zo();zo({strict:!0});zo({circular:!0});zo({circular:!0,strict:!0});zo({createInternalComparator:function(){return ru}});zo({strict:!0,createInternalComparator:function(){return ru}});zo({circular:!0,createInternalComparator:function(){return ru}});zo({circular:!0,createInternalComparator:function(){return ru},strict:!0});function zo(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,o=t.strict,a=o===void 0?!1:o,s=Mde(t),l=Dde(s),u=r?r(l):$de(l);return Lde({circular:n,comparator:l,createState:i,equals:u,strict:a})}function Fde(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function Ck(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(o){n<0&&(n=o),o-n>e?(t(o),n=-1):Fde(i)};requestAnimationFrame(r)}function eb(t){"@babel/helpers - typeof";return eb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},eb(t)}function Bde(t){return Wde(t)||qde(t)||zde(t)||Ude()}function Ude(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zde(t,e){if(t){if(typeof t=="string")return Nk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nk(t,e)}}function Nk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qde(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wde(t){if(Array.isArray(t))return t}function Hde(){var t={},e=function(){return null},n=!1,r=function i(o){if(!n){if(Array.isArray(o)){if(!o.length)return;var a=o,s=Bde(a),l=s[0],u=s.slice(1);if(typeof l=="number"){Ck(i.bind(null,u),l);return}i(l),Ck(i.bind(null,u));return}eb(o)==="object"&&(t=o,e(t)),typeof o=="function"&&o()}};return{stop:function(){n=!0},start:function(o){n=!1,r(o)},subscribe:function(o){return e=o,function(){e=function(){return null}}}}}function bf(t){"@babel/helpers - typeof";return bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bf(t)}function Rk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rk(Object(n),!0).forEach(function(r){sL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sL(t,e,n){return e=Kde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kde(t){var e=Gde(t,"string");return bf(e)==="symbol"?e:String(e)}function Gde(t,e){if(bf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(bf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qde=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(o){return i.includes(o)})})},Xde=function(e){return e},Yde=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},vc=function(e,n){return Object.keys(n).reduce(function(r,i){return jk(jk({},r),{},sL({},i,e(i,n[i])))},{})},Dk=function(e,n,r){return e.map(function(i){return"".concat(Yde(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Jde(t,e){return the(t)||ehe(t,e)||lL(t,e)||Zde()}function Zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ehe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function the(t){if(Array.isArray(t))return t}function nhe(t){return ohe(t)||ihe(t)||lL(t)||rhe()}function rhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lL(t,e){if(t){if(typeof t=="string")return tb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return tb(t,e)}}function ihe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ohe(t){if(Array.isArray(t))return tb(t)}function tb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var nm=1e-4,uL=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},cL=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},Mk=function(e,n){return function(r){var i=uL(e,n);return cL(i,r)}},ahe=function(e,n){return function(r){var i=uL(e,n),o=[].concat(nhe(i.map(function(a,s){return a*s}).slice(1)),[0]);return cL(o,r)}},$k=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],o=n[1],a=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,o=0,a=1,s=1;break;case"ease":i=.25,o=.1,a=.25,s=1;break;case"ease-in":i=.42,o=0,a=1,s=1;break;case"ease-out":i=.42,o=0,a=.58,s=1;break;case"ease-in-out":i=0,o=0,a=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(_){return parseFloat(_)}),c=Jde(u,4);i=c[0],o=c[1],a=c[2],s=c[3]}}}var f=Mk(i,a),h=Mk(o,s),p=ahe(i,a),b=function(E){return E>1?1:E<0?0:E},y=function(E){for(var w=E>1?1:E,T=w,I=0;I<8;++I){var P=f(T)-w,C=p(T);if(Math.abs(P-w)<nm||C<nm)return h(T);T=b(T-P/C)}return h(T)};return y.isStepper=!1,y},she=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,o=i===void 0?8:i,a=e.dt,s=a===void 0?17:a,l=function(c,f,h){var p=-(c-f)*r,b=h*o,y=h+(p-b)*s/1e3,_=h*s/1e3+c;return Math.abs(_-f)<nm&&Math.abs(y)<nm?[f,0]:[_,y]};return l.isStepper=!0,l.dt=s,l},lhe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $k(i);case"spring":return she();default:if(i.split("(")[0]==="cubic-bezier")return $k(i)}return typeof i=="function"?i:null};function wf(t){"@babel/helpers - typeof";return wf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wf(t)}function Lk(t){return fhe(t)||che(t)||fL(t)||uhe()}function uhe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function che(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fhe(t){if(Array.isArray(t))return rb(t)}function Vk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Vk(Object(n),!0).forEach(function(r){nb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Vk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nb(t,e,n){return e=dhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dhe(t){var e=hhe(t,"string");return wf(e)==="symbol"?e:String(e)}function hhe(t,e){if(wf(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(wf(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function phe(t,e){return yhe(t)||ghe(t,e)||fL(t,e)||mhe()}function mhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fL(t,e){if(t){if(typeof t=="string")return rb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rb(t,e)}}function rb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ghe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function yhe(t){if(Array.isArray(t))return t}var rm=function(e,n,r){return e+(n-e)*r},ib=function(e){var n=e.from,r=e.to;return n!==r},vhe=function t(e,n,r){var i=vc(function(o,a){if(ib(a)){var s=e(a.from,a.to,a.velocity),l=phe(s,2),u=l[0],c=l[1];return Gt(Gt({},a),{},{from:u,velocity:c})}return a},n);return r<1?vc(function(o,a){return ib(a)?Gt(Gt({},a),{},{velocity:rm(a.velocity,i[o].velocity,r),from:rm(a.from,i[o].from,r)}):a},n):t(e,i,r-1)};const _he=function(t,e,n,r,i){var o=Qde(t,e),a=o.reduce(function(_,E){return Gt(Gt({},_),{},nb({},E,[t[E],e[E]]))},{}),s=o.reduce(function(_,E){return Gt(Gt({},_),{},nb({},E,{from:t[E],velocity:0,to:e[E]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return vc(function(E,w){return w.from},s)},p=function(){return!Object.values(s).filter(ib).length},b=function(E){u||(u=E);var w=E-u,T=w/n.dt;s=vhe(n,s,T),i(Gt(Gt(Gt({},t),e),h())),u=E,p()||(l=requestAnimationFrame(f))},y=function(E){c||(c=E);var w=(E-c)/r,T=vc(function(P,C){return rm.apply(void 0,Lk(C).concat([n(w)]))},a);if(i(Gt(Gt(Gt({},t),e),T)),w<1)l=requestAnimationFrame(f);else{var I=vc(function(P,C){return rm.apply(void 0,Lk(C).concat([n(1)]))},a);i(Gt(Gt(Gt({},t),e),I))}};return f=n.isStepper?b:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function xl(t){"@babel/helpers - typeof";return xl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xl(t)}var bhe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function whe(t,e){if(t==null)return{};var n=xhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function xhe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function kv(t){return Ihe(t)||She(t)||The(t)||Ehe()}function Ehe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function The(t,e){if(t){if(typeof t=="string")return ob(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ob(t,e)}}function She(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ihe(t){if(Array.isArray(t))return ob(t)}function ob(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _r(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Fk(Object(n),!0).forEach(function(r){Ju(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Fk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ju(t,e,n){return e=dL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Phe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dL(r.key),r)}}function khe(t,e,n){return e&&Phe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function dL(t){var e=Ohe(t,"string");return xl(e)==="symbol"?e:String(e)}function Ohe(t,e){if(xl(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xl(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Che(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ab(t,e)}function ab(t,e){return ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ab(t,e)}function Nhe(t){var e=Rhe();return function(){var r=im(t),i;if(e){var o=im(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return sb(this,i)}}function sb(t,e){if(e&&(xl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lb(t)}function lb(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rhe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function im(t){return im=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},im(t)}var Oo=function(t){Che(n,t);var e=Nhe(n);function n(r,i){var o;Ahe(this,n),o=e.call(this,r,i);var a=o.props,s=a.isActive,l=a.attributeName,u=a.from,c=a.to,f=a.steps,h=a.children,p=a.duration;if(o.handleStyleChange=o.handleStyleChange.bind(lb(o)),o.changeStyle=o.changeStyle.bind(lb(o)),!s||p<=0)return o.state={style:{}},typeof h=="function"&&(o.state={style:c}),sb(o);if(f&&f.length)o.state={style:f[0].style};else if(u){if(typeof h=="function")return o.state={style:u},sb(o);o.state={style:l?Ju({},l,u):u}}else o.state={style:{}};return o}return khe(n,[{key:"componentDidMount",value:function(){var i=this.props,o=i.isActive,a=i.canBegin;this.mounted=!0,!(!o||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var o=this.props,a=o.isActive,s=o.canBegin,l=o.attributeName,u=o.shouldReAnimate,c=o.to,f=o.from,h=this.state.style;if(s){if(!a){var p={style:l?Ju({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(p);return}if(!(Vde(i.to,c)&&i.canBegin&&i.isActive)){var b=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=b||u?f:i.to;if(this.state&&h){var _={style:l?Ju({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(_)}this.runAnimation(_r(_r({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var o=this,a=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,p=_he(a,s,lhe(u),l,this.changeStyle),b=function(){o.stopJSAnimation=p()};this.manager.start([h,c,b,l,f])}},{key:"runStepAnimation",value:function(i){var o=this,a=i.steps,s=i.begin,l=i.onAnimationStart,u=a[0],c=u.style,f=u.duration,h=f===void 0?0:f,p=function(y,_,E){if(E===0)return y;var w=_.duration,T=_.easing,I=T===void 0?"ease":T,P=_.style,C=_.properties,S=_.onAnimationEnd,g=E>0?a[E-1]:_,x=C||Object.keys(P);if(typeof I=="function"||I==="spring")return[].concat(kv(y),[o.runJSAnimation.bind(o,{from:g.style,to:P,duration:w,easing:I}),w]);var k=Dk(x,w,I),O=_r(_r(_r({},g.style),P),{},{transition:k});return[].concat(kv(y),[O,w,S]).filter(Xde)};return this.manager.start([l].concat(kv(a.reduce(p,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Hde());var o=i.begin,a=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,p=i.children,b=this.manager;if(this.unSubscribe=b.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?Ju({},s,l):l,_=Dk(Object.keys(y),a,u);b.start([c,o,_r(_r({},y),{},{transition:_}),a,f])}},{key:"render",value:function(){var i=this.props,o=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=whe(i,bhe),u=D.Children.count(o),c=this.state.style;if(typeof o=="function")return o(c);if(!s||u===0||a<=0)return o;var f=function(p){var b=p.props,y=b.style,_=y===void 0?{}:y,E=b.className,w=D.cloneElement(p,_r(_r({},l),{},{style:_r(_r({},_),c),className:E}));return w};return u===1?f(D.Children.only(o)):M.createElement("div",null,D.Children.map(o,function(h){return f(h)}))}}]),n}(D.PureComponent);Oo.displayName="Animate";Oo.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Oo.propTypes={from:Te.oneOfType([Te.object,Te.string]),to:Te.oneOfType([Te.object,Te.string]),attributeName:Te.string,duration:Te.number,begin:Te.number,easing:Te.oneOfType([Te.string,Te.func]),steps:Te.arrayOf(Te.shape({duration:Te.number.isRequired,style:Te.object.isRequired,easing:Te.oneOfType([Te.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Te.func]),properties:Te.arrayOf("string"),onAnimationEnd:Te.func})),children:Te.oneOfType([Te.node,Te.func]),isActive:Te.bool,canBegin:Te.bool,onAnimationEnd:Te.func,shouldReAnimate:Te.bool,onAnimationStart:Te.func,onAnimationReStart:Te.func};Te.object,Te.object,Te.object,Te.element;Te.object,Te.object,Te.object,Te.oneOfType([Te.array,Te.element]),Te.any;function xf(t){"@babel/helpers - typeof";return xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xf(t)}function om(){return om=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},om.apply(this,arguments)}function jhe(t,e){return Lhe(t)||$he(t,e)||Mhe(t,e)||Dhe()}function Dhe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mhe(t,e){if(t){if(typeof t=="string")return Bk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Bk(t,e)}}function Bk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function $he(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Lhe(t){if(Array.isArray(t))return t}function Uk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Uk(Object(n),!0).forEach(function(r){Vhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Uk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vhe(t,e,n){return e=Fhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fhe(t){var e=Bhe(t,"string");return xf(e)=="symbol"?e:e+""}function Bhe(t,e){if(xf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qk=function(e,n,r,i,o){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(a>0&&o instanceof Array){for(var f=[0,0,0,0],h=0,p=4;h<p;h++)f[h]=o[h]>a?a:o[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(a>0&&o===+o&&o>0){var b=Math.min(a,o);c="M ".concat(e,",").concat(n+s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+l*b,",").concat(n,`
            L `).concat(e+r-l*b,",").concat(n,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*b,`
            L `).concat(e+r,",").concat(n+i-s*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e+r-l*b,",").concat(n+i,`
            L `).concat(e+l*b,",").concat(n+i,`
            A `).concat(b,",").concat(b,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*b," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Uhe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,o=n.x,a=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(o,o+s),c=Math.max(o,o+s),f=Math.min(a,a+l),h=Math.max(a,a+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},zhe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},O1=function(e){var n=zk(zk({},zhe),e),r=D.useRef(),i=D.useState(-1),o=jhe(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&s(I)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,p=n.className,b=n.animationEasing,y=n.animationDuration,_=n.animationBegin,E=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var T=Fe("recharts-rectangle",p);return w?M.createElement(Oo,{canBegin:a>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:b,isActive:w},function(I){var P=I.width,C=I.height,S=I.x,g=I.y;return M.createElement(Oo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,isActive:E,easing:b},M.createElement("path",om({},Me(n,!0),{className:T,d:qk(S,g,P,C,h),ref:r})))}):M.createElement("path",om({},Me(n,!0),{className:T,d:qk(l,u,c,f,h)}))};function ub(){return ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ub.apply(this,arguments)}var hL=function(e){var n=e.cx,r=e.cy,i=e.r,o=e.className,a=Fe("recharts-dot",o);return n===+n&&r===+r&&i===+i?M.createElement("circle",ub({},Me(e,!1),Tp(e),{className:a,cx:n,cy:r,r:i})):null};function Ef(t){"@babel/helpers - typeof";return Ef=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ef(t)}var qhe=["x","y","top","left","width","height","className"];function cb(){return cb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cb.apply(this,arguments)}function Wk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Whe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wk(Object(n),!0).forEach(function(r){Hhe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Hhe(t,e,n){return e=Khe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Khe(t){var e=Ghe(t,"string");return Ef(e)=="symbol"?e:e+""}function Ghe(t,e){if(Ef(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ef(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Qhe(t,e){if(t==null)return{};var n=Xhe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yhe=function(e,n,r,i,o,a){return"M".concat(e,",").concat(o,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},Jhe=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,o=i===void 0?0:i,a=e.top,s=a===void 0?0:a,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,p=h===void 0?0:h,b=e.className,y=Qhe(e,qhe),_=Whe({x:r,y:o,top:s,left:u,width:f,height:p},y);return!ie(r)||!ie(o)||!ie(f)||!ie(p)||!ie(s)||!ie(u)?null:M.createElement("path",cb({},Me(_,!0),{className:Fe("recharts-cross",b),d:Yhe(r,o,f,p,s,u)}))},Zhe=SM,epe=Zhe(Object.getPrototypeOf,Object),tpe=epe,npe=Di,rpe=tpe,ipe=Mi,ope="[object Object]",ape=Function.prototype,spe=Object.prototype,pL=ape.toString,lpe=spe.hasOwnProperty,upe=pL.call(Object);function cpe(t){if(!ipe(t)||npe(t)!=ope)return!1;var e=rpe(t);if(e===null)return!0;var n=lpe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&pL.call(n)==upe}var fpe=cpe;const dpe=Ge(fpe);var hpe=Di,ppe=Mi,mpe="[object Boolean]";function gpe(t){return t===!0||t===!1||ppe(t)&&hpe(t)==mpe}var ype=gpe;const vpe=Ge(ype);function Tf(t){"@babel/helpers - typeof";return Tf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tf(t)}function am(){return am=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},am.apply(this,arguments)}function _pe(t,e){return Epe(t)||xpe(t,e)||wpe(t,e)||bpe()}function bpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wpe(t,e){if(t){if(typeof t=="string")return Hk(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Hk(t,e)}}function Hk(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xpe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function Epe(t){if(Array.isArray(t))return t}function Kk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Kk(Object(n),!0).forEach(function(r){Tpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Kk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tpe(t,e,n){return e=Spe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Spe(t){var e=Ipe(t,"string");return Tf(e)=="symbol"?e:e+""}function Ipe(t,e){if(Tf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Tf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qk=function(e,n,r,i,o){var a=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-a/2,",").concat(n+o),s+="L ".concat(e+r-a/2-i,",").concat(n+o),s+="L ".concat(e,",").concat(n," Z"),s},Ape={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Ppe=function(e){var n=Gk(Gk({},Ape),e),r=D.useRef(),i=D.useState(-1),o=_pe(i,2),a=o[0],s=o[1];D.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var T=r.current.getTotalLength();T&&s(T)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,p=n.className,b=n.animationEasing,y=n.animationDuration,_=n.animationBegin,E=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var w=Fe("recharts-trapezoid",p);return E?M.createElement(Oo,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:b,isActive:E},function(T){var I=T.upperWidth,P=T.lowerWidth,C=T.height,S=T.x,g=T.y;return M.createElement(Oo,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:_,duration:y,easing:b},M.createElement("path",am({},Me(n,!0),{className:w,d:Qk(S,g,I,P,C),ref:r})))}):M.createElement("g",null,M.createElement("path",am({},Me(n,!0),{className:w,d:Qk(l,u,c,f,h)})))},kpe=["option","shapeType","propTransformer","activeClassName","isActive"];function Sf(t){"@babel/helpers - typeof";return Sf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sf(t)}function Ope(t,e){if(t==null)return{};var n=Cpe(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Xk(Object(n),!0).forEach(function(r){Npe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Xk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Npe(t,e,n){return e=Rpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rpe(t){var e=jpe(t,"string");return Sf(e)=="symbol"?e:e+""}function jpe(t,e){if(Sf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dpe(t,e){return sm(sm({},e),t)}function Mpe(t,e){return t==="symbols"}function Yk(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return M.createElement(O1,n);case"trapezoid":return M.createElement(Ppe,n);case"sector":return M.createElement(tL,n);case"symbols":if(Mpe(e))return M.createElement(Gx,n);break;default:return null}}function $pe(t){return D.isValidElement(t)?t.props:t}function Lpe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Dpe:r,o=t.activeClassName,a=o===void 0?"recharts-active-shape":o,s=t.isActive,l=Ope(t,kpe),u;if(D.isValidElement(e))u=D.cloneElement(e,sm(sm({},l),$pe(e)));else if(Oe(e))u=e(l);else if(dpe(e)&&!vpe(e)){var c=i(e,l);u=M.createElement(Yk,{shapeType:n,elementProps:c})}else{var f=l;u=M.createElement(Yk,{shapeType:n,elementProps:f})}return s?M.createElement(qt,{className:a},u):u}function Qg(t,e){return e!=null&&"trapezoids"in t.props}function Xg(t,e){return e!=null&&"sectors"in t.props}function If(t,e){return e!=null&&"points"in t.props}function Vpe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,o=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&o}function Fpe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Bpe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Upe(t,e){var n;return Qg(t,e)?n=Vpe:Xg(t,e)?n=Fpe:If(t,e)&&(n=Bpe),n}function zpe(t,e){var n;return Qg(t,e)?n="trapezoids":Xg(t,e)?n="sectors":If(t,e)&&(n="points"),n}function qpe(t,e){if(Qg(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Xg(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return If(t,e)?e.payload:{}}function Wpe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=zpe(n,e),o=qpe(n,e),a=r.filter(function(l,u){var c=I1(o,l),f=n.props[i].filter(function(b){var y=Upe(n,e);return y(b,e)}),h=n.props[i].indexOf(f[f.length-1]),p=u===h;return c&&p}),s=r.indexOf(a[a.length-1]);return s}var Hpe=Math.ceil,Kpe=Math.max;function Gpe(t,e,n,r){for(var i=-1,o=Kpe(Hpe((e-t)/(n||1)),0),a=Array(o);o--;)a[r?o:++i]=t,t+=n;return a}var Qpe=Gpe,Xpe=qM,Jk=1/0,Ype=17976931348623157e292;function Jpe(t){if(!t)return t===0?t:0;if(t=Xpe(t),t===Jk||t===-Jk){var e=t<0?-1:1;return e*Ype}return t===t?t:0}var mL=Jpe,Zpe=Qpe,eme=$g,Ov=mL;function tme(t){return function(e,n,r){return r&&typeof r!="number"&&eme(e,n,r)&&(n=r=void 0),e=Ov(e),n===void 0?(n=e,e=0):n=Ov(n),r=r===void 0?e<n?1:-1:Ov(r),Zpe(e,n,r,t)}}var nme=tme,rme=nme,ime=rme(),ome=ime;const lm=Ge(ome);function Af(t){"@babel/helpers - typeof";return Af=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Af(t)}function Zk(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(n),!0).forEach(function(r){gL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Zk(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gL(t,e,n){return e=ame(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ame(t){var e=sme(t,"string");return Af(e)=="symbol"?e:e+""}function sme(t,e){if(Af(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Af(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lme=["Webkit","Moz","O","ms"],ume=function(e,n){var r=e.replace(/(\w)/,function(o){return o.toUpperCase()}),i=lme.reduce(function(o,a){return eO(eO({},o),{},gL({},a+r,n))},{});return i[e]=n,i};function El(t){"@babel/helpers - typeof";return El=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},El(t)}function um(){return um=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},um.apply(this,arguments)}function tO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tO(Object(n),!0).forEach(function(r){$n(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,vL(r.key),r)}}function fme(t,e,n){return e&&nO(t.prototype,e),n&&nO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function dme(t,e,n){return e=cm(e),hme(t,yL()?Reflect.construct(e,n||[],cm(t).constructor):e.apply(t,n))}function hme(t,e){if(e&&(El(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pme(t)}function pme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yL=function(){return!!t})()}function cm(t){return cm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cm(t)}function mme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fb(t,e)}function fb(t,e){return fb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fb(t,e)}function $n(t,e,n){return e=vL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vL(t){var e=gme(t,"string");return El(e)=="symbol"?e:e+""}function gme(t,e){if(El(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(El(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yme=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,o=e.x,a=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=gc().domain(lm(0,l)).range([o,o+a-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},rO=function(e){return e.changedTouches&&!!e.changedTouches.length},Tl=function(t){function e(n){var r;return cme(this,e),r=dme(this,e,[n]),$n(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),$n(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),$n(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,o=i.endIndex,a=i.onDragEnd,s=i.startIndex;a?.({endIndex:o,startIndex:s})}),r.detachDragEndListener()}),$n(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),$n(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),$n(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),$n(r,"handleSlideDragStart",function(i){var o=rO(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:o.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return mme(e,t),fme(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,o=r.endX,a=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,o),h=Math.max(i,o),p=e.getIndexInRange(a,f),b=e.getIndexInRange(a,h);return{startIndex:p-p%l,endIndex:b===c?c:b-b%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,o=i.data,a=i.tickFormatter,s=i.dataKey,l=Zr(o[r],s,r);return Oe(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,o=i.slideMoveStartX,a=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,p=l.endIndex,b=l.onChange,y=r.pageX-o;y>0?y=Math.min(y,u+c-f-s,u+c-f-a):y<0&&(y=Math.max(y,u-a,u-s));var _=this.getIndex({startX:a+y,endX:s+y});(_.startIndex!==h||_.endIndex!==p)&&b&&b(_),this.setState({startX:a+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var o=rO(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:o.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,o=i.brushMoveStartX,a=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[a],c=this.props,f=c.x,h=c.width,p=c.travellerWidth,b=c.onChange,y=c.gap,_=c.data,E={startX:this.state.startX,endX:this.state.endX},w=r.pageX-o;w>0?w=Math.min(w,f+h-p-u):w<0&&(w=Math.max(w,f-u)),E[a]=u+w;var T=this.getIndex(E),I=T.startIndex,P=T.endIndex,C=function(){var g=_.length-1;return a==="startX"&&(s>l?I%y===0:P%y===0)||s<l&&P===g||a==="endX"&&(s>l?P%y===0:I%y===0)||s>l&&P===g};this.setState($n($n({},a,u+w),"brushMoveStartX",r.pageX),function(){b&&C()&&b(T)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var o=this,a=this.state,s=a.scaleValues,l=a.startX,u=a.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var p=s[h];i==="startX"&&p>=u||i==="endX"&&p<=l||this.setState($n({},i,p),function(){o.props.onChange(o.getIndex({startX:o.state.startX,endX:o.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.fill,u=r.stroke;return M.createElement("rect",{stroke:u,fill:l,x:i,y:o,width:a,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=D.Children.only(u);return f?M.cloneElement(f,{x:i,y:o,width:a,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var o,a,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,p=l.ariaLabel,b=l.data,y=l.startIndex,_=l.endIndex,E=Math.max(r,this.props.x),w=Cv(Cv({},Me(this.props,!1)),{},{x:E,y:u,width:c,height:f}),T=p||"Min value: ".concat((o=b[y])===null||o===void 0?void 0:o.name,", Max value: ").concat((a=b[_])===null||a===void 0?void 0:a.name);return M.createElement(qt,{tabIndex:0,role:"slider","aria-label":T,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),s.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,w))}},{key:"renderSlide",value:function(r,i){var o=this.props,a=o.y,s=o.height,l=o.stroke,u=o.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return M.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:a,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,o=r.endIndex,a=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,p=5,b={pointerEvents:"none",fill:u};return M.createElement(qt,{className:"recharts-brush-texts"},M.createElement(Vp,um({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-p,y:a+s/2},b),this.getTextOfTick(i)),M.createElement(Vp,um({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+p,y:a+s/2},b),this.getTextOfTick(o)))}},{key:"render",value:function(){var r=this.props,i=r.data,o=r.className,a=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,p=h.startX,b=h.endX,y=h.isTextActive,_=h.isSlideMoving,E=h.isTravellerMoving,w=h.isTravellerFocused;if(!i||!i.length||!ie(s)||!ie(l)||!ie(u)||!ie(c)||u<=0||c<=0)return null;var T=Fe("recharts-brush",o),I=M.Children.count(a)===1,P=ume("userSelect","none");return M.createElement(qt,{className:T,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(p,b),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(b,"endX"),(y||_||E||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,o=r.y,a=r.width,s=r.height,l=r.stroke,u=Math.floor(o+s/2)-1;return M.createElement(M.Fragment,null,M.createElement("rect",{x:i,y:o,width:a,height:s,fill:l,stroke:"none"}),M.createElement("line",{x1:i+1,y1:u,x2:i+a-1,y2:u,fill:"none",stroke:"#fff"}),M.createElement("line",{x1:i+1,y1:u+2,x2:i+a-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var o;return M.isValidElement(r)?o=M.cloneElement(r,i):Oe(r)?o=r(i):o=e.renderDefaultTraveller(i),o}},{key:"getDerivedStateFromProps",value:function(r,i){var o=r.data,a=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(o!==i.prevData||u!==i.prevUpdateId)return Cv({prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a},o&&o.length?yme({data:o,width:a,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+a-l]);var h=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:o,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var o=r.length,a=0,s=o-1;s-a>1;){var l=Math.floor((a+s)/2);r[l]>i?s=l:a=l}return i>=r[s]?s:a}}])}(D.PureComponent);$n(Tl,"displayName","Brush");$n(Tl,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var vme=t1;function _me(t,e){var n;return vme(t,function(r,i,o){return n=e(r,i,o),!n}),!!n}var bme=_me,wme=yM,xme=Fo,Eme=bme,Tme=Dn,Sme=$g;function Ime(t,e,n){var r=Tme(t)?wme:Eme;return n&&Sme(t,e,n)&&(e=void 0),r(t,xme(e))}var Ame=Ime;const Pme=Ge(Ame);var Qr=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},iO=VM;function kme(t,e,n){e=="__proto__"&&iO?iO(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var Ome=kme,Cme=Ome,Nme=$M,Rme=Fo;function jme(t,e){var n={};return e=Rme(e),Nme(t,function(r,i,o){Cme(n,i,e(r,i,o))}),n}var Dme=jme;const Mme=Ge(Dme);function $me(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Lme=$me,Vme=t1;function Fme(t,e){var n=!0;return Vme(t,function(r,i,o){return n=!!e(r,i,o),n}),n}var Bme=Fme,Ume=Lme,zme=Bme,qme=Fo,Wme=Dn,Hme=$g;function Kme(t,e,n){var r=Wme(t)?Ume:zme;return n&&Hme(t,e,n)&&(e=void 0),r(t,qme(e))}var Gme=Kme;const _L=Ge(Gme);var Qme=["x","y"];function Pf(t){"@babel/helpers - typeof";return Pf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pf(t)}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},db.apply(this,arguments)}function oO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oO(Object(n),!0).forEach(function(r){Xme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xme(t,e,n){return e=Yme(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yme(t){var e=Jme(t,"string");return Pf(e)=="symbol"?e:e+""}function Jme(t,e){if(Pf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zme(t,e){if(t==null)return{};var n=ege(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ege(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tge(t,e){var n=t.x,r=t.y,i=Zme(t,Qme),o="".concat(n),a=parseInt(o,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Fu(Fu(Fu(Fu(Fu({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function aO(t){return M.createElement(Lpe,db({shapeType:"rectangle",propTransformer:tge,activeClassName:"recharts-active-bar"},t))}var nge=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var o=typeof r=="number";return o?e(r,i):(o||za(),n)}},rge=["value","background"],bL;function Sl(t){"@babel/helpers - typeof";return Sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sl(t)}function ige(t,e){if(t==null)return{};var n=oge(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function oge(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function fm(){return fm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fm.apply(this,arguments)}function sO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sO(Object(n),!0).forEach(function(r){so(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function age(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xL(r.key),r)}}function sge(t,e,n){return e&&lO(t.prototype,e),n&&lO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lge(t,e,n){return e=dm(e),uge(t,wL()?Reflect.construct(e,n||[],dm(t).constructor):e.apply(t,n))}function uge(t,e){if(e&&(Sl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cge(t)}function cge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wL=function(){return!!t})()}function dm(t){return dm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dm(t)}function fge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&hb(t,e)}function hb(t,e){return hb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},hb(t,e)}function so(t,e,n){return e=xL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xL(t){var e=dge(t,"string");return Sl(e)=="symbol"?e:e+""}function dge(t,e){if(Sl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Co=function(t){function e(){var n;age(this,e);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=lge(this,e,[].concat(i)),so(n,"state",{isAnimationFinished:!1}),so(n,"id",Og("recharts-bar-")),so(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),so(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return fge(e,t),sge(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,o=this.props,a=o.shape,s=o.dataKey,l=o.activeIndex,u=o.activeBar,c=Me(this.props,!1);return r&&r.map(function(f,h){var p=h===l,b=p?u:a,y=Pt(Pt(Pt({},c),f),{},{isActive:p,option:b,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return M.createElement(qt,fm({className:"recharts-bar-rectangle"},Sp(i.props,f,h),{key:"rectangle-".concat(f?.x,"-").concat(f?.y,"-").concat(f?.value)}),M.createElement(aO,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,o=i.data,a=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return M.createElement(Oo,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var b=p.t,y=o.map(function(_,E){var w=h&&h[E];if(w){var T=hs(w.x,_.x),I=hs(w.y,_.y),P=hs(w.width,_.width),C=hs(w.height,_.height);return Pt(Pt({},_),{},{x:T(b),y:I(b),width:P(b),height:C(b)})}if(a==="horizontal"){var S=hs(0,_.height),g=S(b);return Pt(Pt({},_),{},{y:_.y+_.height-g,height:g})}var x=hs(0,_.width),k=x(b);return Pt(Pt({},_),{},{width:k})});return M.createElement(qt,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,o=r.isAnimationActive,a=this.state.prevData;return o&&i&&i.length&&(!a||!I1(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,o=i.data,a=i.dataKey,s=i.activeIndex,l=Me(this.props.background,!1);return o.map(function(u,c){u.value;var f=u.background,h=ige(u,rge);if(!f)return null;var p=Pt(Pt(Pt(Pt(Pt({},h),{},{fill:"#eee"},f),l),Sp(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:c,className:"recharts-bar-background-rectangle"});return M.createElement(aO,fm({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var o=this.props,a=o.data,s=o.xAxis,l=o.yAxis,u=o.layout,c=o.children,f=Pr(c,Gg);if(!f)return null;var h=u==="vertical"?a[0].height/2:a[0].width/2,p=function(_,E){var w=Array.isArray(_.value)?_.value[1]:_.value;return{x:_.x,y:_.y,value:w,errorVal:Zr(_,E)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return M.createElement(qt,b,f.map(function(y){return M.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:a,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,o=r.data,a=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,p=r.isAnimationActive,b=r.background,y=r.id;if(i||!o||!o.length)return null;var _=this.state.isAnimationFinished,E=Fe("recharts-bar",a),w=s&&s.allowDataOverflow,T=l&&l.allowDataOverflow,I=w||T,P=Ve(y)?this.id:y;return M.createElement(qt,{className:E},w||T?M.createElement("defs",null,M.createElement("clipPath",{id:"clipPath-".concat(P)},M.createElement("rect",{x:w?u:u-f/2,y:T?c:c-h/2,width:w?f:f*2,height:T?h:h*2}))):null,M.createElement(qt,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(P,")"):null},b?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,P),(!p||_)&&xa.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(D.PureComponent);bL=Co;so(Co,"displayName","Bar");so(Co,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!xo.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});so(Co,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,o=t.xAxis,a=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,p=Jce(r,n);if(!p)return null;var b=e.layout,y=n.type.defaultProps,_=y!==void 0?Pt(Pt({},y),n.props):n.props,E=_.dataKey,w=_.children,T=_.minPointSize,I=b==="horizontal"?a:o,P=u?I.scale.domain():null,C=afe({numericAxis:I}),S=Pr(w,HM),g=f.map(function(x,k){var O,R,N,V,K,W;u?O=Zce(u[c+k],P):(O=Zr(x,E),Array.isArray(O)||(O=[C,O]));var F=nge(T,bL.defaultProps.minPointSize)(O[1],k);if(b==="horizontal"){var $,U=[a.scale(O[0]),a.scale(O[1])],Y=U[0],J=U[1];R=ak({axis:o,ticks:s,bandSize:i,offset:p.offset,entry:x,index:k}),N=($=J??Y)!==null&&$!==void 0?$:void 0,V=p.size;var z=Y-J;if(K=Number.isNaN(z)?0:z,W={x:R,y:a.y,width:V,height:a.height},Math.abs(F)>0&&Math.abs(K)<Math.abs(F)){var te=Sr(K||F)*(Math.abs(F)-Math.abs(K));N-=te,K+=te}}else{var pe=[o.scale(O[0]),o.scale(O[1])],ge=pe[0],Ae=pe[1];if(R=ge,N=ak({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:x,index:k}),V=Ae-ge,K=p.size,W={x:o.x,y:N,width:o.width,height:K},Math.abs(F)>0&&Math.abs(V)<Math.abs(F)){var be=Sr(V||F)*(Math.abs(F)-Math.abs(V));V+=be}}return Pt(Pt(Pt({},x),{},{x:R,y:N,width:V,height:K,value:u?O:O[1],payload:x,background:W},S&&S[k]&&S[k].props),{},{tooltipPayload:[J$(n,x)],tooltipPosition:{x:R+V/2,y:N+K/2}})});return Pt({data:g,layout:b},h)});function kf(t){"@babel/helpers - typeof";return kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kf(t)}function hge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,EL(r.key),r)}}function pge(t,e,n){return e&&uO(t.prototype,e),n&&uO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cO(Object(n),!0).forEach(function(r){Yg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yg(t,e,n){return e=EL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EL(t){var e=mge(t,"string");return kf(e)=="symbol"?e:e+""}function mge(t,e){if(kf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gge=function(e,n,r,i,o){var a=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!Vn(u,Co);return c.reduce(function(p,b){var y=n[b],_=y.orientation,E=y.domain,w=y.padding,T=w===void 0?{}:w,I=y.mirror,P=y.reversed,C="".concat(_).concat(I?"Mirror":""),S,g,x,k,O;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var R=E[1]-E[0],N=1/0,V=y.categoricalDomain.sort();if(V.forEach(function(pe,ge){ge>0&&(N=Math.min((pe||0)-(V[ge-1]||0),N))}),Number.isFinite(N)){var K=N/R,W=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(S=K*W/2),y.padding==="no-gap"){var F=Ba(e.barCategoryGap,K*W),$=K*W/2;S=$-F-($-F)/W*F}}}i==="xAxis"?g=[r.left+(T.left||0)+(S||0),r.left+r.width-(T.right||0)-(S||0)]:i==="yAxis"?g=l==="horizontal"?[r.top+r.height-(T.bottom||0),r.top+(T.top||0)]:[r.top+(T.top||0)+(S||0),r.top+r.height-(T.bottom||0)-(S||0)]:g=y.range,P&&(g=[g[1],g[0]]);var U=Xce(y,o,h),Y=U.scale,J=U.realScaleType;Y.domain(E).range(g),Yce(Y);var z=ofe(Y,xr(xr({},y),{},{realScaleType:J}));i==="xAxis"?(O=_==="top"&&!I||_==="bottom"&&I,x=r.left,k=f[C]-O*y.height):i==="yAxis"&&(O=_==="left"&&!I||_==="right"&&I,x=f[C]-O*y.width,k=r.top);var te=xr(xr(xr({},y),z),{},{realScaleType:J,x,y:k,scale:Y,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return te.bandSize=Zp(te,z),!y.hide&&i==="xAxis"?f[C]+=(O?-1:1)*te.height:y.hide||(f[C]+=(O?-1:1)*te.width),xr(xr({},p),{},Yg({},b,te))},{})},TL=function(e,n){var r=e.x,i=e.y,o=n.x,a=n.y;return{x:Math.min(r,o),y:Math.min(i,a),width:Math.abs(o-r),height:Math.abs(a-i)}},yge=function(e){var n=e.x1,r=e.y1,i=e.x2,o=e.y2;return TL({x:n,y:r},{x:i,y:o})},SL=function(){function t(e){hge(this,t),this.scale=e}return pge(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,o=r.position;if(n!==void 0){if(o)switch(o){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],o=r[r.length-1];return i<=o?n>=i&&n<=o:n>=o&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Yg(SL,"EPS",1e-4);var C1=function(e){var n=Object.keys(e).reduce(function(r,i){return xr(xr({},r),{},Yg({},i,SL.create(e[i])))},{});return xr(xr({},n),{},{apply:function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=o.bandAware,s=o.position;return Mme(i,function(l,u){return n[u].apply(l,{bandAware:a,position:s})})},isInRange:function(i){return _L(i,function(o,a){return n[a].isInRange(o)})}})};function vge(t){return(t%180+180)%180}var _ge=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=vge(i),a=o*Math.PI/180,s=Math.atan(r/n),l=a>s&&a<Math.PI-s?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},bge=Fo,wge=ed,xge=Dg;function Ege(t){return function(e,n,r){var i=Object(e);if(!wge(e)){var o=bge(n);e=xge(e),n=function(s){return o(i[s],s,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:void 0}}var Tge=Ege,Sge=mL;function Ige(t){var e=Sge(t),n=e%1;return e===e?n?e-n:e:0}var Age=Ige,Pge=CM,kge=Fo,Oge=Age,Cge=Math.max;function Nge(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:Oge(n);return i<0&&(i=Cge(r+i,0)),Pge(t,kge(e),i)}var Rge=Nge,jge=Tge,Dge=Rge,Mge=jge(Dge),$ge=Mge;const Lge=Ge($ge);var Vge=MG(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),N1=D.createContext(void 0),R1=D.createContext(void 0),IL=D.createContext(void 0),AL=D.createContext({}),PL=D.createContext(void 0),kL=D.createContext(0),OL=D.createContext(0),fO=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,o=n.offset,a=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Vge(o);return M.createElement(N1.Provider,{value:r},M.createElement(R1.Provider,{value:i},M.createElement(AL.Provider,{value:o},M.createElement(IL.Provider,{value:c},M.createElement(PL.Provider,{value:a},M.createElement(kL.Provider,{value:u},M.createElement(OL.Provider,{value:l},s)))))))},Fge=function(){return D.useContext(PL)},CL=function(e){var n=D.useContext(N1);n==null&&za();var r=n[e];return r==null&&za(),r},Bge=function(){var e=D.useContext(N1);return to(e)},Uge=function(){var e=D.useContext(R1),n=Lge(e,function(r){return _L(r.domain,Number.isFinite)});return n||to(e)},NL=function(e){var n=D.useContext(R1);n==null&&za();var r=n[e];return r==null&&za(),r},zge=function(){var e=D.useContext(IL);return e},qge=function(){return D.useContext(AL)},j1=function(){return D.useContext(OL)},D1=function(){return D.useContext(kL)};function Il(t){"@babel/helpers - typeof";return Il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Il(t)}function Wge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hge(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,jL(r.key),r)}}function Kge(t,e,n){return e&&Hge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Gge(t,e,n){return e=hm(e),Qge(t,RL()?Reflect.construct(e,n||[],hm(t).constructor):e.apply(t,n))}function Qge(t,e){if(e&&(Il(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xge(t)}function Xge(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function RL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(RL=function(){return!!t})()}function hm(t){return hm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hm(t)}function Yge(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pb(t,e)}function pb(t,e){return pb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pb(t,e)}function dO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dO(Object(n),!0).forEach(function(r){M1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function M1(t,e,n){return e=jL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jL(t){var e=Jge(t,"string");return Il(e)=="symbol"?e:e+""}function Jge(t,e){if(Il(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Il(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zge(t,e){return rye(t)||nye(t,e)||tye(t,e)||eye()}function eye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tye(t,e){if(t){if(typeof t=="string")return pO(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pO(t,e)}}function pO(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nye(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function rye(t){if(Array.isArray(t))return t}function mb(){return mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mb.apply(this,arguments)}var iye=function(e,n){var r;return M.isValidElement(e)?r=M.cloneElement(e,n):Oe(e)?r=e(n):r=M.createElement("line",mb({},n,{className:"recharts-reference-line-line"})),r},oye=function(e,n,r,i,o,a,s,l,u){var c=o.x,f=o.y,h=o.width,p=o.height;if(r){var b=u.y,y=e.y.apply(b,{position:a});if(Qr(u,"discard")&&!e.y.isInRange(y))return null;var _=[{x:c+h,y},{x:c,y}];return l==="left"?_.reverse():_}if(n){var E=u.x,w=e.x.apply(E,{position:a});if(Qr(u,"discard")&&!e.x.isInRange(w))return null;var T=[{x:w,y:f+p},{x:w,y:f}];return s==="top"?T.reverse():T}if(i){var I=u.segment,P=I.map(function(C){return e.apply(C,{position:a})});return Qr(u,"discard")&&Pme(P,function(C){return!e.isInRange(C)})?null:P}return null};function aye(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,o=t.yAxisId,a=t.shape,s=t.className,l=t.alwaysShow,u=Fge(),c=CL(i),f=NL(o),h=zge();if(!u||!h)return null;bi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=C1({x:c.scale,y:f.scale}),b=Dt(e),y=Dt(n),_=r&&r.length===2,E=oye(p,b,y,_,h,t.position,c.orientation,f.orientation,t);if(!E)return null;var w=Zge(E,2),T=w[0],I=T.x,P=T.y,C=w[1],S=C.x,g=C.y,x=Qr(t,"hidden")?"url(#".concat(u,")"):void 0,k=hO(hO({clipPath:x},Me(t,!0)),{},{x1:I,y1:P,x2:S,y2:g});return M.createElement(qt,{className:Fe("recharts-reference-line",s)},iye(a,k),un.renderCallByParent(t,yge({x1:I,y1:P,x2:S,y2:g})))}var $1=function(t){function e(){return Wge(this,e),Gge(this,e,arguments)}return Yge(e,t),Kge(e,[{key:"render",value:function(){return M.createElement(aye,this.props)}}])}(M.Component);M1($1,"displayName","ReferenceLine");M1($1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function gb(){return gb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gb.apply(this,arguments)}function Al(t){"@babel/helpers - typeof";return Al=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Al(t)}function mO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mO(Object(n),!0).forEach(function(r){Jg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ML(r.key),r)}}function uye(t,e,n){return e&&lye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function cye(t,e,n){return e=pm(e),fye(t,DL()?Reflect.construct(e,n||[],pm(t).constructor):e.apply(t,n))}function fye(t,e){if(e&&(Al(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dye(t)}function dye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DL=function(){return!!t})()}function pm(t){return pm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},pm(t)}function hye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yb(t,e)}function yb(t,e){return yb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yb(t,e)}function Jg(t,e,n){return e=ML(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ML(t){var e=pye(t,"string");return Al(e)=="symbol"?e:e+""}function pye(t,e){if(Al(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Al(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mye=function(e){var n=e.x,r=e.y,i=e.xAxis,o=e.yAxis,a=C1({x:i.scale,y:o.scale}),s=a.apply({x:n,y:r},{bandAware:!0});return Qr(e,"discard")&&!a.isInRange(s)?null:s},Zg=function(t){function e(){return sye(this,e),cye(this,e,arguments)}return hye(e,t),uye(e,[{key:"render",value:function(){var r=this.props,i=r.x,o=r.y,a=r.r,s=r.alwaysShow,l=r.clipPathId,u=Dt(i),c=Dt(o);if(bi(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=mye(this.props);if(!f)return null;var h=f.x,p=f.y,b=this.props,y=b.shape,_=b.className,E=Qr(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=gO(gO({clipPath:E},Me(this.props,!0)),{},{cx:h,cy:p});return M.createElement(qt,{className:Fe("recharts-reference-dot",_)},e.renderDot(y,w),un.renderCallByParent(this.props,{x:h-a,y:p-a,width:2*a,height:2*a}))}}])}(M.Component);Jg(Zg,"displayName","ReferenceDot");Jg(Zg,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Jg(Zg,"renderDot",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Oe(t)?n=t(e):n=M.createElement(hL,gb({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function vb(){return vb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vb.apply(this,arguments)}function Pl(t){"@babel/helpers - typeof";return Pl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pl(t)}function yO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vO(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yO(Object(n),!0).forEach(function(r){ey(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yye(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,LL(r.key),r)}}function vye(t,e,n){return e&&yye(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ye(t,e,n){return e=mm(e),bye(t,$L()?Reflect.construct(e,n||[],mm(t).constructor):e.apply(t,n))}function bye(t,e){if(e&&(Pl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wye(t)}function wye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $L(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($L=function(){return!!t})()}function mm(t){return mm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mm(t)}function xye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&_b(t,e)}function _b(t,e){return _b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},_b(t,e)}function ey(t,e,n){return e=LL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function LL(t){var e=Eye(t,"string");return Pl(e)=="symbol"?e:e+""}function Eye(t,e){if(Pl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Pl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tye=function(e,n,r,i,o){var a=o.x1,s=o.x2,l=o.y1,u=o.y2,c=o.xAxis,f=o.yAxis;if(!c||!f)return null;var h=C1({x:c.scale,y:f.scale}),p={x:e?h.x.apply(a,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},b={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return Qr(o,"discard")&&(!h.isInRange(p)||!h.isInRange(b))?null:TL(p,b)},ty=function(t){function e(){return gye(this,e),_ye(this,e,arguments)}return xye(e,t),vye(e,[{key:"render",value:function(){var r=this.props,i=r.x1,o=r.x2,a=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;bi(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Dt(i),h=Dt(o),p=Dt(a),b=Dt(s),y=this.props.shape;if(!f&&!h&&!p&&!b&&!y)return null;var _=Tye(f,h,p,b,this.props);if(!_&&!y)return null;var E=Qr(this.props,"hidden")?"url(#".concat(c,")"):void 0;return M.createElement(qt,{className:Fe("recharts-reference-area",l)},e.renderRect(y,vO(vO({clipPath:E},Me(this.props,!0)),_)),un.renderCallByParent(this.props,_))}}])}(M.Component);ey(ty,"displayName","ReferenceArea");ey(ty,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ey(ty,"renderRect",function(t,e){var n;return M.isValidElement(t)?n=M.cloneElement(t,e):Oe(t)?n=t(e):n=M.createElement(O1,vb({},e,{className:"recharts-reference-area-rect"})),n});function VL(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function Sye(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return _ge(r,n)}function Iye(t,e,n){var r=n==="width",i=t.x,o=t.y,a=t.width,s=t.height;return e===1?{start:r?i:o,end:r?i+a:o+s}:{start:r?i+a:o+s,end:r?i:o}}function gm(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var o=n();return t*(e-t*o/2-r)>=0&&t*(e+t*o/2-i)<=0}function Aye(t,e){return VL(t,e+1)}function Pye(t,e,n,r,i){for(var o=(r||[]).slice(),a=e.start,s=e.end,l=0,u=1,c=a,f=function(){var b=r?.[l];if(b===void 0)return{v:VL(r,u)};var y=l,_,E=function(){return _===void 0&&(_=n(b,y)),_},w=b.coordinate,T=l===0||gm(t,w,E,c,s);T||(l=0,c=a,u+=1),T&&(c=w+t*(E()/2+i),l+=u)},h;u<=o.length;)if(h=f(),h)return h.v;return[]}function Of(t){"@babel/helpers - typeof";return Of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Of(t)}function _O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_O(Object(n),!0).forEach(function(r){kye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_O(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kye(t,e,n){return e=Oye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oye(t){var e=Cye(t,"string");return Of(e)=="symbol"?e:e+""}function Cye(t,e){if(Of(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Of(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nye(t,e,n,r,i){for(var o=(r||[]).slice(),a=o.length,s=e.start,l=e.end,u=function(h){var p=o[h],b,y=function(){return b===void 0&&(b=n(p,h)),b};if(h===a-1){var _=t*(p.coordinate+t*y()/2-l);o[h]=p=sn(sn({},p),{},{tickCoord:_>0?p.coordinate-_*t:p.coordinate})}else o[h]=p=sn(sn({},p),{},{tickCoord:p.coordinate});var E=gm(t,p.tickCoord,y,s,l);E&&(l=p.tickCoord-t*(y()/2+i),o[h]=sn(sn({},p),{},{isShow:!0}))},c=a-1;c>=0;c--)u(c);return o}function Rye(t,e,n,r,i,o){var a=(r||[]).slice(),s=a.length,l=e.start,u=e.end;if(o){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);a[s-1]=c=sn(sn({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var p=gm(t,c.tickCoord,function(){return f},l,u);p&&(u=c.tickCoord-t*(f/2+i),a[s-1]=sn(sn({},c),{},{isShow:!0}))}for(var b=o?s-1:s,y=function(w){var T=a[w],I,P=function(){return I===void 0&&(I=n(T,w)),I};if(w===0){var C=t*(T.coordinate-t*P()/2-l);a[w]=T=sn(sn({},T),{},{tickCoord:C<0?T.coordinate-C*t:T.coordinate})}else a[w]=T=sn(sn({},T),{},{tickCoord:T.coordinate});var S=gm(t,T.tickCoord,P,l,u);S&&(l=T.tickCoord+t*(P()/2+i),a[w]=sn(sn({},T),{},{isShow:!0}))},_=0;_<b;_++)y(_);return a}function L1(t,e,n){var r=t.tick,i=t.ticks,o=t.viewBox,a=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(ie(l)||xo.isSsr)return Aye(i,typeof l=="number"&&ie(l)?l:0);var h=[],p=s==="top"||s==="bottom"?"width":"height",b=c&&p==="width"?mc(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(T,I){var P=Oe(u)?u(T.value,I):T.value;return p==="width"?Sye(mc(P,{fontSize:e,letterSpacing:n}),b,f):mc(P,{fontSize:e,letterSpacing:n})[p]},_=i.length>=2?Sr(i[1].coordinate-i[0].coordinate):1,E=Iye(o,_,p);return l==="equidistantPreserveStart"?Pye(_,E,y,i,a):(l==="preserveStart"||l==="preserveStartEnd"?h=Rye(_,E,y,i,a,l==="preserveStartEnd"):h=Nye(_,E,y,i,a),h.filter(function(w){return w.isShow}))}var jye=["viewBox"],Dye=["viewBox"],Mye=["ticks"];function kl(t){"@babel/helpers - typeof";return kl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kl(t)}function Ms(){return Ms=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ms.apply(this,arguments)}function bO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bO(Object(n),!0).forEach(function(r){V1(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nv(t,e){if(t==null)return{};var n=$ye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $ye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,BL(r.key),r)}}function Vye(t,e,n){return e&&wO(t.prototype,e),n&&wO(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Fye(t,e,n){return e=ym(e),Bye(t,FL()?Reflect.construct(e,n||[],ym(t).constructor):e.apply(t,n))}function Bye(t,e){if(e&&(kl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Uye(t)}function Uye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function FL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FL=function(){return!!t})()}function ym(t){return ym=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ym(t)}function zye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bb(t,e)}function bb(t,e){return bb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bb(t,e)}function V1(t,e,n){return e=BL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BL(t){var e=qye(t,"string");return kl(e)=="symbol"?e:e+""}function qye(t,e){if(kl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iu=function(t){function e(n){var r;return Lye(this,e),r=Fye(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return zye(e,t),Vye(e,[{key:"shouldComponentUpdate",value:function(r,i){var o=r.viewBox,a=Nv(r,jye),s=this.props,l=s.viewBox,u=Nv(s,Dye);return!Ks(o,l)||!Ks(a,u)||!Ks(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,o=i.x,a=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,p,b,y,_,E,w,T=f?-1:1,I=r.tickSize||c,P=ie(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":p=b=r.coordinate,_=a+ +!f*l,y=_-T*I,w=y-T*h,E=P;break;case"left":y=_=r.coordinate,b=o+ +!f*s,p=b-T*I,E=p-T*h,w=P;break;case"right":y=_=r.coordinate,b=o+ +f*s,p=b+T*I,E=p+T*h,w=P;break;default:p=b=r.coordinate,_=a+ +f*l,y=_+T*I,w=y+T*h,E=P;break}return{line:{x1:p,y1:y,x2:b,y2:_},tick:{x:E,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a;switch(i){case"left":a=o?"start":"end";break;case"right":a=o?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,o=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=o?"start":"end";break;default:a=o?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,o=r.y,a=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=mn(mn(mn({},Me(this.props,!1)),Me(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=mn(mn({},f),{},{x1:i,y1:o+h*s,x2:i+a,y2:o+h*s})}else{var p=+(l==="left"&&!u||l==="right"&&u);f=mn(mn({},f),{},{x1:i+p*a,y1:o,x2:i+p*a,y2:o+s})}return M.createElement("line",Ms({},f,{className:Fe("recharts-cartesian-axis-line",ur(c,"className"))}))}},{key:"renderTicks",value:function(r,i,o){var a=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,p=L1(mn(mn({},this.props),{},{ticks:r}),i,o),b=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),_=Me(this.props,!1),E=Me(c,!1),w=mn(mn({},_),{},{fill:"none"},Me(l,!1)),T=p.map(function(I,P){var C=a.getTickLineCoord(I),S=C.line,g=C.tick,x=mn(mn(mn(mn({textAnchor:b,verticalAnchor:y},_),{},{stroke:"none",fill:u},E),g),{},{index:P,payload:I,visibleTicksCount:p.length,tickFormatter:f});return M.createElement(qt,Ms({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Sp(a.props,I,P)),l&&M.createElement("line",Ms({},w,S,{className:Fe("recharts-cartesian-axis-tick-line",ur(l,"className"))})),c&&e.renderTickItem(c,x,"".concat(Oe(f)?f(I.value,P):I.value).concat(h||"")))});return M.createElement("g",{className:"recharts-cartesian-axis-ticks"},T)}},{key:"render",value:function(){var r=this,i=this.props,o=i.axisLine,a=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,p=Nv(f,Mye),b=h;return Oe(l)&&(b=h&&h.length>0?l(this.props):l(p)),a<=0||s<=0||!b||!b.length?null:M.createElement(qt,{className:Fe("recharts-cartesian-axis",u),ref:function(_){r.layerReference=_}},o&&this.renderAxisLine(),this.renderTicks(b,this.state.fontSize,this.state.letterSpacing),un.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,o){var a;return M.isValidElement(r)?a=M.cloneElement(r,i):Oe(r)?a=r(i):a=M.createElement(Vp,Ms({},i,{className:"recharts-cartesian-axis-tick-value"}),o),a}}])}(D.Component);V1(iu,"displayName","CartesianAxis");V1(iu,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Wye=["x1","y1","x2","y2","key"],Hye=["offset"];function qa(t){"@babel/helpers - typeof";return qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qa(t)}function xO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function cn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xO(Object(n),!0).forEach(function(r){Kye(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kye(t,e,n){return e=Gye(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gye(t){var e=Qye(t,"string");return qa(e)=="symbol"?e:e+""}function Qye(t,e){if(qa(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qa(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ma(){return ma=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ma.apply(this,arguments)}function EO(t,e){if(t==null)return{};var n=Xye(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Xye(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Yye=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,o=e.y,a=e.width,s=e.height,l=e.ry;return M.createElement("rect",{x:i,y:o,ry:l,width:a,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function UL(t,e){var n;if(M.isValidElement(t))n=M.cloneElement(t,e);else if(Oe(t))n=t(e);else{var r=e.x1,i=e.y1,o=e.x2,a=e.y2,s=e.key,l=EO(e,Wye),u=Me(l,!1);u.offset;var c=EO(u,Hye);n=M.createElement("line",ma({},c,{x1:r,y1:i,x2:o,y2:a,fill:"none",key:s}))}return n}function Jye(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,o=t.horizontalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=cn(cn({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return UL(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Zye(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,o=t.verticalPoints;if(!i||!o||!o.length)return null;var a=o.map(function(s,l){var u=cn(cn({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return UL(i,u)});return M.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function eve(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,o=t.width,a=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,p){return h-p});i!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var b=!c[p+1],y=b?i+a-h:c[p+1]-h;if(y<=0)return null;var _=p%e.length;return M.createElement("rect",{key:"react-".concat(p),y:h,x:r,height:y,width:o,stroke:"none",fill:e[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function tve(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,o=t.x,a=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+o-o)}).sort(function(h,p){return h-p});o!==c[0]&&c.unshift(0);var f=c.map(function(h,p){var b=!c[p+1],y=b?o+s-h:c[p+1]-h;if(y<=0)return null;var _=p%r.length;return M.createElement("rect",{key:"react-".concat(p),x:h,y:a,width:y,height:l,stroke:"none",fill:r[_],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return M.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var nve=function(e,n){var r=e.xAxis,i=e.width,o=e.height,a=e.offset;return X$(L1(cn(cn(cn({},iu.defaultProps),r),{},{ticks:pi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.left,a.left+a.width,n)},rve=function(e,n){var r=e.yAxis,i=e.width,o=e.height,a=e.offset;return X$(L1(cn(cn(cn({},iu.defaultProps),r),{},{ticks:pi(r,!0),viewBox:{x:0,y:0,width:i,height:o}})),a.top,a.top+a.height,n)},gs={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function zL(t){var e,n,r,i,o,a,s=j1(),l=D1(),u=qge(),c=cn(cn({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:gs.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:gs.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:gs.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:gs.horizontalFill,vertical:(o=t.vertical)!==null&&o!==void 0?o:gs.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:gs.verticalFill,x:ie(t.x)?t.x:u.left,y:ie(t.y)?t.y:u.top,width:ie(t.width)?t.width:u.width,height:ie(t.height)?t.height:u.height}),f=c.x,h=c.y,p=c.width,b=c.height,y=c.syncWithTicks,_=c.horizontalValues,E=c.verticalValues,w=Bge(),T=Uge();if(!ie(p)||p<=0||!ie(b)||b<=0||!ie(f)||f!==+f||!ie(h)||h!==+h)return null;var I=c.verticalCoordinatesGenerator||nve,P=c.horizontalCoordinatesGenerator||rve,C=c.horizontalPoints,S=c.verticalPoints;if((!C||!C.length)&&Oe(P)){var g=_&&_.length,x=P({yAxis:T?cn(cn({},T),{},{ticks:g?_:T.ticks}):void 0,width:s,height:l,offset:u},g?!0:y);bi(Array.isArray(x),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(qa(x),"]")),Array.isArray(x)&&(C=x)}if((!S||!S.length)&&Oe(I)){var k=E&&E.length,O=I({xAxis:w?cn(cn({},w),{},{ticks:k?E:w.ticks}):void 0,width:s,height:l,offset:u},k?!0:y);bi(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(qa(O),"]")),Array.isArray(O)&&(S=O)}return M.createElement("g",{className:"recharts-cartesian-grid"},M.createElement(Yye,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),M.createElement(Jye,ma({},c,{offset:u,horizontalPoints:C,xAxis:w,yAxis:T})),M.createElement(Zye,ma({},c,{offset:u,verticalPoints:S,xAxis:w,yAxis:T})),M.createElement(eve,ma({},c,{horizontalPoints:C})),M.createElement(tve,ma({},c,{verticalPoints:S})))}zL.displayName="CartesianGrid";function Ol(t){"@babel/helpers - typeof";return Ol=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ol(t)}function ive(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ove(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,HL(r.key),r)}}function ave(t,e,n){return e&&ove(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sve(t,e,n){return e=vm(e),lve(t,qL()?Reflect.construct(e,n||[],vm(t).constructor):e.apply(t,n))}function lve(t,e){if(e&&(Ol(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uve(t)}function uve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qL=function(){return!!t})()}function vm(t){return vm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vm(t)}function cve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wb(t,e)}function wb(t,e){return wb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wb(t,e)}function WL(t,e,n){return e=HL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HL(t){var e=fve(t,"string");return Ol(e)=="symbol"?e:e+""}function fve(t,e){if(Ol(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ol(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(this,arguments)}function dve(t){var e=t.xAxisId,n=j1(),r=D1(),i=CL(e);return i==null?null:M.createElement(iu,xb({},i,{className:Fe("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return pi(a,!0)}}))}var ny=function(t){function e(){return ive(this,e),sve(this,e,arguments)}return cve(e,t),ave(e,[{key:"render",value:function(){return M.createElement(dve,this.props)}}])}(M.Component);WL(ny,"displayName","XAxis");WL(ny,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Cl(t){"@babel/helpers - typeof";return Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cl(t)}function hve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,QL(r.key),r)}}function mve(t,e,n){return e&&pve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gve(t,e,n){return e=_m(e),yve(t,KL()?Reflect.construct(e,n||[],_m(t).constructor):e.apply(t,n))}function yve(t,e){if(e&&(Cl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vve(t)}function vve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KL=function(){return!!t})()}function _m(t){return _m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_m(t)}function _ve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Eb(t,e)}function Eb(t,e){return Eb=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Eb(t,e)}function GL(t,e,n){return e=QL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QL(t){var e=bve(t,"string");return Cl(e)=="symbol"?e:e+""}function bve(t,e){if(Cl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Cl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tb(){return Tb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tb.apply(this,arguments)}var wve=function(e){var n=e.yAxisId,r=j1(),i=D1(),o=NL(n);return o==null?null:M.createElement(iu,Tb({},o,{className:Fe("recharts-".concat(o.axisType," ").concat(o.axisType),o.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return pi(s,!0)}}))},ry=function(t){function e(){return hve(this,e),gve(this,e,arguments)}return _ve(e,t),mve(e,[{key:"render",value:function(){return M.createElement(wve,this.props)}}])}(M.Component);GL(ry,"displayName","YAxis");GL(ry,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function TO(t){return Sve(t)||Tve(t)||Eve(t)||xve()}function xve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eve(t,e){if(t){if(typeof t=="string")return Sb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Sb(t,e)}}function Tve(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Sve(t){if(Array.isArray(t))return Sb(t)}function Sb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ib=function(e,n,r,i,o){var a=Pr(e,$1),s=Pr(e,Zg),l=[].concat(TO(a),TO(s)),u=Pr(e,ty),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,_){if(_.props[c]===r&&Qr(_.props,"extendDomain")&&ie(_.props[f])){var E=_.props[f];return[Math.min(y[0],E),Math.max(y[1],E)]}return y},h)),u.length){var p="".concat(f,"1"),b="".concat(f,"2");h=u.reduce(function(y,_){if(_.props[c]===r&&Qr(_.props,"extendDomain")&&ie(_.props[p])&&ie(_.props[b])){var E=_.props[p],w=_.props[b];return[Math.min(y[0],E,w),Math.max(y[1],E,w)]}return y},h)}return o&&o.length&&(h=o.reduce(function(y,_){return ie(_)?[Math.min(y[0],_),Math.max(y[1],_)]:y},h)),h},XL={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function o(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new i(c,f||l,h),b=n?n+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],p]:l._events[b].push(p):(l._events[b]=p,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,p=f.length,b=new Array(p);h<p;h++)b[h]=f[h].fn;return b},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,p,b){var y=n?n+u:u;if(!this._events[y])return!1;var _=this._events[y],E=arguments.length,w,T;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),E){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,f),!0;case 4:return _.fn.call(_.context,c,f,h),!0;case 5:return _.fn.call(_.context,c,f,h,p),!0;case 6:return _.fn.call(_.context,c,f,h,p,b),!0}for(T=1,w=new Array(E-1);T<E;T++)w[T-1]=arguments[T];_.fn.apply(_.context,w)}else{var I=_.length,P;for(T=0;T<I;T++)switch(_[T].once&&this.removeListener(u,_[T].fn,void 0,!0),E){case 1:_[T].fn.call(_[T].context);break;case 2:_[T].fn.call(_[T].context,c);break;case 3:_[T].fn.call(_[T].context,c,f);break;case 4:_[T].fn.call(_[T].context,c,f,h);break;default:if(!w)for(P=1,w=new Array(E-1);P<E;P++)w[P-1]=arguments[P];_[T].fn.apply(_[T].context,w)}}return!0},s.prototype.on=function(u,c,f){return o(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return o(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var p=n?n+u:u;if(!this._events[p])return this;if(!c)return a(this,p),this;var b=this._events[p];if(b.fn)b.fn===c&&(!h||b.once)&&(!f||b.context===f)&&a(this,p);else{for(var y=0,_=[],E=b.length;y<E;y++)(b[y].fn!==c||h&&!b[y].once||f&&b[y].context!==f)&&_.push(b[y]);_.length?this._events[p]=_.length===1?_[0]:_:a(this,p)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&a(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(XL);var Ive=XL.exports;const Ave=Ge(Ive);var Rv=new Ave,jv="recharts.syncMouseEvents";function Cf(t){"@babel/helpers - typeof";return Cf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cf(t)}function Pve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,YL(r.key),r)}}function Ove(t,e,n){return e&&kve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dv(t,e,n){return e=YL(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YL(t){var e=Cve(t,"string");return Cf(e)=="symbol"?e:e+""}function Cve(t,e){if(Cf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Nve=function(){function t(){Pve(this,t),Dv(this,"activeIndex",0),Dv(this,"coordinateList",[]),Dv(this,"layout","horizontal")}return Ove(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,o=i===void 0?null:i,a=n.container,s=a===void 0?null:a,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,p=h===void 0?null:h;this.coordinateList=(r=o??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),o=i.x,a=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=o+l+u,h=a+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Rve(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t?.[0],i=t?.[1];if(r&&i&&ie(r)&&ie(i))return!0}return!1}function jve(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JL(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,o=t.endAngle,a=Jt(e,n,r,i),s=Jt(e,n,r,o);return{points:[a,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:o}}function Dve(t,e,n){var r,i,o,a;if(t==="horizontal")r=e.x,o=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,o=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Jt(s,l,u,f),p=Jt(s,l,c,f);r=h.x,i=h.y,o=p.x,a=p.y}else return JL(e);return[{x:r,y:i},{x:o,y:a}]}function Nf(t){"@babel/helpers - typeof";return Nf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nf(t)}function SO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ih(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SO(Object(n),!0).forEach(function(r){Mve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mve(t,e,n){return e=$ve(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ve(t){var e=Lve(t,"string");return Nf(e)=="symbol"?e:e+""}function Lve(t,e){if(Nf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vve(t){var e,n,r=t.element,i=t.tooltipEventType,o=t.isActive,a=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!o||!a||h!=="ScatterChart"&&i!=="axis")return null;var b,y=xk;if(h==="ScatterChart")b=a,y=Jhe;else if(h==="BarChart")b=jve(f,a,l,c),y=O1;else if(f==="radial"){var _=JL(a),E=_.cx,w=_.cy,T=_.radius,I=_.startAngle,P=_.endAngle;b={cx:E,cy:w,startAngle:I,endAngle:P,innerRadius:T,outerRadius:T},y=tL}else b={points:Dve(f,a,l)},y=xk;var C=ih(ih(ih(ih({stroke:"#ccc",pointerEvents:"none"},l),b),Me(p,!1)),{},{payload:s,payloadIndex:u,className:Fe("recharts-tooltip-cursor",p.className)});return D.isValidElement(p)?D.cloneElement(p,C):D.createElement(y,C)}var Fve=["item"],Bve=["children","className","width","height","style","compact","title","desc"];function Nl(t){"@babel/helpers - typeof";return Nl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nl(t)}function _c(){return _c=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_c.apply(this,arguments)}function IO(t,e){return qve(t)||zve(t,e)||eV(t,e)||Uve()}function Uve(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zve(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(t)).next,e!==0)for(;!(l=(r=o.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return s}}function qve(t){if(Array.isArray(t))return t}function AO(t,e){if(t==null)return{};var n=Wve(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wve(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hve(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Kve(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tV(r.key),r)}}function Gve(t,e,n){return e&&Kve(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qve(t,e,n){return e=bm(e),Xve(t,ZL()?Reflect.construct(e,n||[],bm(t).constructor):e.apply(t,n))}function Xve(t,e){if(e&&(Nl(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yve(t)}function Yve(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZL(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZL=function(){return!!t})()}function bm(t){return bm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bm(t)}function Jve(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Ab(t,e)}function Ab(t,e){return Ab=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Ab(t,e)}function Rl(t){return t0e(t)||e0e(t)||eV(t)||Zve()}function Zve(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eV(t,e){if(t){if(typeof t=="string")return Pb(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pb(t,e)}}function e0e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t0e(t){if(Array.isArray(t))return Pb(t)}function Pb(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function PO(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PO(Object(n),!0).forEach(function(r){ve(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PO(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ve(t,e,n){return e=tV(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tV(t){var e=n0e(t,"string");return Nl(e)=="symbol"?e:e+""}function n0e(t,e){if(Nl(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var r0e={xAxis:["bottom","top"],yAxis:["left","right"]},i0e={width:"100%",height:"100%"},nV={x:0,y:0};function oh(t){return t}var o0e=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},a0e=function(e,n,r,i){var o=n.find(function(c){return c&&c.index===r});if(o){if(e==="horizontal")return{x:o.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:o.coordinate};if(e==="centric"){var a=o.coordinate,s=i.radius;return H(H(H({},i),Jt(i.cx,i.cy,s,a)),{},{angle:a,radius:s})}var l=o.coordinate,u=i.angle;return H(H(H({},i),Jt(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return nV},iy=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,o=n.dataEndIndex,a=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Rl(s),Rl(u)):s},[]);return a.length>0?a:e&&e.length&&ie(i)&&ie(o)?e.slice(i,o+1):[]};function rV(t){return t==="number"?[0,"auto"]:void 0}var kb=function(e,n,r,i){var o=e.graphicalItems,a=e.tooltipAxis,s=iy(n,e);return r<0||!o||!o.length||r>=s.length?null:o.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?s:f;h=l_(p,a.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Rl(l),[J$(u,h)]):l},[])},kO=function(e,n,r,i){var o=i||{x:e.chartX,y:e.chartY},a=o0e(o,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=qce(a,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=kb(e,n,c,f),p=a0e(r,s,c,o);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:p}}return null},s0e=function(e,n){var r=n.axes,i=n.graphicalItems,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,p=Q$(c,o);return r.reduce(function(b,y){var _,E=y.type.defaultProps!==void 0?H(H({},y.type.defaultProps),y.props):y.props,w=E.type,T=E.dataKey,I=E.allowDataOverflow,P=E.allowDuplicatedCategory,C=E.scale,S=E.ticks,g=E.includeHidden,x=E[a];if(b[x])return b;var k=iy(e.data,{graphicalItems:i.filter(function(z){var te,pe=a in z.props?z.props[a]:(te=z.type.defaultProps)===null||te===void 0?void 0:te[a];return pe===x}),dataStartIndex:l,dataEndIndex:u}),O=k.length,R,N,V;Rve(E.domain,I,w)&&(R=Q_(E.domain,null,I),p&&(w==="number"||C!=="auto")&&(V=yc(k,T,"category")));var K=rV(w);if(!R||R.length===0){var W,F=(W=E.domain)!==null&&W!==void 0?W:K;if(T){if(R=yc(k,T,w),w==="category"&&p){var $=NQ(R);P&&$?(N=R,R=lm(0,O)):P||(R=uk(F,R,y).reduce(function(z,te){return z.indexOf(te)>=0?z:[].concat(Rl(z),[te])},[]))}else if(w==="category")P?R=R.filter(function(z){return z!==""&&!Ve(z)}):R=uk(F,R,y).reduce(function(z,te){return z.indexOf(te)>=0||te===""||Ve(te)?z:[].concat(Rl(z),[te])},[]);else if(w==="number"){var U=Qce(k,i.filter(function(z){var te,pe,ge=a in z.props?z.props[a]:(te=z.type.defaultProps)===null||te===void 0?void 0:te[a],Ae="hide"in z.props?z.props.hide:(pe=z.type.defaultProps)===null||pe===void 0?void 0:pe.hide;return ge===x&&(g||!Ae)}),T,o,c);U&&(R=U)}p&&(w==="number"||C!=="auto")&&(V=yc(k,T,"category"))}else p?R=lm(0,O):s&&s[x]&&s[x].hasStack&&w==="number"?R=h==="expand"?[0,1]:Y$(s[x].stackGroups,l,u):R=G$(k,i.filter(function(z){var te=a in z.props?z.props[a]:z.type.defaultProps[a],pe="hide"in z.props?z.props.hide:z.type.defaultProps.hide;return te===x&&(g||!pe)}),w,c,!0);if(w==="number")R=Ib(f,R,x,o,S),F&&(R=Q_(F,R,I));else if(w==="category"&&F){var Y=F,J=R.every(function(z){return Y.indexOf(z)>=0});J&&(R=Y)}}return H(H({},b),{},ve({},x,H(H({},E),{},{axisType:o,domain:R,categoricalDomain:V,duplicateDomain:N,originalDomain:(_=E.domain)!==null&&_!==void 0?_:K,isCategorical:p,layout:c})))},{})},l0e=function(e,n){var r=n.graphicalItems,i=n.Axis,o=n.axisType,a=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=iy(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),p=h.length,b=Q$(c,o),y=-1;return r.reduce(function(_,E){var w=E.type.defaultProps!==void 0?H(H({},E.type.defaultProps),E.props):E.props,T=w[a],I=rV("number");if(!_[T]){y++;var P;return b?P=lm(0,p):s&&s[T]&&s[T].hasStack?(P=Y$(s[T].stackGroups,l,u),P=Ib(f,P,T,o)):(P=Q_(I,G$(h,r.filter(function(C){var S,g,x=a in C.props?C.props[a]:(S=C.type.defaultProps)===null||S===void 0?void 0:S[a],k="hide"in C.props?C.props.hide:(g=C.type.defaultProps)===null||g===void 0?void 0:g.hide;return x===T&&!k}),"number",c),i.defaultProps.allowDataOverflow),P=Ib(f,P,T,o)),H(H({},_),{},ve({},T,H(H({axisType:o},i.defaultProps),{},{hide:!0,orientation:ur(r0e,"".concat(o,".").concat(y%2),null),domain:P,originalDomain:I,isCategorical:b,layout:c})))}return _},{})},u0e=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,o=n.AxisComp,a=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=Pr(c,o),p={};return h&&h.length?p=s0e(e,{axes:h,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):a&&a.length&&(p=l0e(e,{Axis:o,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),p},c0e=function(e){var n=to(e),r=pi(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:n1(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:Zp(n,r)}},OO=function(e){var n=e.children,r=e.defaultShowTooltip,i=Vn(n,Tl),o=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(o=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:o,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},f0e=function(e){return!e||!e.length?!1:e.some(function(n){var r=_i(n&&n.type);return r&&r.indexOf("Bar")>=0})},CO=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},d0e=function(e,n){var r=e.props,i=e.graphicalItems,o=e.xAxisMap,a=o===void 0?{}:o,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},p=Vn(f,Tl),b=Vn(f,Gs),y=Object.keys(l).reduce(function(P,C){var S=l[C],g=S.orientation;return!S.mirror&&!S.hide?H(H({},P),{},ve({},g,P[g]+S.width)):P},{left:h.left||0,right:h.right||0}),_=Object.keys(a).reduce(function(P,C){var S=a[C],g=S.orientation;return!S.mirror&&!S.hide?H(H({},P),{},ve({},g,ur(P,"".concat(g))+S.height)):P},{top:h.top||0,bottom:h.bottom||0}),E=H(H({},_),y),w=E.bottom;p&&(E.bottom+=p.props.height||Tl.defaultProps.height),b&&n&&(E=Kce(E,i,r,n));var T=u-E.left-E.right,I=c-E.top-E.bottom;return H(H({brushBottom:w},E),{},{width:Math.max(T,0),height:Math.max(I,0)})},h0e=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},p0e=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,o=i===void 0?"axis":i,a=e.validateTooltipEventTypes,s=a===void 0?["axis"]:a,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(_,E){var w=E.graphicalItems,T=E.stackGroups,I=E.offset,P=E.updateId,C=E.dataStartIndex,S=E.dataEndIndex,g=_.barSize,x=_.layout,k=_.barGap,O=_.barCategoryGap,R=_.maxBarSize,N=CO(x),V=N.numericAxisName,K=N.cateAxisName,W=f0e(w),F=[];return w.forEach(function($,U){var Y=iy(_.data,{graphicalItems:[$],dataStartIndex:C,dataEndIndex:S}),J=$.type.defaultProps!==void 0?H(H({},$.type.defaultProps),$.props):$.props,z=J.dataKey,te=J.maxBarSize,pe=J["".concat(V,"Id")],ge=J["".concat(K,"Id")],Ae={},be=l.reduce(function(Tt,dt){var Be=E["".concat(dt.axisType,"Map")],Xe=J["".concat(dt.axisType,"Id")];Be&&Be[Xe]||dt.axisType==="zAxis"||za();var Sn=Be[Xe];return H(H({},Tt),{},ve(ve({},dt.axisType,Sn),"".concat(dt.axisType,"Ticks"),pi(Sn)))},Ae),$e=be[K],Q=be["".concat(K,"Ticks")],re=T&&T[pe]&&T[pe].hasStack&&sfe($,T[pe].stackGroups),ae=_i($.type).indexOf("Bar")>=0,G=Zp($e,Q),me=[],de=W&&Wce({barSize:g,stackGroups:T,totalSize:h0e(be,K)});if(ae){var we,ye,Qe=Ve(te)?R:te,st=(we=(ye=Zp($e,Q,!0))!==null&&ye!==void 0?ye:Qe)!==null&&we!==void 0?we:0;me=Hce({barGap:k,barCategoryGap:O,bandSize:st!==G?st:G,sizeList:de[ge],maxBarSize:Qe}),st!==G&&(me=me.map(function(Tt){return H(H({},Tt),{},{position:H(H({},Tt.position),{},{offset:Tt.position.offset-st/2})})}))}var Vt=$&&$.type&&$.type.getComposedData;Vt&&F.push({props:H(H({},Vt(H(H({},be),{},{displayedData:Y,props:_,dataKey:z,item:$,bandSize:G,barPosition:me,offset:I,stackedData:re,layout:x,dataStartIndex:C,dataEndIndex:S}))),{},ve(ve(ve({key:$.key||"item-".concat(U)},V,be[V]),K,be[K]),"animationId",P)),childIndex:zQ($,_.children),item:$})}),F},p=function(_,E){var w=_.props,T=_.dataStartIndex,I=_.dataEndIndex,P=_.updateId;if(!rA({props:w}))return null;var C=w.children,S=w.layout,g=w.stackOffset,x=w.data,k=w.reverseStackOrder,O=CO(S),R=O.numericAxisName,N=O.cateAxisName,V=Pr(C,r),K=ife(x,V,"".concat(R,"Id"),"".concat(N,"Id"),g,k),W=l.reduce(function(J,z){var te="".concat(z.axisType,"Map");return H(H({},J),{},ve({},te,u0e(w,H(H({},z),{},{graphicalItems:V,stackGroups:z.axisType===R&&K,dataStartIndex:T,dataEndIndex:I}))))},{}),F=d0e(H(H({},W),{},{props:w,graphicalItems:V}),E?.legendBBox);Object.keys(W).forEach(function(J){W[J]=c(w,W[J],F,J.replace("Map",""),n)});var $=W["".concat(N,"Map")],U=c0e($),Y=h(w,H(H({},W),{},{dataStartIndex:T,dataEndIndex:I,updateId:P,graphicalItems:V,stackGroups:K,offset:F}));return H(H({formattedGraphicalItems:Y,graphicalItems:V,offset:F,stackGroups:K},U),W)},b=function(y){function _(E){var w,T,I;return Hve(this,_),I=Qve(this,_,[E]),ve(I,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),ve(I,"accessibilityManager",new Nve),ve(I,"handleLegendBBoxUpdate",function(P){if(P){var C=I.state,S=C.dataStartIndex,g=C.dataEndIndex,x=C.updateId;I.setState(H({legendBBox:P},p({props:I.props,dataStartIndex:S,dataEndIndex:g,updateId:x},H(H({},I.state),{},{legendBBox:P}))))}}),ve(I,"handleReceiveSyncEvent",function(P,C,S){if(I.props.syncId===P){if(S===I.eventEmitterSymbol&&typeof I.props.syncMethod!="function")return;I.applySyncEvent(C)}}),ve(I,"handleBrushChange",function(P){var C=P.startIndex,S=P.endIndex;if(C!==I.state.dataStartIndex||S!==I.state.dataEndIndex){var g=I.state.updateId;I.setState(function(){return H({dataStartIndex:C,dataEndIndex:S},p({props:I.props,dataStartIndex:C,dataEndIndex:S,updateId:g},I.state))}),I.triggerSyncEvent({dataStartIndex:C,dataEndIndex:S})}}),ve(I,"handleMouseEnter",function(P){var C=I.getMouseInfo(P);if(C){var S=H(H({},C),{},{isTooltipActive:!0});I.setState(S),I.triggerSyncEvent(S);var g=I.props.onMouseEnter;Oe(g)&&g(S,P)}}),ve(I,"triggeredAfterMouseMove",function(P){var C=I.getMouseInfo(P),S=C?H(H({},C),{},{isTooltipActive:!0}):{isTooltipActive:!1};I.setState(S),I.triggerSyncEvent(S);var g=I.props.onMouseMove;Oe(g)&&g(S,P)}),ve(I,"handleItemMouseEnter",function(P){I.setState(function(){return{isTooltipActive:!0,activeItem:P,activePayload:P.tooltipPayload,activeCoordinate:P.tooltipPosition||{x:P.cx,y:P.cy}}})}),ve(I,"handleItemMouseLeave",function(){I.setState(function(){return{isTooltipActive:!1}})}),ve(I,"handleMouseMove",function(P){P.persist(),I.throttleTriggeredAfterMouseMove(P)}),ve(I,"handleMouseLeave",function(P){I.throttleTriggeredAfterMouseMove.cancel();var C={isTooltipActive:!1};I.setState(C),I.triggerSyncEvent(C);var S=I.props.onMouseLeave;Oe(S)&&S(C,P)}),ve(I,"handleOuterEvent",function(P){var C=UQ(P),S=ur(I.props,"".concat(C));if(C&&Oe(S)){var g,x;/.*touch.*/i.test(C)?x=I.getMouseInfo(P.changedTouches[0]):x=I.getMouseInfo(P),S((g=x)!==null&&g!==void 0?g:{},P)}}),ve(I,"handleClick",function(P){var C=I.getMouseInfo(P);if(C){var S=H(H({},C),{},{isTooltipActive:!0});I.setState(S),I.triggerSyncEvent(S);var g=I.props.onClick;Oe(g)&&g(S,P)}}),ve(I,"handleMouseDown",function(P){var C=I.props.onMouseDown;if(Oe(C)){var S=I.getMouseInfo(P);C(S,P)}}),ve(I,"handleMouseUp",function(P){var C=I.props.onMouseUp;if(Oe(C)){var S=I.getMouseInfo(P);C(S,P)}}),ve(I,"handleTouchMove",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&I.throttleTriggeredAfterMouseMove(P.changedTouches[0])}),ve(I,"handleTouchStart",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&I.handleMouseDown(P.changedTouches[0])}),ve(I,"handleTouchEnd",function(P){P.changedTouches!=null&&P.changedTouches.length>0&&I.handleMouseUp(P.changedTouches[0])}),ve(I,"triggerSyncEvent",function(P){I.props.syncId!==void 0&&Rv.emit(jv,I.props.syncId,P,I.eventEmitterSymbol)}),ve(I,"applySyncEvent",function(P){var C=I.props,S=C.layout,g=C.syncMethod,x=I.state.updateId,k=P.dataStartIndex,O=P.dataEndIndex;if(P.dataStartIndex!==void 0||P.dataEndIndex!==void 0)I.setState(H({dataStartIndex:k,dataEndIndex:O},p({props:I.props,dataStartIndex:k,dataEndIndex:O,updateId:x},I.state)));else if(P.activeTooltipIndex!==void 0){var R=P.chartX,N=P.chartY,V=P.activeTooltipIndex,K=I.state,W=K.offset,F=K.tooltipTicks;if(!W)return;if(typeof g=="function")V=g(F,P);else if(g==="value"){V=-1;for(var $=0;$<F.length;$++)if(F[$].value===P.activeLabel){V=$;break}}var U=H(H({},W),{},{x:W.left,y:W.top}),Y=Math.min(R,U.x+U.width),J=Math.min(N,U.y+U.height),z=F[V]&&F[V].value,te=kb(I.state,I.props.data,V),pe=F[V]?{x:S==="horizontal"?F[V].coordinate:Y,y:S==="horizontal"?J:F[V].coordinate}:nV;I.setState(H(H({},P),{},{activeLabel:z,activeCoordinate:pe,activePayload:te,activeTooltipIndex:V}))}else I.setState(P)}),ve(I,"renderCursor",function(P){var C,S=I.state,g=S.isTooltipActive,x=S.activeCoordinate,k=S.activePayload,O=S.offset,R=S.activeTooltipIndex,N=S.tooltipAxisBandSize,V=I.getTooltipEventType(),K=(C=P.props.active)!==null&&C!==void 0?C:g,W=I.props.layout,F=P.key||"_recharts-cursor";return M.createElement(Vve,{key:F,activeCoordinate:x,activePayload:k,activeTooltipIndex:R,chartName:n,element:P,isActive:K,layout:W,offset:O,tooltipAxisBandSize:N,tooltipEventType:V})}),ve(I,"renderPolarAxis",function(P,C,S){var g=ur(P,"type.axisType"),x=ur(I.state,"".concat(g,"Map")),k=P.type.defaultProps,O=k!==void 0?H(H({},k),P.props):P.props,R=x&&x[O["".concat(g,"Id")]];return D.cloneElement(P,H(H({},R),{},{className:Fe(g,R.className),key:P.key||"".concat(C,"-").concat(S),ticks:pi(R,!0)}))}),ve(I,"renderPolarGrid",function(P){var C=P.props,S=C.radialLines,g=C.polarAngles,x=C.polarRadius,k=I.state,O=k.radiusAxisMap,R=k.angleAxisMap,N=to(O),V=to(R),K=V.cx,W=V.cy,F=V.innerRadius,$=V.outerRadius;return D.cloneElement(P,{polarAngles:Array.isArray(g)?g:pi(V,!0).map(function(U){return U.coordinate}),polarRadius:Array.isArray(x)?x:pi(N,!0).map(function(U){return U.coordinate}),cx:K,cy:W,innerRadius:F,outerRadius:$,key:P.key||"polar-grid",radialLines:S})}),ve(I,"renderLegend",function(){var P=I.state.formattedGraphicalItems,C=I.props,S=C.children,g=C.width,x=C.height,k=I.props.margin||{},O=g-(k.left||0)-(k.right||0),R=H$({children:S,formattedGraphicalItems:P,legendWidth:O,legendContent:u});if(!R)return null;var N=R.item,V=AO(R,Fve);return D.cloneElement(N,H(H({},V),{},{chartWidth:g,chartHeight:x,margin:k,onBBoxUpdate:I.handleLegendBBoxUpdate}))}),ve(I,"renderTooltip",function(){var P,C=I.props,S=C.children,g=C.accessibilityLayer,x=Vn(S,Lr);if(!x)return null;var k=I.state,O=k.isTooltipActive,R=k.activeCoordinate,N=k.activePayload,V=k.activeLabel,K=k.offset,W=(P=x.props.active)!==null&&P!==void 0?P:O;return D.cloneElement(x,{viewBox:H(H({},K),{},{x:K.left,y:K.top}),active:W,label:V,payload:W?N:[],coordinate:R,accessibilityLayer:g})}),ve(I,"renderBrush",function(P){var C=I.props,S=C.margin,g=C.data,x=I.state,k=x.offset,O=x.dataStartIndex,R=x.dataEndIndex,N=x.updateId;return D.cloneElement(P,{key:P.key||"_recharts-brush",onChange:eh(I.handleBrushChange,P.props.onChange),data:g,x:ie(P.props.x)?P.props.x:k.left,y:ie(P.props.y)?P.props.y:k.top+k.height+k.brushBottom-(S.bottom||0),width:ie(P.props.width)?P.props.width:k.width,startIndex:O,endIndex:R,updateId:"brush-".concat(N)})}),ve(I,"renderReferenceElement",function(P,C,S){if(!P)return null;var g=I,x=g.clipPathId,k=I.state,O=k.xAxisMap,R=k.yAxisMap,N=k.offset,V=P.type.defaultProps||{},K=P.props,W=K.xAxisId,F=W===void 0?V.xAxisId:W,$=K.yAxisId,U=$===void 0?V.yAxisId:$;return D.cloneElement(P,{key:P.key||"".concat(C,"-").concat(S),xAxis:O[F],yAxis:R[U],viewBox:{x:N.left,y:N.top,width:N.width,height:N.height},clipPathId:x})}),ve(I,"renderActivePoints",function(P){var C=P.item,S=P.activePoint,g=P.basePoint,x=P.childIndex,k=P.isRange,O=[],R=C.props.key,N=C.item.type.defaultProps!==void 0?H(H({},C.item.type.defaultProps),C.item.props):C.item.props,V=N.activeDot,K=N.dataKey,W=H(H({index:x,dataKey:K,cx:S.x,cy:S.y,r:4,fill:k1(C.item),strokeWidth:2,stroke:"#fff",payload:S.payload,value:S.value},Me(V,!1)),Tp(V));return O.push(_.renderActiveDot(V,W,"".concat(R,"-activePoint-").concat(x))),g?O.push(_.renderActiveDot(V,H(H({},W),{},{cx:g.x,cy:g.y}),"".concat(R,"-basePoint-").concat(x))):k&&O.push(null),O}),ve(I,"renderGraphicChild",function(P,C,S){var g=I.filterFormatItem(P,C,S);if(!g)return null;var x=I.getTooltipEventType(),k=I.state,O=k.isTooltipActive,R=k.tooltipAxis,N=k.activeTooltipIndex,V=k.activeLabel,K=I.props.children,W=Vn(K,Lr),F=g.props,$=F.points,U=F.isRange,Y=F.baseLine,J=g.item.type.defaultProps!==void 0?H(H({},g.item.type.defaultProps),g.item.props):g.item.props,z=J.activeDot,te=J.hide,pe=J.activeBar,ge=J.activeShape,Ae=!!(!te&&O&&W&&(z||pe||ge)),be={};x!=="axis"&&W&&W.props.trigger==="click"?be={onClick:eh(I.handleItemMouseEnter,P.props.onClick)}:x!=="axis"&&(be={onMouseLeave:eh(I.handleItemMouseLeave,P.props.onMouseLeave),onMouseEnter:eh(I.handleItemMouseEnter,P.props.onMouseEnter)});var $e=D.cloneElement(P,H(H({},g.props),be));function Q(dt){return typeof R.dataKey=="function"?R.dataKey(dt.payload):null}if(Ae)if(N>=0){var re,ae;if(R.dataKey&&!R.allowDuplicatedCategory){var G=typeof R.dataKey=="function"?Q:"payload.".concat(R.dataKey.toString());re=l_($,G,V),ae=U&&Y&&l_(Y,G,V)}else re=$?.[N],ae=U&&Y&&Y[N];if(ge||pe){var me=P.props.activeIndex!==void 0?P.props.activeIndex:N;return[D.cloneElement(P,H(H(H({},g.props),be),{},{activeIndex:me})),null,null]}if(!Ve(re))return[$e].concat(Rl(I.renderActivePoints({item:g,activePoint:re,basePoint:ae,childIndex:N,isRange:U})))}else{var de,we=(de=I.getItemByXY(I.state.activeCoordinate))!==null&&de!==void 0?de:{graphicalItem:$e},ye=we.graphicalItem,Qe=ye.item,st=Qe===void 0?P:Qe,Vt=ye.childIndex,Tt=H(H(H({},g.props),be),{},{activeIndex:Vt});return[D.cloneElement(st,Tt),null,null]}return U?[$e,null,null]:[$e,null]}),ve(I,"renderCustomized",function(P,C,S){return D.cloneElement(P,H(H({key:"recharts-customized-".concat(S)},I.props),I.state))}),ve(I,"renderMap",{CartesianGrid:{handler:oh,once:!0},ReferenceArea:{handler:I.renderReferenceElement},ReferenceLine:{handler:oh},ReferenceDot:{handler:I.renderReferenceElement},XAxis:{handler:oh},YAxis:{handler:oh},Brush:{handler:I.renderBrush,once:!0},Bar:{handler:I.renderGraphicChild},Line:{handler:I.renderGraphicChild},Area:{handler:I.renderGraphicChild},Radar:{handler:I.renderGraphicChild},RadialBar:{handler:I.renderGraphicChild},Scatter:{handler:I.renderGraphicChild},Pie:{handler:I.renderGraphicChild},Funnel:{handler:I.renderGraphicChild},Tooltip:{handler:I.renderCursor,once:!0},PolarGrid:{handler:I.renderPolarGrid,once:!0},PolarAngleAxis:{handler:I.renderPolarAxis},PolarRadiusAxis:{handler:I.renderPolarAxis},Customized:{handler:I.renderCustomized}}),I.clipPathId="".concat((w=E.id)!==null&&w!==void 0?w:Og("recharts"),"-clip"),I.throttleTriggeredAfterMouseMove=WM(I.triggeredAfterMouseMove,(T=E.throttleDelay)!==null&&T!==void 0?T:1e3/60),I.state={},I}return Jve(_,y),Gve(_,[{key:"componentDidMount",value:function(){var w,T;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(w=this.props.margin.left)!==null&&w!==void 0?w:0,top:(T=this.props.margin.top)!==null&&T!==void 0?T:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var w=this.props,T=w.children,I=w.data,P=w.height,C=w.layout,S=Vn(T,Lr);if(S){var g=S.props.defaultIndex;if(!(typeof g!="number"||g<0||g>this.state.tooltipTicks.length-1)){var x=this.state.tooltipTicks[g]&&this.state.tooltipTicks[g].value,k=kb(this.state,I,g,x),O=this.state.tooltipTicks[g].coordinate,R=(this.state.offset.top+P)/2,N=C==="horizontal",V=N?{x:O,y:R}:{y:O,x:R},K=this.state.formattedGraphicalItems.find(function(F){var $=F.item;return $.type.name==="Scatter"});K&&(V=H(H({},V),K.props.points[g].tooltipPosition),k=K.props.points[g].tooltipPayload);var W={activeTooltipIndex:g,isTooltipActive:!0,activeLabel:x,activePayload:k,activeCoordinate:V};this.setState(W),this.renderCursor(S),this.accessibilityManager.setIndex(g)}}}},{key:"getSnapshotBeforeUpdate",value:function(w,T){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==T.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==w.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==w.margin){var I,P;this.accessibilityManager.setDetails({offset:{left:(I=this.props.margin.left)!==null&&I!==void 0?I:0,top:(P=this.props.margin.top)!==null&&P!==void 0?P:0}})}return null}},{key:"componentDidUpdate",value:function(w){c_([Vn(w.children,Lr)],[Vn(this.props.children,Lr)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var w=Vn(this.props.children,Lr);if(w&&typeof w.props.shared=="boolean"){var T=w.props.shared?"axis":"item";return s.indexOf(T)>=0?T:o}return o}},{key:"getMouseInfo",value:function(w){if(!this.container)return null;var T=this.container,I=T.getBoundingClientRect(),P=gae(I),C={chartX:Math.round(w.pageX-P.left),chartY:Math.round(w.pageY-P.top)},S=I.width/T.offsetWidth||1,g=this.inRange(C.chartX,C.chartY,S);if(!g)return null;var x=this.state,k=x.xAxisMap,O=x.yAxisMap,R=this.getTooltipEventType();if(R!=="axis"&&k&&O){var N=to(k).scale,V=to(O).scale,K=N&&N.invert?N.invert(C.chartX):null,W=V&&V.invert?V.invert(C.chartY):null;return H(H({},C),{},{xValue:K,yValue:W})}var F=kO(this.state,this.props.data,this.props.layout,g);return F?H(H({},C),F):null}},{key:"inRange",value:function(w,T){var I=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,P=this.props.layout,C=w/I,S=T/I;if(P==="horizontal"||P==="vertical"){var g=this.state.offset,x=C>=g.left&&C<=g.left+g.width&&S>=g.top&&S<=g.top+g.height;return x?{x:C,y:S}:null}var k=this.state,O=k.angleAxisMap,R=k.radiusAxisMap;if(O&&R){var N=to(O);return dk({x:C,y:S},N)}return null}},{key:"parseEventsOfWrapper",value:function(){var w=this.props.children,T=this.getTooltipEventType(),I=Vn(w,Lr),P={};I&&T==="axis"&&(I.props.trigger==="click"?P={onClick:this.handleClick}:P={onMouseEnter:this.handleMouseEnter,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd});var C=Tp(this.props,this.handleOuterEvent);return H(H({},C),P)}},{key:"addListener",value:function(){Rv.on(jv,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Rv.removeListener(jv,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(w,T,I){for(var P=this.state.formattedGraphicalItems,C=0,S=P.length;C<S;C++){var g=P[C];if(g.item===w||g.props.key===w.key||T===_i(g.item.type)&&I===g.childIndex)return g}return null}},{key:"renderClipPath",value:function(){var w=this.clipPathId,T=this.state.offset,I=T.left,P=T.top,C=T.height,S=T.width;return M.createElement("defs",null,M.createElement("clipPath",{id:w},M.createElement("rect",{x:I,y:P,height:C,width:S})))}},{key:"getXScales",value:function(){var w=this.state.xAxisMap;return w?Object.entries(w).reduce(function(T,I){var P=IO(I,2),C=P[0],S=P[1];return H(H({},T),{},ve({},C,S.scale))},{}):null}},{key:"getYScales",value:function(){var w=this.state.yAxisMap;return w?Object.entries(w).reduce(function(T,I){var P=IO(I,2),C=P[0],S=P[1];return H(H({},T),{},ve({},C,S.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(w){var T;return(T=this.state.xAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getYScaleByAxisId",value:function(w){var T;return(T=this.state.yAxisMap)===null||T===void 0||(T=T[w])===null||T===void 0?void 0:T.scale}},{key:"getItemByXY",value:function(w){var T=this.state,I=T.formattedGraphicalItems,P=T.activeItem;if(I&&I.length)for(var C=0,S=I.length;C<S;C++){var g=I[C],x=g.props,k=g.item,O=k.type.defaultProps!==void 0?H(H({},k.type.defaultProps),k.props):k.props,R=_i(k.type);if(R==="Bar"){var N=(x.data||[]).find(function(F){return Uhe(w,F)});if(N)return{graphicalItem:g,payload:N}}else if(R==="RadialBar"){var V=(x.data||[]).find(function(F){return dk(w,F)});if(V)return{graphicalItem:g,payload:V}}else if(Qg(g,P)||Xg(g,P)||If(g,P)){var K=Wpe({graphicalItem:g,activeTooltipItem:P,itemData:O.data}),W=O.activeIndex===void 0?K:O.activeIndex;return{graphicalItem:H(H({},g),{},{childIndex:W}),payload:If(g,P)?O.data[K]:g.props.data[K]}}}return null}},{key:"render",value:function(){var w=this;if(!rA(this))return null;var T=this.props,I=T.children,P=T.className,C=T.width,S=T.height,g=T.style,x=T.compact,k=T.title,O=T.desc,R=AO(T,Bve),N=Me(R,!1);if(x)return M.createElement(fO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement(d_,_c({},N,{width:C,height:S,title:k,desc:O}),this.renderClipPath(),oA(I,this.renderMap)));if(this.props.accessibilityLayer){var V,K;N.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,N.role=(K=this.props.role)!==null&&K!==void 0?K:"application",N.onKeyDown=function(F){w.accessibilityManager.keyboardEvent(F)},N.onFocus=function(){w.accessibilityManager.focus()}}var W=this.parseEventsOfWrapper();return M.createElement(fO,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},M.createElement("div",_c({className:Fe("recharts-wrapper",P),style:H({position:"relative",cursor:"default",width:C,height:S},g)},W,{ref:function($){w.container=$}}),M.createElement(d_,_c({},N,{width:C,height:S,title:k,desc:O,style:i0e}),this.renderClipPath(),oA(I,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(D.Component);return ve(b,"displayName",n),ve(b,"defaultProps",H({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),ve(b,"getDerivedStateFromProps",function(y,_){var E=y.dataKey,w=y.data,T=y.children,I=y.width,P=y.height,C=y.layout,S=y.stackOffset,g=y.margin,x=_.dataStartIndex,k=_.dataEndIndex;if(_.updateId===void 0){var O=OO(y);return H(H(H({},O),{},{updateId:0},p(H(H({props:y},O),{},{updateId:0}),_)),{},{prevDataKey:E,prevData:w,prevWidth:I,prevHeight:P,prevLayout:C,prevStackOffset:S,prevMargin:g,prevChildren:T})}if(E!==_.prevDataKey||w!==_.prevData||I!==_.prevWidth||P!==_.prevHeight||C!==_.prevLayout||S!==_.prevStackOffset||!Ks(g,_.prevMargin)){var R=OO(y),N={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},V=H(H({},kO(_,w,C)),{},{updateId:_.updateId+1}),K=H(H(H({},R),N),V);return H(H(H({},K),p(H({props:y},K),_)),{},{prevDataKey:E,prevData:w,prevWidth:I,prevHeight:P,prevLayout:C,prevStackOffset:S,prevMargin:g,prevChildren:T})}if(!c_(T,_.prevChildren)){var W,F,$,U,Y=Vn(T,Tl),J=Y&&(W=(F=Y.props)===null||F===void 0?void 0:F.startIndex)!==null&&W!==void 0?W:x,z=Y&&($=(U=Y.props)===null||U===void 0?void 0:U.endIndex)!==null&&$!==void 0?$:k,te=J!==x||z!==k,pe=!Ve(w),ge=pe&&!te?_.updateId:_.updateId+1;return H(H({updateId:ge},p(H(H({props:y},_),{},{updateId:ge,dataStartIndex:J,dataEndIndex:z}),_)),{},{prevChildren:T,dataStartIndex:J,dataEndIndex:z})}return null}),ve(b,"renderActiveDot",function(y,_,E){var w;return D.isValidElement(y)?w=D.cloneElement(y,_):Oe(y)?w=y(_):w=M.createElement(hL,_),M.createElement(qt,{className:"recharts-active-dot",key:E},w)}),function(_){return M.createElement(b,_)}},m0e=p0e({chartName:"BarChart",GraphicalChild:Co,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:ny},{axisType:"yAxis",AxisComp:ry}],formatAxisMap:gge});const g0e=[{name:"Jan",visits:4e3,submissions:2400},{name:"Feb",visits:3e3,submissions:1398},{name:"Mar",visits:2e3,submissions:9800},{name:"Apr",visits:2780,submissions:3908},{name:"May",visits:1890,submissions:4800},{name:"Jun",visits:2390,submissions:3800}];function y0e(){return m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-8",children:"Analytics"}),m.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-8",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Traffic Overview"}),m.jsx("div",{className:"h-[400px]",children:m.jsx(uae,{width:"100%",height:"100%",children:m.jsxs(m0e,{data:g0e,children:[m.jsx(zL,{strokeDasharray:"3 3"}),m.jsx(ny,{dataKey:"name"}),m.jsx(ry,{}),m.jsx(Lr,{}),m.jsx(Co,{dataKey:"visits",fill:"#3b82f6",name:"Visits"}),m.jsx(Co,{dataKey:"submissions",fill:"#10b981",name:"Submissions"})]})})})]})]})}const v0e=[{id:"1",name:"Premium Directory Spotlight",placement:"Homepage Hero",startDate:"2024-03-01",endDate:"2024-03-31",status:"Active",impressions:12500,clicks:450},{id:"2",name:"Featured Listing Banner",placement:"Sidebar",startDate:"2024-03-15",endDate:"2024-04-15",status:"Scheduled",impressions:0,clicks:0},{id:"3",name:"Directory Special Offer",placement:"In-List",startDate:"2024-02-01",endDate:"2024-02-28",status:"Expired",impressions:28900,clicks:890}];function _0e(){const[t,e]=D.useState(""),[n,r]=D.useState(!1),i=v0e.filter(a=>a.name.toLowerCase().includes(t.toLowerCase())),o=a=>{switch(a){case"Active":return"bg-green-100 text-green-800";case"Scheduled":return"bg-blue-100 text-blue-800";case"Expired":return"bg-gray-100 text-gray-800"}};return m.jsxs("div",{children:[m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:"Advertisement Management"}),m.jsxs("button",{onClick:()=>r(!0),className:"inline-flex items-center gap-2 px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700",children:[m.jsx(xD,{className:"h-4 w-4"}),"New Advertisement"]})]}),m.jsx("div",{className:"mb-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(hg,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400"}),m.jsx("input",{type:"text",placeholder:"Search advertisements...",value:t,onChange:a=>e(a.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500"})]})}),m.jsx("div",{className:"bg-white shadow-sm rounded-lg overflow-hidden",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Placement"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Duration"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Performance"}),m.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.map(a=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm font-medium text-gray-900",children:a.name})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("div",{className:"text-sm text-gray-900",children:a.placement})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"text-sm text-gray-900",children:[a.startDate," - ",a.endDate]})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${o(a.status)}`,children:a.status})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsxs("div",{className:"text-sm text-gray-900",children:[a.impressions.toLocaleString()," views",m.jsx("br",{}),a.clicks.toLocaleString()," clicks"]})}),m.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:[m.jsx("button",{className:"text-gray-600 hover:text-gray-900 mr-3",children:m.jsx(dW,{className:"h-4 w-4"})}),m.jsx("button",{className:"text-blue-600 hover:text-blue-900 mr-3",children:m.jsx(wD,{className:"h-4 w-4"})}),m.jsx("button",{className:"text-red-600 hover:text-red-900",children:m.jsx(s_,{className:"h-4 w-4"})})]})]},a.id))})]})})]})}const b0e=[{name:"Dashboard",icon:yW,path:""},{name:"Listings",icon:_D,path:"listings"},{name:"Users",icon:SD,path:"users"},{name:"Advertisements",icon:wW,path:"ads"},{name:"Analytics",icon:aW,path:"analytics"},{name:"Settings",icon:SW,path:"settings"}];function w0e(){const[t,e]=D.useState("dashboard");return m.jsxs("div",{className:"min-h-screen bg-gray-100",children:[m.jsx(zW,{navigation:b0e,currentView:t,onViewChange:e}),m.jsxs("div",{className:"lg:pl-72",children:[m.jsx(qW,{}),m.jsx("main",{className:"py-8",children:m.jsx("div",{className:"px-4 sm:px-6 lg:px-8",children:m.jsxs(eR,{children:[m.jsx(Fn,{path:"/",element:m.jsx(zI,{})}),m.jsx(Fn,{path:"/listings",element:m.jsx(YW,{})}),m.jsx(Fn,{path:"/users",element:m.jsx(ZW,{})}),m.jsx(Fn,{path:"/ads",element:m.jsx(_0e,{})}),m.jsx(Fn,{path:"/analytics",element:m.jsx(y0e,{})}),m.jsx(Fn,{path:"/settings",element:m.jsx(zI,{})})]})})})]})]})}function x0e(){const{user:t,sendVerificationEmail:e,reauthenticate:n}=Wl(),[r,i]=D.useState({name:t?.displayName||"",currentPassword:"",newPassword:"",confirmPassword:""}),[o,a]=D.useState(""),[s,l]=D.useState(""),[u,c]=D.useState(!1),[f,h]=D.useState(!1),p=async y=>{if(y.preventDefault(),!!t){a(""),l(""),c(!0);try{if(r.name!==t.displayName&&(await FR(t,{displayName:r.name}),l("Profile updated successfully")),r.newPassword){if(!r.currentPassword){a("Current password is required to change password");return}if(r.newPassword.length<6){a("New password must be at least 6 characters");return}if(r.newPassword!==r.confirmPassword){a("New passwords do not match");return}await n(r.currentPassword),await R5(t,r.newPassword),l("Password updated successfully"),i(_=>({..._,currentPassword:"",newPassword:"",confirmPassword:""}))}}catch(_){_.code==="auth/wrong-password"?a("Current password is incorrect"):a(_.message||"Failed to update profile")}finally{c(!1)}}},b=async()=>{try{await e(),h(!0),l("Verification email sent successfully")}catch(y){a(y.message||"Failed to send verification email")}};return m.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 py-12",children:m.jsx("div",{className:"max-w-lg mx-auto px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"bg-white dark:bg-gray-800 shadow rounded-lg p-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-6",children:"Profile Settings"}),!t?.emailVerified&&m.jsx("div",{className:"mb-6 p-4 bg-amber-100 dark:bg-amber-900/50 rounded-lg",children:m.jsxs("div",{className:"flex items-start",children:[m.jsx(bW,{className:"h-5 w-5 text-amber-800 dark:text-amber-200 mt-0.5"}),m.jsxs("div",{className:"ml-3",children:[m.jsx("h3",{className:"text-sm font-medium text-amber-800 dark:text-amber-200",children:"Verify your email"}),m.jsx("p",{className:"mt-1 text-sm text-amber-700 dark:text-amber-300",children:"Please verify your email address to access all features."}),f?m.jsx("p",{className:"mt-2 text-sm text-amber-700 dark:text-amber-300",children:"Verification email sent. Please check your inbox."}):m.jsx("button",{onClick:b,className:"mt-2 text-sm font-medium text-amber-800 dark:text-amber-200 hover:text-amber-900 dark:hover:text-amber-100",children:"Send verification email"})]})]})}),o&&m.jsx("div",{className:"mb-4 rounded-md bg-red-50 dark:bg-red-900/30 p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx(Xf,{className:"h-5 w-5 text-red-400"}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-red-700 dark:text-red-200",children:o})})]})}),s&&m.jsx("div",{className:"mb-4 rounded-md bg-green-50 dark:bg-green-900/30 p-4",children:m.jsxs("div",{className:"flex",children:[m.jsx(vD,{className:"h-5 w-5 text-green-400"}),m.jsx("div",{className:"ml-3",children:m.jsx("p",{className:"text-sm text-green-700 dark:text-green-200",children:s})})]})}),m.jsxs("form",{onSubmit:p,className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Display Name"}),m.jsx("input",{type:"text",id:"name",value:r.name,onChange:y=>i({...r,name:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Email"}),m.jsxs("div",{className:"mt-1 flex items-center",children:[m.jsx("span",{className:"block w-full rounded-md border border-gray-300 dark:border-gray-600 px-3 py-2 text-gray-700 dark:text-gray-300 bg-gray-50 dark:bg-gray-700 sm:text-sm",children:t?.email}),t?.emailVerified&&m.jsx("span",{className:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200",children:"Verified"})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white",children:"Change Password"}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"current-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Current Password"}),m.jsx("input",{type:"password",id:"current-password",value:r.currentPassword,onChange:y=>i({...r,currentPassword:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"new-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"New Password"}),m.jsx("input",{type:"password",id:"new-password",value:r.newPassword,onChange:y=>i({...r,newPassword:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"})]}),m.jsxs("div",{children:[m.jsx("label",{htmlFor:"confirm-password",className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),m.jsx("input",{type:"password",id:"confirm-password",value:r.confirmPassword,onChange:y=>i({...r,confirmPassword:y.target.value}),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-primary-500 focus:ring-primary-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white sm:text-sm"})]})]}),m.jsx("div",{className:"flex justify-end",children:m.jsx("button",{type:"submit",disabled:u,className:"inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:u?"Saving...":"Save Changes"})})]})]})})})}function E0e(){return m.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center px-4 sm:px-6 lg:px-8",children:m.jsx("div",{className:"max-w-md w-full text-center",children:m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"relative",children:[m.jsx("div",{className:"text-9xl font-bold text-primary-600/10 dark:text-primary-500/10",children:"404"}),m.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"Page not found"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-300",children:"Sorry, we couldn't find the page you're looking for."})]})})]}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsxs(oo,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 transition-colors w-full sm:w-auto justify-center",children:[m.jsx(gW,{className:"h-4 w-4"}),"Back to Home"]}),m.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center gap-2 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm text-sm font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-800 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors w-full sm:w-auto justify-center",children:[m.jsx(oW,{className:"h-4 w-4"}),"Go Back"]})]}),m.jsxs("div",{className:"mt-8 text-sm text-gray-500 dark:text-gray-400",children:["If you believe this is a mistake, please"," ",m.jsx("a",{href:"mailto:support@example.com",className:"text-primary-600 dark:text-primary-400 hover:underline",children:"contact support"}),"."]})]})})})}function T0e(){return m.jsx(X3,{children:m.jsx(Z7,{children:m.jsx(tW,{children:m.jsx(J7,{children:m.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 transition-colors",children:[m.jsx(kW,{}),m.jsxs(eR,{children:[m.jsx(Fn,{path:"/",element:m.jsx(UW,{})}),m.jsx(Fn,{path:"/login",element:m.jsx(OW,{})}),m.jsx(Fn,{path:"/signup",element:m.jsx(CW,{})}),m.jsx(Fn,{path:"/profile",element:m.jsx(FI,{children:m.jsx(x0e,{})})}),m.jsx(Fn,{path:"/admin/*",element:m.jsx(FI,{children:m.jsx(w0e,{})})}),m.jsx(Fn,{path:"*",element:m.jsx(E0e,{})})]})]})})})})})}qN(document.getElementById("root")).render(m.jsx(D.StrictMode,{children:m.jsx(T0e,{})}));
